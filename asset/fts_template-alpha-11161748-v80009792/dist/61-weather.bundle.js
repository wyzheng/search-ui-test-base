(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{1378:function(t,e,a){},1379:function(t,e,a){},2004:function(t,e,a){"use strict";a(1378)},2005:function(t,e,a){"use strict";a(1379)},2217:function(t,e,a){"use strict";a.r(e);var i=a(0),r=a(1999),s=a(2063),o=a(2147),n=a(2149),l=a(2150);r.a([o.a,n.a,l.a]);var c={hour:"24hour_detail_slide",day:"15day_detail_slide"},u={hour:"24小时天气",day:"15天天气"},h={name:"WeatherBlock",mixins:[i.m,i.k],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},blockType:{type:String,default:""},blockData:{type:Array,default:function(){return[]}},chartConfig:{type:Object,default:function(){return{}}}},data:function(){return{viewWidth:document.querySelector("#body").clientWidth,chartLine:null,scrollOriginX:0,title:u}},computed:{itemWidth:function(){return(this.viewWidth-16-32)/4.5},scrollWidth:function(){return(this.itemWidth+8)*this.blockData.length-8}},mounted:function(){var t=this;this.$nextTick((function(){t.drawLineChart()}))},methods:{drawLineChart:function(){this.chartLine=s.b(this.$refs.chartContainer,"shine");var t={grid:{left:this.scrollWidth/this.blockData.length/2,right:this.scrollWidth/this.blockData.length/2,top:8,bottom:8},yAxis:{type:"value",show:!1,scale:!0}};this.chartLine.setOption(Object.assign(t,this.chartConfig))},handleSlide:function(){var t=this,e=this.$refs.container.scrollLeft;if(this.scrollOriginX!=e){this.scrollOriginX=e;var a=this.item.list.find((function(e){return e.title===c[t.blockType]})),i=a.cookie,r=a.subScene,s=a.title;this.M_clickReport({cookie:i,title:s,clickZone:"hour"==this.blockType?4:5,clickContent:this.title[this.blockType],expand:r})}},onTapItem:function(t,e){t.jumpInfo&&(this.M_serviceSearchGo(t),this.M_clickReport({clickZone:"hour"==this.blockType?4:5,clickContent:"weather_".concat(this.blockType,"_").concat(e+1),expand:this.M_getJumpSubScene(t.jumpInfo)}))}}},p=(a(2004),a(4)),d={name:"Weather",components:{block:Object(p.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{class:"weather-"+t.blockType},[a("div",{staticClass:"title"},[t._v(t._s(t.title[t.blockType]))]),a("div",{directives:[{name:"arrow-scroll",rawName:"v-arrow-scroll",value:{step:4*t.itemWidth},expression:"{ step: itemWidth * 4 }"}],ref:"container",staticClass:"slide-scroll"},[a("div",{staticClass:"slide-inner",style:{width:t.scrollWidth+"px"}},[t._l(t.blockData,(function(e,i){return[a("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:i,staticClass:"slide-item",class:{yesterday:"day"==t.blockType&&0==i,active__mask:e.jumpInfo},attrs:{role:"option"},on:{click:function(a){return t.onTapItem(e,i)},touchend:t.handleSlide}},[a("div",{staticClass:"slide-item_top"},[e.hourDesc?a("span",{staticClass:"hour"},[t._v(t._s(e.hourDesc))]):t._e(),e.wday?a("span",{staticClass:"day"},[t._v(t._s(e.wday))]):t._e(),e.dateDesc?a("span",{staticClass:"date"},[t._v(t._s(e.dateDesc))]):t._e(),e.iconUrl?a("ui-image",{staticClass:"weather-icon",attrs:{url:e.iconUrl,type:"img",size:24}}):t._e(),"day"==t.blockType?a("span",{staticClass:"temperature"},[a("span",{staticClass:"ui-aria-hidden"},[t._v("最高气温")]),t._v(t._s(e.temperatureMax))]):t._e()],1),a("div",{staticClass:"slide-item_bottom"},["hour"==t.blockType?a("span",{staticClass:"temperature"},[a("span",{staticClass:"ui-aria-hidden"},[t._v("平均气温")]),t._v(t._s(e.temperature))]):t._e(),"day"==t.blockType?a("span",{staticClass:"temperature"},[a("span",{staticClass:"ui-aria-hidden"},[t._v("最低气温")]),t._v(t._s(e.temperatureMin))]):t._e(),e.airQualityDesc?a("span",{staticClass:"quality"},[t._v(t._s(e.airQualityDesc))]):t._e()])])]})),a("div",{ref:"chartContainer",class:t.blockType+"-chart",style:{width:t.scrollWidth+"px"}})],2)])])}),[],!1,null,"1945bb02",null).exports},mixins:[i.m,i.k],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{}},computed:{weatherData:function(){return this.source.data.weatherData},weatherHour:function(){return this.weatherData.weatherHour},weatherDay:function(){return this.weatherData.weatherDay},hoursChartConfig:function(){var t=[],e=[];return this.weatherHour.forEach((function(a,i){t.push(0===i?{value:a.temperature,itemStyle:{color:"var(--select-point-color)"}}:a.temperature),e.push(a.hourDesc)})),{xAxis:{type:"category",boundaryGap:!1,data:e,show:!1},series:[{name:"平均气温",type:"line",data:t,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-2)",width:1},silent:!0}]}},daysChartConfig:function(){var t=[],e=[],a=[],i=[],r=[];return this.weatherDay.forEach((function(s,o){r.push(s.wday),0===o?(t.push("-"),e.push("-"),a.push(s.temperatureMax),i.push(s.temperatureMin)):1===o?(t.push({value:s.temperatureMax,itemStyle:{color:"var(--select-point-color)"}}),e.push({value:s.temperatureMin,itemStyle:{color:"var(--select-point-color)"}}),a.push({value:s.temperatureMax,itemStyle:{opacity:0}}),i.push({value:s.temperatureMin,itemStyle:{opacity:0}})):(t.push(s.temperatureMax),e.push(s.temperatureMin),a.push("-"),i.push("-"))})),{xAxis:{type:"category",boundaryGap:!1,data:r,show:!1},series:[{name:"最高气温",type:"line",data:t,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-2)",width:1},silent:!0},{name:"最低气温",type:"line",data:e,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-3)",width:1},silent:!0},{name:"昨天到今天最高气温",type:"line",data:a,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-3)",width:1,dashOffset:4,type:[6,4]},silent:!0},{name:"昨天到今天最低气温",type:"line",data:i,smooth:.25,symbolSize:6,itemStyle:{color:"var(--default-point-color)"},lineStyle:{color:"var(--FG-3)",width:1,dashOffset:4,type:[6,4]},silent:!0}]}}}},y=(a(2005),Object(p.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weather-wrapper"},[a("block",t._b({attrs:{"block-type":"hour","block-data":t.weatherData.weatherHour,"chart-config":t.hoursChartConfig}},"block",t.$props,!1)),a("block",t._b({attrs:{"block-type":"day","block-data":t.weatherData.weatherDay,"chart-config":t.daysChartConfig}},"block",t.$props,!1))],1)}),[],!1,null,"0928947a",null));e.default=y.exports}}]);