(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1196:function(t,e,i){},1197:function(t,e,i){},1198:function(t,e,i){},1833:function(t,e,i){"use strict";i(1196)},1834:function(t,e,i){"use strict";i(1197)},1835:function(t,e,i){"use strict";i(1198)},2191:function(t,e,i){"use strict";i.r(e);var n=i(0),a={name:"Header",components:{UiAvatar:i(734).a},mixins:[n.k,n.m],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},paddingTop:{type:Number,default:16},paddingBottom:{type:Number,default:16},isCardStyle:{type:Boolean},isFirstCardStyle:{type:Boolean},isNonFirstCardStyle:{type:Boolean},isVerticalStyle:{type:Boolean}},data:function(){return{visibleAvatarCount:1}},computed:{readInfoStyle:function(){return{padding:"".concat(this.paddingTop,"px 16px ").concat(this.paddingBottom,"px")}},readInfoClass:function(){return{"read-info--card-style":this.isCardStyle,"read-info--first-card-style":this.isFirstCardStyle}},descListClass:function(){var t;return{"desc-list--space-between":this.showInlineFriendInfo||2===(null===(t=this.item.descList)||void 0===t?void 0:t.length)&&this.isVerticalStyle}},avatarList:function(){var t;return(null===(t=this.item.friendInfo)||void 0===t?void 0:t.avatars)||[]},visibleAvatarList:function(){return this.avatarList.slice(0,this.visibleAvatarCount)},hasFriendInfo:function(){var t,e;return!(null===(t=this.item.friendInfo)||void 0===t||null===(e=t.avatars)||void 0===e||!e.length)},showInlineFriendInfo:function(){var t,e=(null===(t=this.item.descList)||void 0===t?void 0:t.length)||0;return this.hasFriendInfo&&!this.isCardStyle&&1===e},showNewLineFriendInfo:function(){return this.hasFriendInfo&&this.isCardStyle}},watch:{avatarList:{handler:function(){var t=this;this.visibleAvatarCount=1,this.$nextTick((function(){t.onAdjustAvatarList()}))},immediate:!0}},methods:{onTap:function(t){t.jumpInfo&&(this.M_go(t.jumpInfo),this.M_clickReport({clickZone:1,clickContent:t.title},t))},onTapButton:function(t){t.jumpInfo&&(this.M_go(t.jumpInfo),this.M_clickReport({clickZone:2,clickContent:t.title},t))},onAdjustAvatarList:function(){if(this.avatarList.length>0)if(this.showNewLineFriendInfo){var t,e,i=this.$refs,n=i.container,a=i.avatar,s=i.text,r=(null==n?void 0:n.clientWidth)||0,o=(null==a||null===(t=a[0])||void 0===t||null===(e=t.$el)||void 0===e?void 0:e.clientWidth)||0,l=(null==s?void 0:s.clientWidth)||0;r>0&&o>0&&(this.visibleAvatarCount=Math.max(1,Math.floor((r-(l>0?l+4:0))/(o+4))))}else if(this.showInlineFriendInfo){var d,c,u,p=this.$refs,m=p.container,f=p.avatar,v=p.text,h=p.desc,b=(null==m?void 0:m.clientWidth)||0,y=(null==f||null===(d=f[0])||void 0===d||null===(c=d.$el)||void 0===c?void 0:c.clientWidth)||0,I=(null==v?void 0:v.clientWidth)||0,_=(null==h||null===(u=h[0])||void 0===u?void 0:u.clientWidth)||0;b>0&&y>0&&(this.visibleAvatarCount=Math.max(1,Math.floor((b-(I>0?I+4:0)-(_>0?_+12:0))/(y+4))))}}}},s=(i(1833),i(4)),r=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"read-info active__item",class:t.readInfoClass,style:t.readInfoStyle,attrs:{"data-report-id":t.M_itemReportId(t.item.reportId,1)},on:{click:function(e){return e.stopPropagation(),t.onTap(t.item)}}},[t.item.coverUrl?i("div",{directives:[{name:"image",rawName:"v-image",value:t.item.coverUrl,expression:"item.coverUrl"}],staticClass:"read-info__cover"}):t._e(),i("div",{staticClass:"read-info__main"},[i("div",{staticClass:"read-info__main-content"},[i("div",{staticClass:"read-info-basic"},[i("div",{staticClass:"read-info-basic__main"},[i("div",{staticClass:"title"},[i("span",{staticClass:"title__text",domProps:{innerHTML:t._s(t.xss(t.item.title))}}),t.item.titleTags&&t.item.titleTags.append&&t.item.titleTags.append.length?i("ui-tags",{staticClass:"title__tags",attrs:{tags:t.item.titleTags.append}}):t._e()],1),t._l(t.item.textInfos,(function(e,n){return i("div",{key:n,class:"text ellipsis_"+(e.ellipsis||1),domProps:{innerHTML:t._s(t.xss(e.desc))}})})),t.item.descList&&t.item.descList.length>0?i("div",{ref:"container",staticClass:"desc-list",class:t.descListClass},[t._l(t.item.descList,(function(e,n){return i("div",{key:n,ref:"desc",refInFor:!0,staticClass:"desc-list__item"},[t._v(t._s(e)+"\n            ")])})),t.showInlineFriendInfo?i("div",{staticClass:"avatars-group avatars-group--inline",attrs:{"data-report-id":t.M_itemReportId(t.item.friendInfo.reportId,3)},on:{click:function(e){return t.M_clickReport({clickZone:3,clickContent:t.item.friendInfo.text},t.item.friendInfo)}}},[i("span",{ref:"text"},[t._v(t._s(t.item.friendInfo.text))]),t._l(t.visibleAvatarList,(function(t,e){return i("ui-avatar",{key:e,ref:"avatar",refInFor:!0,staticClass:"avatar",attrs:{src:t,size:20}})}))],2):t._e()],2):t._e()],2),t.item.button?i("div",{staticClass:"read-info-basic__button-wrap"},[i("ui-button",{staticClass:"read-info-basic__button",attrs:{type:t.item.button.buttonType,"data-report-id":t.M_itemReportId(t.item.button.reportId,2)},on:{tap:function(e){return e.stopPropagation(),t.onTapButton(t.item.button)}}},[t._v("\n            "+t._s(t.item.button.title)+"\n          ")])],1):t._e()]),t.showNewLineFriendInfo?i("div",{ref:"container",staticClass:"avatars-group avatars-group--new-line",attrs:{"data-report-id":t.M_itemReportId(t.item.friendInfo.reportId,3)},on:{click:function(e){return t.M_clickReport({clickZone:3,clickContent:t.item.friendInfo.text},t.item.friendInfo)}}},[t._l(t.visibleAvatarList,(function(t,e){return i("ui-avatar",{key:e,ref:"avatar",refInFor:!0,staticClass:"avatar",attrs:{src:t,size:26}})})),i("span",{ref:"text"},[t._v(t._s(t.item.friendInfo.text))])],2):t._e()])])])}),[],!1,null,"79b59cd6",null).exports,o={name:"SubItem",mixins:[n.k,n.m],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},paddingTop:{type:Number,default:16},paddingBottom:{type:Number,default:16},topLineStyle:{type:String,validator:function(t){return!t||["solid","dashed"].includes(t)}},subItem:{type:Object}},computed:{subItemHeaderClass:function(){return{"sub-item-header--solid-line":"solid"===this.topLineStyle,"sub-item-header--dashed-line":"dashed"===this.topLineStyle,active__item:!!this.subItem.header.jumpInfo}},subItemHeaderStyle:function(){return{padding:"".concat(this.paddingTop,"px 16px ").concat(this.paddingBottom,"px")}}},methods:{onTapSection:function(t,e){if(t.jumpInfo){var i=(e||t).reportId,n=i.indexOf("简介")>=0?5:i.indexOf("精彩点评")>=0?6:i.indexOf("点评人数")>=0?7:0;this.M_go(t.jumpInfo),this.M_clickReport({clickZone:n,clickContent:t.title},e||t)}}}},l=(i(1834),Object(s.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"sub-item-header",class:t.subItemHeaderClass,style:t.subItemHeaderStyle,attrs:{"data-report-id":t.M_itemReportId(t.subItem.reportId,1)},on:{click:function(e){return e.stopPropagation(),t.onTapSection(t.subItem.header,t.subItem)}}},[i("div",{staticClass:"header-item"},[i("div",{staticClass:"header-title"},[i("span",{attrs:{role:"option"},domProps:{innerHTML:t._s(t.xss(t.subItem.header.title))}})]),t.subItem.header.jumpInfo&&t.subItem.header.moreText?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"header-button active__mask",attrs:{role:"button","data-report-id":t.M_itemReportId(t.subItem.header.reportId,2)},on:{click:function(e){return e.stopPropagation(),t.onTapSection(t.subItem.header)}}},[i("span",[t._v(t._s(t.subItem.header.moreText))]),t.subItem.header.moreText?i("ui-arrow",{attrs:{gap:"",align:"flex"}}):t._e()],1):t._e()]),t._l(t.subItem.textInfos||[],(function(e,n){return i("ui-clamp",{key:n,staticClass:"sub-item-text",attrs:{autoresize:"","max-lines":e.ellipsis,"raw-html":t.xss(e.desc)}})}))],2)}),[],!1,null,"33afdbea",null).exports),d=1,c=2,u={name:"Fiction",components:{FictionHeader:r,FictionSubItem:l},mixins:[n.k,n.m],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},computed:{isCardStyle:function(){return this.isFirstCardStyle||this.isNonFirstCardStyle},isFirstCardStyle:function(){return!this.item.style},isNonFirstCardStyle:function(){return this.item.style===d},isVerticalStyle:function(){return this.item.style===c}}},p=(i(1835),Object(s.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"expose_log_elem read",attrs:{"data-id":t.M_exposeId()}},[i("fiction-header",t._b({attrs:{"is-card-style":t.isCardStyle,"is-first-card-style":t.isFirstCardStyle,"is-non-first-card-style":t.isNonFirstCardStyle,"is-vertical-style":t.isVerticalStyle,"padding-top":t.isCardStyle||t.isVerticalStyle?16:12,"padding-bottom":t.isCardStyle||!t.item.subItems||0===t.item.subItems.length?16:12,"parent-box-report-id":t.boxReportId,"parent-doc-report-id":t.docReportId,"parent-item-pos":"1:list"}},"fiction-header",t.$props,!1)),t._l(t.item.subItems,(function(e,n){return i("fiction-sub-item",t._b({key:n,attrs:{"sub-item":e,"padding-top":t.isCardStyle?16:12,"padding-bottom":t.isCardStyle||t.isVerticalStyle&&n===t.item.subItems.length-1?16:12,"top-line-style":t.isCardStyle?"solid":"dashed","parent-box-report-id":t.boxReportId,"parent-doc-report-id":t.docReportId,"parent-item-pos":n+2+":list"}},"fiction-sub-item",t.$props,!1))}))],2)}),[],!1,null,"8cdb7b12",null));e.default=p.exports},683:function(t,e,i){},734:function(t,e,i){"use strict";var n=i(6),a=i.n(n),s=i(7),r=i.n(s),o=new a.a({id:"ui-avatar.d",use:"ui-avatar.d-usage",viewBox:"0 0 132 132",content:'<symbol viewBox="0 0 132 132" xmlns="http://www.w3.org/2000/svg" id="ui-avatar.d"><path fill="#F1F1F1" d="M0 0h132v132H0z" /><path fill="#C9C9C9" d="M30 96.222v-2.586c0-2.588 1.888-5.604 4.222-6.74l21.45-10.435c3.11-1.513 3.834-4.865 1.587-7.52l-1.37-1.618c-2.787-3.294-5.047-9.447-5.047-13.755V47.11C50.842 38.765 57.646 32 66 32c8.371 0 15.158 6.773 15.158 15.112v6.46c0 4.303-2.27 10.474-5.047 13.756l-1.37 1.62c-2.234 2.64-1.536 6 1.587 7.518l21.45 10.431c2.332 1.134 4.222 4.131 4.222 6.74v2.585A3.778 3.778 0 0 1 98.222 100H33.778A3.778 3.778 0 0 1 30 96.222Z" /></symbol>'}),l=(r.a.add(o),o),d={name:"UiAvatar",props:{src:String,size:{type:[String,Number]},round:{type:Boolean,default:!1}},data:function(){return{url:this.src}},computed:{style:function(){var t=this.url,e=this.size,i=this.round,n={backgroundImage:'url("'.concat(t,'")')};return e&&("number"==typeof e?(n.width="".concat(e,"px"),n.height="".concat(e,"px"),n.borderRadius="".concat(Math.ceil(e/10),"px")):(n.width=e,n.height=e)),i&&(n.borderRadius="".concat(e/2,"px")),n}},watch:{src:function(t){this.replaceUrl(t)}},beforeMount:function(){this.replaceUrl(this.src)},methods:{replaceUrl:function(t){var e=this;this.url=t;var i=new Image,n=+new Date+Math.random();this.mutex=n,i.onerror=function(){e.mutex===n&&(e.url=l)},i.src=t}}},c=(i(770),i(4)),u=Object(c.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"load-background",rawName:"v-load-background:avatar",value:this.src,expression:"src",arg:"avatar"}],staticClass:"ui-avatar",style:this.style})}),[],!1,null,"7bdb579d",null).exports;u.install=function(t){t.component(u.name,u)};e.a=u},770:function(t,e,i){"use strict";i(683)}}]);