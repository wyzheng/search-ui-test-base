(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{1445:function(t,e,n){"use strict";n(834)},1446:function(t,e,n){"use strict";n(835)},1447:function(t,e,n){"use strict";n(836)},1448:function(t,e,n){"use strict";n(837)},1449:function(t,e,n){"use strict";n(838)},1450:function(t,e,n){"use strict";n(839)},1451:function(t,e,n){"use strict";n(840)},1452:function(t,e,n){"use strict";n(841)},1453:function(t,e,n){"use strict";n(842)},1454:function(t,e,n){"use strict";n(843)},1455:function(t,e,n){"use strict";n(844)},1456:function(t,e,n){"use strict";n(845)},1457:function(t,e,n){"use strict";n(846)},1458:function(t,e,n){"use strict";n(847)},1459:function(t,e,n){"use strict";n(848)},1460:function(t,e,n){"use strict";n(849)},1461:function(t,e,n){"use strict";n(850)},1466:function(t,e,n){"use strict";n(851)},1472:function(t,e,n){"use strict";n(852)},2160:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),s=n(24),o=n.n(s),a={},c=(n(1445),n(4)),u=Object(c.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"tail"})}),[],!1,null,"828e560e",null).exports,d=n(0),p=n(19),l=n(17),h=n(2),f=n(32),m=n.n(f),y=n(33),g=n.n(y),v=n(23),_=n.n(v),b=n(16),I=n(11),x=n(50),w=n(810);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S={props:{items:{type:Array,default:function(){return[]}}},data:function(){return{SearchInputId:w.a,sliderStyle:{},activeIndex:-1,isFirstEnter:!0}},watch:{activeIndex:{handler:function(t){var e=this;t>-1&&setTimeout((function(){e.handleSlider(t),e.isFirstEnter=!1,d.a.$emit(d.j.VERT_CHANGE,e.items[t])}))},immediate:!0},items:{handler:function(t){if(t&&t.length&&-1===this.activeIndex){var e=t.findIndex((function(t){return t.businessType==d.b.type}));e>=0&&this.activeIndex!==e?this.activeIndex=e:this.activeIndex=0}},immediate:!0}},created:function(){},methods:{onTap:function(t,e){var n=T(T({},t),{},{type:t.businessType,focusSearchBar:!0}),i={animation:!0,skipCommonReport:!0,customReport:[{logid:15521,log_buffer:[+d.b.scene,"",+Date.now(),+t.businessType].join(",")},{logid:21441,log_buffer:["",d.b.sessionId||"",3,t.businessType,e,t.hotword].join(",")}]};this.$emit("tap",n,i),d.f.reportEventTrack({actionType:1001,scene:h.e.S1S_VERTICAL,type:t.businessType})},handleSlider:function(t){if(this.$refs.entries){var e=this.$refs.entries.querySelectorAll(".item")[t];this.sliderStyle={width:"".concat(e.offsetWidth,"px"),transform:"translateX(".concat(e.offsetLeft,"px)"),transition:this.isFirstEnter?"":"transform 0.3s ease"}}},setInputActive:function(t){d.a.$emit(d.j.SEARCH_BAR_ACTIVE,t)}}},C=(n(1446),Object(c.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length?n("div",{ref:"entries",staticClass:"list"},[t._l(t.items,(function(e,i){return n("label",{key:e.hotword,staticClass:"item",class:{selected:t.activeIndex===i},attrs:{"data-expose-id":"__vertEntries__$"+e.businessType+"$"+i+"$"+e.hotword,role:"button",for:t.SearchInputId},on:{click:function(n){return t.onTap(e,i+1)},mousedown:function(e){return e.stopPropagation(),t.setInputActive(!0)},mouseup:function(e){return e.stopPropagation(),t.setInputActive(!1)}}},[t._v("\n    "+t._s(e.hotword)+"\n  ")])})),t.os.pc?n("span",{staticClass:"slider",style:t.sliderStyle}):t._e(),t._l([0,1,2],(function(t){return n("div",{key:"occupied_"+t,staticClass:"item_occupied",attrs:{"aria-hidden":"true"}})}))],2):t._e()}),[],!1,null,"90fa6a1c",null).exports),j=n(481);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={components:{tags:j.a},props:{type:{type:Number,default:0},realType:{type:Number,default:0},title:{type:String,default:""},scene:{type:Number,default:0},parentType:{type:Number,default:0},iconUrl:{type:String,default:""},items:{type:Array,default:function(){return[]}},config:{type:Object,default:null},headJumpUrl:{type:Object,default:null},tags:{type:Array,default:function(){return[]}},moreText:{type:String,default:""},typePos:{type:Number,default:0},tailSplitLine:{type:Boolean,default:!0},bdExpandStyle:{type:String,default:""},boxTitleStyle:{type:String,default:""}},data:function(){return{collapsed:!0,EVENT_TYPE:{NORMAL:0,COLLAPSE:1}}},computed:{needExpand:function(){return this.config&&this.config.foldPos>0&&this.config.foldPos<this.items.length},visibleItems:function(){return this.needExpand&&this.collapsed?this.items.slice(0,this.config.foldPos):this.items}},methods:{onTap:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t===this.EVENT_TYPE.COLLAPSE)return this.collapsed=!this.collapsed,void this.$emit("tap",{realType:this.realType,itemPos:0,hotword:this.collapsed?"收起":"更多"},{skipOpt:!0,triggerExpose:!0});this.headJumpUrl&&this.headJumpUrl.optype&&this.$emit("tap",D(D({},this.headJumpUrl),{},{realType:this.realType,itemPos:0}))}}},k=(n(1447),Object(c.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"box__hd",class:t.headJumpUrl&&t.headJumpUrl.optype?"more":"",on:{click:t.onTap}},[n("div",{staticClass:"box__hdl",attrs:{role:"option"}},[t.iconUrl?n("online-image",{staticClass:"box__icon",attrs:{url:t.iconUrl}}):t._e(),n("span",{class:{box__title:!0},style:t.boxTitleStyle},[t._v("\n        "+t._s(t.title)+"\n      ")]),n("tags",{staticClass:"box__tag",attrs:{tags:t.tags}})],1),t.headJumpUrl&&t.headJumpUrl.optype?n("div",{staticClass:"box__hdr",attrs:{role:"option"}},[n("div",{attrs:{"data-expose-id":t.realType+"#-1"}},[t._v("\n        "+t._s(t.moreText)+"\n      ")]),n("svg-icon",{staticClass:"box__arrow",staticStyle:{"margin-left":"4px"},attrs:{name:"arrow"}})],1):t.needExpand?n("div",{staticClass:"box__hdr"},[n("div",{staticClass:"box__dropdown",attrs:{"data-expose-id":t.realType+"#-1",role:"button"},on:{click:function(e){return t.onTap(t.EVENT_TYPE.COLLAPSE)}}},[t._v("\n        "+t._s(t.collapsed?"更多":"收起")+"\n        "),n("svg-icon",{staticClass:"box__arrow",class:t.collapsed?"box__arrow-down":"box__arrow-up",staticStyle:{"margin-left":"8px"},attrs:{name:"arrow"}})],1)]):t._e()]),n("div",{staticClass:"box__bd",style:t.bdExpandStyle},[t._t("default",null,{items:t.visibleItems,realType:t.realType,title:t.title,scene:t.scene,parentType:t.parentType})],2)])}),[],!1,null,"10b0aa8e",null).exports),N=n(51),R=n(67);function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var H={components:{tags:j.a},mixins:[R.a,d.m],props:{type:{type:Number,default:0},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0},realType:{type:Number,default:0}},computed:{itemGroups:function(){var t=this.items.length,e=Math.ceil(t/2),n=this.items.map((function(t,e){return q(q({},t),{},{_index:e+1})}));return n.length?[n.slice(0,e),n.slice(e,t)]:[]}},methods:{tap:function(t){var e=this;d.b.setValue({searchId:"",type:0,isHomePage:1});var n=t.currentTarget,i=+d.g.attr(n,"data-index")-1,r=this.items[i],s=e.M_composeParentSid({t:h.p.INDEX_HOT_WORD,s:e.$store.state.index.recommendId,did:e.items[i].id,rid:e.$store.state.index.requestId});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:r.hotword,callback:function(){d.a.$emit(d.j.GOTO,{page:h.f.RESULT,query:r.hotword||"",action:h.n.HOT_WORD,searchId:"",extReqParams:{key:"parentSearchID",textValue:s}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:s}]}}),d.g.reportRealTime({scene:d.b.scene,recommendId:this.$store.state.index.recommendId,businessType:this.type,docId:this.items[i].id,docPos:i+1,typePos:this.typePos,isHomePage:0}),Object(b.h)(N.a.feature.indexHotWord)}}},A=(n(1448),Object(c.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hotword"},t._l(t.itemGroups,(function(e,i){return n("ul",{key:i,staticClass:"hotword-group"},t._l(e,(function(e){return n("li",{key:e._index,staticClass:"hotword-item",attrs:{"data-index":e._index,"data-expose-id":"__hotword__#"+t.realType+"#"+e._index+"#"+e.hotword},on:{click:t.tap}},[n("div",{staticClass:"hotword-item__word",attrs:{title:e.hotword}},[t._v(t._s(e.hotword))]),n("tags",{staticClass:"hotword-item__tag",attrs:{tags:e.tags}})],1)})),0)})),0)}),[],!1,null,"6c4fe074",null).exports);function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var F={mixins:[d.m],props:{type:{type:Number,default:0},realType:{type:Number,default:0},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0}},data:function(){return{hasRedDot:!1}},watch:{items:{handler:function(t){var e=this;return g()(_.a.mark((function n(){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||!t[0]){n.next=4;break}return n.next=3,e.detectRedDot(t[0]);case 3:e.hasRedDot=n.sent;case 4:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},created:function(){d.a.$on(d.j.INDEX_COMP_EXPOSE,this.onExpose)},methods:{tapGoodThing:function(t,e){var n=this;return g()(_.a.mark((function e(){var i,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,d.e.get({key:"goodTingRedDot"});case 3:r=!e.sent,"[object Array]"!==Object.prototype.toString.apply(r)&&(r=[]),setTimeout((function(){n.hasRedDot=!1}),500),t.redDotId&&(r.push(t.redDotId),d.e.set({key:"goodTingRedDot",value:r})),i.M_clickReport({businessType:i.type,docId:t.id,expand:"好物圈点击",recommendId:i.$store.state.index.data.searchID}),d.f.teach.reportCommonNewClick(n.getItemReportInfo(t)),n.$emit("tap",U(U({},t),{},{docId:t.tabID||"好物圈",optype:t.optype||h.c.weapp,realType:i.realType,itemPos:1}),{recordToRecentUsedWeApp:!1});case 10:case"end":return e.stop()}}),e)})))()},detectRedDot:function(t){return g()(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.redDotId){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,d.e.get({key:"goodTingRedDot"});case 4:if((n=e.sent)&&n.length){e.next=7;break}return e.abrupt("return",!0);case 7:if(-1===n.indexOf(t.redDotId)){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})))()},onExpose:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$el.querySelectorAll(".index__good-thing-info").forEach((function(n,i){var r=t.items[i];e.includes(n.dataset.exposeId)&&r&&d.f.teach.reportCommonNewExpose(t.getItemReportInfo(r))}))}}},V={mixins:[F],methods:{getItemReportInfo:function(t){return{requestId:this.$store.state.index.requestId,searchId:this.$store.state.index.data.searchID,itemInfo:"".concat(this.typePos,"_4_").concat(t.hotword||t.title)}}}},B=(n(1449),Object(c.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasRedDot,expression:"hasRedDot"}],staticClass:"index__good-thing"},t._l(t.items,(function(e,i){return n("div",{directives:[{name:"active",rawName:"v-active"}],key:t.realType+"#"+i,staticClass:"index__good-thing-info active__item",attrs:{"data-expose-id":t.realType+"#"+i+"##"+(e.id||""),role:"button"},on:{click:function(n){return t.tapGoodThing(e,n)}}},[n("div",{directives:[{name:"image",rawName:"v-image:avatar",value:e.iconUrl,expression:"item.iconUrl",arg:"avatar"}],staticClass:"index__good-thing-icon"}),n("div",{staticClass:"index__good-thing-title"},[n("span",[t._v(t._s(e.hotword||e.title))])])])})),0)}),[],!1,null,"a3ecd988",null).exports),W={components:{tags:j.a},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0},multiCols:{type:Number,default:1},splitLine:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!0}},computed:{colsStyle:function(){return"width: ".concat({1:"100%",2:"50%",3:"33.3%",4:"25%",5:"20%"}[this.multiCols]||"100%",";")}}},J=(n(1450),Object(c.a)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,class:{item:!0,item_splited:t.splitLine},style:t.colsStyle,attrs:{"data-expose-id":t.realType+"#"+i,role:"button"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[t.showIndex?n("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(i+1)+"\n    ")]):t._e(),n("div",{staticClass:"item__bd"},[n("div",{staticClass:"item__row"},[n("div",{staticClass:"item__rowl"},[n("div",{staticClass:"item__hotword"},[t._v("\n            "+t._s(e.hotword)+"\n          ")]),n("tags",{staticClass:"item__tags",attrs:{tags:e.tags,"aria-hidden":"true"}})],1),e.hotWording&&e.hotWording[0]?n("div",{staticClass:"item__hotWording"},[t._v("\n          "+t._s(e.hotWording&&e.hotWording[0])+"\n        ")]):t._e()]),e.desc?n("div",{staticClass:"item__desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e()])])})),0)}),[],!1,null,"75d09b86",null).exports),M={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},G=(n(1451),Object(c.a)(M,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"button"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[n("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(i+1)+"\n    ")]),n("div",{class:{item__bd:!0,"item__bd_no-desc":!e.desc,item__bd_desc:!!e.desc}},[n("div",{staticClass:"item__hotword"},[t._v("\n        "+t._s(e.hotword)+"\n      ")]),e.desc?n("div",{staticClass:"item__desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e(),n("div",{staticClass:"item__hotWording"},[t._v("\n        "+t._s(e.hotWording&&e.hotWording[0]||"")+"\n      ")])]),e.picUrl?n("online-image",{staticClass:"item__pic",attrs:{url:e.picUrl}}):t._e()],1)})),0)}),[],!1,null,"e883589a",null).exports),X={filters:{formatDuration:function(t){if(!t)return"";var e=Math.floor(t/60),n=t%60,i=function(t){return t<10?"0".concat(t):"".concat(t)};return"".concat(i(e),":").concat(i(n))}},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},z=(n(1452),Object(c.a)(X,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"button"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[n("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(i+1)+"\n    ")]),n("div",{staticClass:"item__bd"},[n("div",{staticClass:"item__hotword"},[t._v("\n        "+t._s(e.hotword)+"\n      ")]),n("div",{staticClass:"item__hotWording"},[t._v("\n        "+t._s(e.hotWording&&e.hotWording[0]||"")+"\n      ")])]),n("div",{staticClass:"item__pic",attrs:{"aria-hidden":"true"}},[n("online-image",{staticStyle:{width:"100%",height:"100%"},attrs:{url:e.picUrl,mode:"plain"}}),n("svg-icon",{staticClass:"item__play-icon",attrs:{name:"video_play_circle"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.duration,expression:"item.duration"}],staticClass:"item__meta"},[t._v("\n        "+t._s(t._f("formatDuration")(e.duration))+"\n      ")])],1)])})),0)}),[],!1,null,"9e60eeb8",null).exports),K={filters:{formatDuration:function(t){if(!t)return"";var e=Math.floor(t/60),n=t%60,i=function(t){return t<10?"0".concat(t):"".concat(t)};return"".concat(i(e),":").concat(i(n))}},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},Y=(n(1453),Object(c.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"button"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[n("div",{staticClass:"item__pic",attrs:{"aria-hidden":"true"}},[n("online-image",{staticStyle:{width:"100%",height:"100%"},attrs:{url:e.picUrl,mode:"plain"}}),n("svg-icon",{staticClass:"item__play-icon",attrs:{name:"video_play_circle"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.duration,expression:"item.duration"}],staticClass:"item__meta"},[t._v("\n        "+t._s(t._f("formatDuration")(e.duration))+"\n      ")])],1),n("div",{staticClass:"item__hotword"},[t._v("\n      "+t._s(e.hotword)+"\n    ")]),n("div",{staticClass:"item__desc"},[t._v("\n      "+t._s(e.desc||e.hotWording&&e.hotWording[0]||"")+"\n    ")])])})),0)}),[],!1,null,"03696d94",null).exports),Q={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},Z=(n(1454),Object(c.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"option"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1,needRecord:1}))}}},[n("online-image",{staticClass:"item__pic",attrs:{url:e.picUrl}}),n("div",{staticClass:"item__hotword"},[t._v("\n      "+t._s(e.hotword)+"\n    ")])],1)})),0)}),[],!1,null,"37e08be8",null).exports),tt={mixins:[F],methods:{getItemReportInfo:function(t){return{requestId:this.$store.state.index.requestId,searchId:this.$store.state.index.data.searchID,itemInfo:"".concat(this.typePos,"_4_").concat(t.hotword||t.title,"_").concat(this.hasRedDot?t.redDotNum||0:"")}}}},et=(n(1455),Object(c.a)(tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.items,(function(e,i){return n("div",{directives:[{name:"active",rawName:"v-active"}],key:t.realType+"#"+i,staticClass:"index__good-thing-info box active__item",attrs:{"data-expose-id":t.realType+"#"+i+"##"+(e.id||""),role:"button"},on:{click:function(n){return t.tapGoodThing(e,n)}}},[n("div",{directives:[{name:"image",rawName:"v-image:plain",value:e.iconUrl,expression:"item.iconUrl",arg:"plain"}],staticClass:"icon"}),n("div",{staticClass:"info"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(e.hotword||e.title)+"\n        "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasRedDot,expression:"hasRedDot"}],staticClass:"reddot",class:1===e.redDotType?"reddot_newtag":"reddot_normal"},[t._v(t._s(e.redDotNum||""))])]),e.desc?n("div",{staticClass:"desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e()]),n("svg-icon",{staticClass:"box-arrow",attrs:{name:"arrow"}})],1)})),0)}),[],!1,null,"a1508a34",null).exports),nt=n(13),it=n(736);function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ot=!1,at={components:{reddotBadge:it.a},mixins:[d.m],props:["items","type","realType"],mounted:function(){this.reddotExposeTimeout=null,this.reddotExposeList=[]},created:function(){ot||(nt.a.preloadWeapp({userName:"wxdb2453762cc14cf3",appId:"gh_8e88e2b28133@app",preloadEnv:!0,fakeNative:!0}),ot=!0)},methods:{tapService:function(t,e,n){if(t&&t.jumpInfo){var i=n.serviceEntry.id||"",r=n.serviceEntry.title||"",s={};if(t.redDotInfo){var o=this.$refs["reddot-".concat(t.id)],a=o&&o[0]||{};a.isShow&&(a.onClick({delay:500}),s={if_reddot:1,reddot_key:t.redDotInfo.key||"",reddot_content:t.redDotInfo.text||""},nt.a.commonCgi({cgiName:l.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:[{key:t.redDotInfo.key||"",type:1,action:2}]}}))}this.$emit("tap",st(st({},t),{},{docId:this.tabID,optype:h.c.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1,skipCommonReport:!0,customReport:[{logid:20940,log_buffer:this.getReportItem(t,e+1,i,1,r,s)}]})}},onReddotExpose:function(t){var e=this;clearTimeout(this.reddotExposeTimeout),this.reddotExposeList.push({key:t.redDotInfo.key,type:1,action:1}),this.reddotExposeTimeout=setTimeout((function(){e.reddotExposeList&&e.reddotExposeList.length&&nt.a.commonCgi({cgiName:l.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:e.reddotExposeList}})}),100)},tapNotification:function(t,e,n){if(t&&t.jumpInfo){var i=n.notification.id||"",r=t.title||"",s=st(st({},t),{},{id:t.id,title:t.desc});this.$emit("tap",st(st({},t),{},{docId:this.tabID||"常用服务",optype:h.c.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1,skipCommonReport:!0,customReport:[{logid:20940,log_buffer:this.getReportItem(s,e+1,i,2,r)}]})}},getServExposeId:function(t,e,n){return t&&n?"".concat(this.realType,"-").concat(n.serviceEntry.id||"","-0-").concat(t.id,"-").concat(e+1,"-").concat(t.redDotInfo?"".concat(t.redDotInfo.key,"-").concat(t.redDotInfo.text):""):""},getReportItem:function(t,e,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return"";var o=this,a={page_id:"6780749134400913529",boxid:n,box_name:r,box_index:i,item_index:e,item_name:t.title||"",item_id:t.id||"",item_ext:s,appid:t.jumpInfo&&t.jumpInfo.weappAppid||"",username:t.jumpInfo&&t.jumpInfo.userName||"",url:t.jumpInfo&&t.jumpInfo.jumpUrl||t.jumpInfo.weappUrl||"",type:2e4,report_query:{businesstype:d.b.type,search_scene:d.b.scene,search_id:o.$store.state.index.recommendId}};return this.genKVLogString({DeviceModel:"unknown",DeviceBrand:"unknown",OsName:"unknown",OsVersion:"-1",LanguageVersion:"zh_CN",StartTime:Date.now(),EndTime:Date.now(),Count:1,ClientIPV6:"unknown",appId:"",pageName:"unknown",scene:d.b.scene,sessionId:o.$store.state.index.recommendId,appVersion:"-1",actionLog:encodeURIComponent(JSON.stringify([a]))})},genKVLogString:function(t){var e="";return Object.keys(t).forEach((function(n){0!==e.length&&(e+=","),e+=t[n]})),e}}},ct=(n(1456),Object(c.a)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length?n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:i,staticClass:"item"},[e.serviceEntry?n("div",{staticClass:"service"},[n("div",{staticClass:"service_title"},[t._v(t._s(e.serviceEntry.title))]),e.serviceEntry.list&&e.serviceEntry.list.length?n("div",{staticClass:"service_box"},t._l(e.serviceEntry.list,(function(i,r){return n("div",{key:i.id,staticClass:"service_box_item",attrs:{"data-expose-id":t.realType+"#"+r+"##"+t.getServExposeId(i,r,e),role:"button"},on:{click:function(n){return t.tapService(i,r,e)}}},[n("div",{staticClass:"service_box_item-inner"},[n("div",{staticClass:"icon_box"},[n("ui-image",{staticClass:"icon",attrs:{size:32,url:i.iconUrl}}),i.redDotInfo?n("reddot-badge",{ref:"reddot-"+i.id,refInFor:!0,staticClass:"reddot-badge",attrs:{id:i.redDotInfo.key,text:i.redDotInfo.text,"related-id":i.id},on:{expose:function(e){return t.onReddotExpose(i)}}}):t._e()],1),i.title?n("div",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(i.title))}}):t._e(),i.desc?n("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.xss(i.desc))}}):t._e()])])})),0):t._e()]):t._e(),e.notification&&e.notification.list&&e.notification.list.length?n("div",{staticClass:"notification"},t._l(e.notification.list,(function(i,r){return n("div",{key:i.id,staticClass:"notification_item",attrs:{"data-expose-id":t.realType+"#"+(1e4+r)+"##"+t.realType+"-"+(e.notification.id||"")+"-1-"+i.id+"-"+r,role:"button"},on:{click:function(n){return t.tapNotification(i,r,e)}}},[n("div",{staticClass:"notification_inner"},[n("div",{staticClass:"notification_item_title"},[t._v(t._s(i.title))]),n("div",{staticClass:"notification_item_desc"},[t._v(t._s(i.desc))]),n("div",{staticClass:"notification_item_sub"},[t._v(t._s(i.sub))]),n("svg-icon",{staticClass:"notification_item_arrow",attrs:{name:"arrow"}})],1)])})),0):t._e()])})),0):t._e()}),[],!1,null,"66687738",null).exports),ut=n(720),dt=n(742),pt={components:{},props:{tag:{type:Object,default:function(){return{}}}},methods:{pickIconStyle:function(t){var e={backgroundColor:t.color};return d.g.isDarkMode()&&t.darkColor&&(e.backgroundColor=t.darkColor),e},pickTitleStyle:function(t){var e={},n=["color","fontSize","padding","margin","fontWeight"];return Object.keys(t).forEach((function(i){n.includes(i)&&(e[i]=t[i])})),d.g.isDarkMode()&&t.darkColor&&(e.color=t.darkColor),e}}},lt=(n(1457),{components:{Tag:Object(c.a)(pt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-wrap"},[t.tag.icon?n("ui-image",{staticClass:"icon",style:t.pickIconStyle(t.tag.icon),attrs:{url:t.tag.icon.url}}):t._e(),n("div",{staticClass:"center"}),t.tag.title?n("span",{staticClass:"tag-inner",style:t.pickTitleStyle(t.tag)},[t._v(t._s(t.tag.title))]):t._e()],1)}),[],!1,null,"5c92535b",null).exports},props:{tags:{type:Array,default:function(){return[]}}}}),ht=(n(1458),{components:{Tags:Object(c.a)(lt,(function(){var t=this.$createElement,e=this._self._c||t;return this.tags&&this.tags.length?e("div",{staticClass:"tag-list"},this._l(this.tags,(function(t){return e("tag",{key:t.title,staticClass:"tag-item",attrs:{tag:t}})})),1):this._e()}),[],!1,null,"20808cfe",null).exports},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:-1}},data:function(){return{}},watch:{item:{handler:function(){if(this.item.word){var t="".concat(this.index,"|").concat(encodeURIComponent(this.item.word),"|").concat(encodeURIComponent(this.item.query||this.item.word));this.item.reportJson&&this.$emit("report-doc-ext",{query:t,reportJson:{doc_pull_type:this.item.type,doc_pull_type_detail:this.item.reportJson}})}},immediate:!0}},methods:{getTagsTitle:function(t){if(t){var e="";return t.forEach((function(t){e+=t.title}))," ".concat(e)}return""},onTapItem:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.$emit.apply(this,["tap-search"].concat(e))}}});n(1459);function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var mt,yt={name:"GuessBox",components:{GuessItem:Object(c.a)(ht,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"rmd__item",attrs:{role:"option","aria-label":t.index+1+" "+(t.item.word||"")+t.getTagsTitle(t.item.tag)+"，链接"},on:{click:function(e){return e.stopPropagation(),t.onTapItem(t.item,t.index)}}},[n("div",{staticClass:"rmd__item__inner",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"rmd__item__word",class:{"has-tag":t.item.tag}},[t._v(t._s(t.item.word))]),t.item.tag?n("tags",{staticClass:"rmd__item__tags",attrs:{tags:t.item.tag}}):t._e()],1)])}),[],!1,null,"e172c30c",null).exports},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0},typePos:{type:Number,default:0},title:{type:String,default:""},scene:{type:Number,default:0},parentType:{type:Number,default:0}},data:function(){return{guesslist:[]}},computed:{requestId:function(){return this.$store.state.index.requestId},searchId:function(){return this.$store.state.index.data.searchID},blockExposeId:function(){return"".concat(this.vertEntries.length?this.typePos+1:this.typePos,"|",2,"|").concat(encodeURIComponent(this.title||""))},vertEntries:function(){return this.$store.state.index.vertEntries||[]},isCacheData:function(){return this.$store.state.index.isCacheData},cacheReqid:function(){return this.$store.state.index.cacheReqid}},watch:{items:{handler:function(t){t&&t.length&&(this.guesslist=this.handleItems(t))},immediate:!0}},created:function(){d.a.$on(d.j.INDEX_COMP_EXPOSE,this.onExpose)},beforeDestroy:function(){d.a.$off(d.j.INDEX_COMP_EXPOSE,this.onExpose)},methods:{handleItems:function(){var t=-1,e=this.items.map((function(e,n){return e.optype=e.optype||1,e.vueIsShow=!0,e.word=e.word.trim(),e.vueDocId="".concat(n,"|").concat(e.vueIsShow?++t:"","|").concat(encodeURIComponent(e.word),"|").concat(encodeURIComponent(e.query||e.word),"|").concat(e.vueIsShow?1:0,"|").concat(encodeURIComponent(e.tag&&e.tag.map((function(t){return t.title})).join("&")||""),"|").concat([].join("&"),"|||").concat(e.type),e})),n=encodeURIComponent(JSON.stringify({is_cache_data:this.isCacheData?1:0,cache_reqid:this.cacheReqid?this.cacheReqid:""}));return d.f.teach.reportCommonNewPull({requestId:this.requestId,searchId:this.searchId,itemInfo:this.blockExposeId,docInfo:e.map((function(t){return t.vueDocId})).join("#"),extInfo:n}),e},onTapSearch:function(t,e,n){var i=t.query||t.word,s={parentSearchID:this.M_composeParentSid({t:this.parentType,s:this.$store.state.index.recommendId,did:i,rid:this.requestId}),crossExtReqParams:[]};!function(t){if(t&&([12].includes(t.type)&&t.reportJson)){var e={};if(t.mixerCommonContext)try{e=JSON.parse(t.mixerCommonContext)}catch(t){}e.report_json=JSON.stringify({doc_pull_type:t.type,doc_pull_type_detail:t.reportJson}),t.mixerCommonContext=JSON.stringify(e)}}(t),t.mixerCommonContext&&s.crossExtReqParams.push({key:"mixerCommonContext",textValue:t.mixerCommonContext}),d.f.teach.reportCommonNewClick({requestId:this.requestId,searchId:this.searchId,itemInfo:this.blockExposeId,docInfo:t.vueDocId}),Object(dt.a)({type:1,query:t.word,ext:JSON.stringify({uniqKey:t.uniqKey,type:t.type})}),this.$emit("tap",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({skipCommonReport:!0,optype:t.optype,hotword:t.word,scene:this.scene},s)),Object(b.a)(d.l.guess.clickQuery)},onExpose:function(t){if(t&&t.length){var e=t.filter((function(t){return/^guess-block:/.test(t)})).map((function(t){return t.replace(/^guess-block:/,"")})),n=t.filter((function(t){return/^guess-item:/.test(t)})).map((function(t){return t.replace(/^guess-item:/,"")}));e.length&&d.f.teach.reportCommonNewExpose({requestId:this.requestId,searchId:this.searchId,itemInfo:this.blockExposeId,docInfo:""}),n.length&&(d.f.teach.reportCommonNewExpose({requestId:this.requestId,searchId:this.searchId,itemInfo:this.blockExposeId,docInfo:n.join("#")}),Object(b.a)(d.l.guess.exposeQuery,{rate:1,isSessionOnly:!0}))}},onReportDocExt:function(t){var e=t.query,n=t.reportJson;d.f.teach.reportCommonNewExt({query:e,requestId:this.requestId,searchId:this.searchId,itemType:2,reportJson:n})}}},gt=(n(1460),Object(c.a)(yt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend-list",attrs:{"data-expose-id":"guess-block:"+t.blockExposeId}},t._l(t.guesslist,(function(e,i){return n("guess-item",{key:e.vueDocId,attrs:{"data-expose-id":"guess-item:"+e.vueDocId,item:e,index:i},on:{"tap-search":t.onTapSearch,"report-doc-ext":t.onReportDocExt}})})),1)}),[],!1,null,"7121ce9b",null).exports),vt={functional:!0,render:function(t){return t("div")}},_t={functional:!0,render:function(t,e){var n=e.props,i=e.listeners,r=function(e){return t(e,{props:n,on:i})},s=function(e,r,s){return r?Object.assign(r,n):r=n,t(k,{props:r,on:i,scopedSlots:{default:function(n){return s?Object.assign(s,n):s=n,t(e,{props:s,on:i})}}})},o=n.type,a=n.items;if(a&&a.length>0)switch(o){case 2:return s(A);case 12:return r(B);case 15:return s(ut.a,{bdExpandStyle:"padding-bottom: 4px;"});case 39:return s(gt,{bdExpandStyle:"padding-bottom: 4px;",boxTitleStyle:"font-weight: normal; color: var(--FG-2); font-size: 14px;"});case 25:return s(J,{},{multiCols:1,splitLine:!0,showIndex:15==o});case 16:return s(J,{},{multiCols:2});case 17:return s(G,{bdExpandStyle:"padding-bottom: 4px;"});case 18:return s(z,{bdExpandStyle:"padding-bottom: 4px;"});case 19:return s(Y);case 20:return s(Z,{bdExpandStyle:"padding-bottom: 10px;"});case 21:return r(et);case 24:return r(ct)}return t(vt)},props:{type:{type:Number,default:0},realType:{type:Number,default:0},title:{type:String,default:""},scene:{type:Number,default:0},parentType:{type:Number,default:0},iconUrl:{type:String,default:""},items:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return null}},headJumpUrl:{type:Object,default:function(){return null}},tags:{type:Array,default:function(){return[]}},moreText:{type:String,default:""},typePos:{type:Number,default:0}}},bt={mixins:[d.m],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},methods:{tap:function(){this.M_go(this.item),this.$emit("tap:setting",this.item)}}},It=(n(1461),Object(c.a)(bt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"link-wrap"},[e("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__opacity",attrs:{role:"link"},on:{click:this.tap}},[this._v("\n    "+this._s(this.item.word)+"\n  ")])])}),[],!1,null,"ef5ab3d2",null).exports),xt=new(n(10).a)({setting:1}),wt={components:{setting:It},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:xt}},methods:{onTapSetting:function(t){this.$emit("tap:setting",t)}}},Ot=(n(1466),Object(c.a)(wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index-bottom"},t._l(t.data.items,(function(e,i){return n(t.types[e.type||1],t._b({key:i,tag:"components",attrs:{item:e,"data-expose-id":"__bottomComp__$"+(e.type||1)+"$"+i},on:{"tap:setting":t.onTapSetting}},"components",t.$props,!1))})),1)}),[],!1,null,"8dc81e5a",null).exports);n(21);function Tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var jt={name:"Index",components:{Tail:u},mixins:[{components:{"vert-entries":C,"index-comp":_t,bottom:Ot},mixins:[d.k,d.m],data:function(){return{nativeHeight:0,showAllOperateItem:!1,isFirstEnter:!0,banList:[],deviceType:d.b.deviceType,hotwordMap:{},curScene:0,canRefreshHotword:!0}},computed:{bottomData:function(){return this.$store.state.index.bottom||null},ret:function(){var t=this,e=this.$store.state.index.data;return e&&this.handleExpose(),(e&&e.data||[]).reduce((function(e,n){return t.banList.indexOf(n.realType)<0&&(13===n.realType?(t.handleFrequentSearchBizsFetch(),t.frequentSearchBizs.length>0&&e.push(St(St({},n),{},{items:t.frequentSearchBizs}))):e.push(n)),e}),[])},requestId:function(){return this.$store.state.index.requestId},isNewHotList:function(){return"guidePageList"===this.$store.state.index.dataType},vertEntries:function(){return this.$store.state.index.vertEntries},defaultNativeHeight:function(){return this.$store.state.index.defaultNativeHeight},realNativeHeight:function(){return this.nativeHeight>0?this.nativeHeight:this.defaultNativeHeight},frequentSearchBizs:function(){return this.$store.state.index.frequentSearchBizs.map((function(t){return{hotword:t.nickName,picUrl:t.avatarUrl,userName:t.userName,optype:3}})).filter((function(t){return!!t.hotword&&!!t.picUrl&&!!t.userName})).slice(0,8)}},watch:{$route:function(t){var e=this;"index"===t.name&&(d.b.setValue({scene:this.curScene||d.b.scene}),e.isFirstEnter=!1,e.getData(),e.$nextTick((function(){e.showAllOperateItem=!0})))}},created:spy((function(){var t=this,e=this;if(d.g.queryString.nativeHeight&&(e.nativeHeight=+d.g.queryString.nativeHeight),d.b.queryString.isPreload){d.b.queryString;var n=e.$store.state.onUiInitData;i(),n&&n.nativeHeight&&(e.nativeHeight=+n.nativeHeight)}else i();function i(){l.b.onTeachReady((function(t){var n=t.opts||{};0===d.b.type&&(d.f.reportEventTrack({requestId:t.requestId||e.requestId,actionType:208,query:n.query}),d.f.reportSearchStay({eventId:h.s.ENTRY,pageType:h.h.pageType.INDEX,searchId:e._dataHandler(t).searchID}),e.canRefreshHotword=!1,e.init(t),d.h.log({msg:"[index onTeachSearchDataReady] ".concat(JSON.stringify(t)),level:"info"}))})),e.getData({query:"me.getData_onUiInit"})}d.g.WeixinJSBridgeOn("onBeginWebSearchAnimation",(function(){e.showAllOperateItem=!1})),l.b.onWebviewResume((function(){e.$route.name==h.f.INDEX&&e.getData({},d.b.type)})),l.b.onPageStateChange((function(e){"entryPage"===e.state&&(t.canRefreshHotword=!0)})),l.b.onInputChange((function(t){t&&t.isCancelButtonClick&&window.scrollTo(0,0)}));var r=window.points&&window.points[0];d.f.reportEventTrack({actionType:200,timeStamp:r})})),mounted:function(){this.banList=d.d.getStore("HomePageBanList",[])||[]},destroyed:function(){d.d.store("HomePageBanList",this.banList),mt&&mt.destory()},methods:{_dataHandler:function(t){try{t="string"==typeof t.json?JSON.parse(t.json):t.json}catch(e){t={}}return t||{}},_doSearchOperation:function(t,e){d.g.WeixinJSBridgeInvoke("doSearchOperation",d.g.extend({action:2,scene:h.e.S1S},t),e||function(){})},init:spy(function(){var t=g()(_.a.mark((function t(e){var n,i,r,s,o,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isLoadingSearchGuide=!1,n=e.opts||{},i=(e||{}).isCacheData,r=void 0===i?0:i,d.h.log({msg:"[index init]".concat(JSON.stringify(e)),level:"info"}),s=this,!e.requestId||e.requestId==s.requestId){t.next=9;break}return Object(b.h)(d.l.feature.hotWord.ridFail),t.abrupt("return");case 9:if(r){t.next=14;break}d.e.set({key:"s1s:rmd_cache_reqid",value:s.$store.state.index.requestId}),s.$store.commit("index/updateCacheFlag",{isCacheData:0,cacheReqid:""}),t.next=24;break;case 14:return t.prev=14,t.next=17,d.e.get({key:"s1s:rmd_cache_reqid"});case 17:o=t.sent,s.$store.commit("index/updateCacheFlag",{isCacheData:r,cacheReqid:o}),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(14),t.t0;case 24:if(void 0!==(e=this._dataHandler(e)).preSearchSwitch&&d.b.setValue({preSearchSwitch:e.preSearchSwitch}),0==e.businessType){t.next=29;break}return Object(b.h)(d.l.feature.hotWord.busFail),t.abrupt("return");case 29:if(mt&&mt.resetExposeId(),e.searchID||e.data&&e.data.length&&(BJ_REPORT.info("recommendId empty：".concat(JSON.stringify(e))),Object(b.h)(d.l.feature.indexRidEmpty)),s.showAllOperateItem||(s.showAllOperateItem=!0,d.a.$emit(d.j.HOTWORD_ANIMATION_DONE,e.businessType)),a=e.data){t.next=38;break}return Object(b.a)(d.l.guess.discoverRecommendEmpty),Object(b.h)(d.l.feature.hotWord.ddFail),t.abrupt("return");case 38:a.length||(Object(b.a)(d.l.guess.discoverRecommendEmpty),Object(b.h)(d.l.feature.hotWord.ddLengthFail)),s.$store.commit("index/updateData",{data:e}),s.hotwordMap[e.businessType]=e,e&&e.discoverSearchGuide&&s.$store.commit("index/updateVertEntries",e.discoverSearchGuide),setTimeout((function(){d.f.reportEventTrack({requestId:s.requestId,actionType:209,query:n.query}),d.a.$emit(d.j.INDEX_RENDER_FINISH)}),0),d.g.WeixinJSBridgeInvoke("updateReddotTimeStamps",{reddotTimeStamps:e.timestamp,isSearch:1},(function(){}));case 46:case"end":return t.stop()}}),t,this,[[14,21]])})));return function(e){return t.apply(this,arguments)}}()),handleFrequentSearchBizsFetch:function(){if(this.frequentSearchBizs.length){var t=[],e=[];this.frequentSearchBizs.forEach((function(n,i){t.push(i+1),e.push("".concat(encodeURIComponent(n.hotword),"#").concat(n.userName))}));var n=["",4,13,this.$store.state.index.data.searchID||"",d.b.sessionId||"",t.join(";"),e.join(";")].join(",");d.h.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:this.deviceType,item_list:[{logid:21103,log_buffer:n}]}})}},handleExpose:function(){var t=this;setTimeout((function(){mt||(mt=new x.Expose((function(e){if(e.length){var n=e.reduce((function(t,e){if(!e)return t;var n=e.split("$");if("__vertEntries__"!==n[0]||n.length<4)return t;var i=Number(n[1]),r=Number(n[2]),s=n[3];return t.push([i,r+1,s]),t}),[]);if(n.length){var i=n.map((function(t){return t[0]})).join("_"),r=n.map((function(t){return t[1]})).join(";"),s=n.map((function(t){return t[2]})).join("_"),o=["",d.b.sessionId||"",2,i,r,s].join(",");d.h.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:t.deviceType,item_list:[{logid:21441,log_buffer:o}]}})}t._handleExpose(e)}}),{container:t.$el})),mt.analysis()}))},onCloseBox:function(t,e){this.banList.push(e)},onTap:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.optype,i=e.skipCommonReport,r=void 0!==i&&i,s=e.customReport,o=void 0===s?[]:s,a=e.skipOpt,c=void 0!==a&&a,u=e.triggerExpose,p=void 0!==u&&u,f=e.recordToRecentUsedWeApp,y=void 0===f||f;if(n||c){p&&this.handleExpose();var g=[];if(r||g.push({logid:21103,log_buffer:["",3,t.realType,this.$store.state.index.data.searchID||"",d.b.sessionId||"",t.itemPos,encodeURIComponent(t.hotword||"")].join(",")}),o&&o.length&&g.push.apply(g,m()(o)),g.length&&d.h.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:this.deviceType,item_list:g}}),!c)if(n===h.c.search){d.f.reportJumpType({businessType:d.b.type,pageType:h.h.pageType[this.$route.name],docId:"",clickType:2,newSearchType:h.h.searchType.DOC_SEARCH});var v=t.parentSearchID||this.M_composeParentSid({t:h.p.INDEX_WOW_LIST,s:this.$store.state.index.recommendId,did:t.id,rid:this.$store.state.index.requestId});if(t.scene&&1!=d.b.queryString.isV2&&(this.curScene=d.b.scene,d.b.setValue({scene:t.scene})),1==d.b.queryString.isV2)return void this._doSearchOperation({action:3,query:t.hotword,scene:h.e.S1S,onUiInitBypassMap:{type:t.businessType||0,query:t.hotword||"",action:h.n.HOT_WORD,searchId:"",sessionId:d.b.sessionId,scene:t.scene||h.e.S1S,extParams:encodeURIComponent(JSON.stringify({parentSearchID:v,crossExtReqParams:t.crossExtReqParams||[]}))}});d.h.setInputBar({query:t.hotword,isInputChange:!1});var _=[{key:"parentSearchID",textValue:v}];t.crossExtReqParams&&_.push.apply(_,m()(t.crossExtReqParams)),d.a.$emit(d.j.GOTO,{type:t.businessType||0,isHomePage:t.isHomePage||d.b.isHomePage,page:h.f.RESULT,query:t.hotword||"",action:h.n.HOT_WORD,searchId:"",extReqParams:_}),d.b.setValue({type:t.businessType||0,isHomePage:t.isHomePage||d.b.isHomePage}),this._doSearchOperation({action:3,query:t.hotword,scene:h.e.S1S})}else n===h.c.vertical?this.onTapVert(t,e):n===h.c.weapp?this.M_go(St(St({},t),y?{}:{scene:202,startWeAppScene:1163})):n===h.c.bizSession?d.g.startSearchItemDetailPage({userName:t.userName,isTeachPage:!0,opType:n}):n===h.c.finder?d.h.openFinderFeed({feedId:t.feedId,extInfo:t.extInfo}):this.M_startDetail(t)}},onTapSetting:function(){if(this.bottomData){var t=["",d.b.sessionId,2].join(",");d.h.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:this.deviceType,item_list:[{logid:24403,log_buffer:t}]}})}},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this;n._isLoadingSearchGuide=!0,e&&I.a.commit("index/getSearchRid"),t=St(St({},t),{},{query:t.query||(n.isNewHotList?"new":"")}),d.f.reportEventTrack({requestId:n.requestId,actionType:203,query:t.query});var i={guessReqInfo:{requestId:I.a.state.index.requestId,hotwordList:[]}};if(I.a.state.index.data){var r=I.a.state.index.data.data,s=r&&r.filter((function(t){return 39===t.type}))[0]||{};i.ctx=s.ctx||"",n.canRefreshHotword||(i.guessReqInfo.hotwordList=(s.items||[]).map((function(t){var e=St({},t);return delete e.vueIsShow,delete e.vueDocId,e})),i.guessReqInfo.hotwordList.length&&(i.action_type=2))}d.h.getTeach(St(St({},d.b.getBase()),{},{type:n.M_os(d.b.type,0),scene:n.M_os(d.b.scene,h.e.S1S),requestType:p.a.requestType.net,requestId:I.a.state.index.requestId,guideInfo:JSON.stringify(i)}),St({requestId:I.a.state.index.requestId},t))}}}],methods:{_handleExpose:function(t){var e,n,i=this,r=[],s=[],a=[];if(t.forEach((function(t){var c=(t||"").split("##"),u=o()(c,2);e=u[0],n=u[1],e&&s.push(e),n&&r.push(n);var d=t.match(/^\d+(?=#)/)||[],p=o()(d,1)[0];if(p){var l=i.$refs["IndexComp_".concat(p)];l&&l.onExpose&&a.push((function(){return l.onExpose.call(l,t)}))}})),s.length>0){var c=s.reduce((function(t,e){if(!e)return t;var n=e.split("#");if(n.length<2)return t;var i=Number(n[0]),r=Number(n[1]),s=t[t.length-1];return s&&s.length&&s[0]===i?s.push(r+1):t.push([i,r+1]),t}),[]),u=c.map((function(t){return t[0]})).join("_"),h=c.map((function(t){return t.slice(1).join(";")})).join("_"),f=["",2,u,i.$store.state.index.data.searchID||"",d.b.sessionId||"",h].join(",");d.h.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:i.deviceType,item_list:[{logid:21103,log_buffer:f}]}})}if(r.length>0){var m={type:[],guideResult:[],guideTabId:[]};i.ret.reduce((function(t,e){var n=[];return e.items&&e.items.forEach((function(t){var i=r.indexOf(t.id);if(-1!==i){var s=r.splice(i,1);e.type===p.b.GOOD_THING&&(s[0]=t.redDotId?"".concat(s[0],"-").concat(t.redDotId):s[0]),n=n.concat(s)}if(e.type===p.b.SERVICE_BOX){var o=r.filter((function(t){var n=t.split("-");return n&&n[0]==e.realType}));o&&o.length>0&&o.forEach((function(t){var e=r.indexOf(t);if(-1!=e){var i=r.splice(e,1);n=n.concat(i)}}))}})),n.length&&(t.type.push(e.type),null!=e.tabID&&t.guideTabId.push(e.tabID),t.guideResult.push(n.join("|"))),t}),m);var y=["isguideexpose=1","scene=".concat(d.b.scene),"h5version=".concat(d.b.version),"businesstype=".concat(d.b.type),"searchid=".concat(i.$store.state.index.data.searchID),"guidetype=".concat(m.type.join(";")),"guideresult=".concat(encodeURIComponent(m.guideResult.join(";"))),"guidetabid=".concat(m.guideTabId.join(";")),"timestamp=".concat(Math.floor((new Date).getTime()/1e3)),"isfirstenter=".concat(i.isFirstEnter?1:0),"sessionid=".concat(d.b.sessionId)].join("&");d.h.reportRealTime({logString:y})}if((d.a.$emit(d.j.INDEX_COMP_EXPOSE,t),i.bottomData)&&t.findIndex((function(t){return/^__bottomComp__/.test(t)}))>-1){var g=["",d.b.sessionId,1].join(",");d.h.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:i.deviceType,item_list:[{logid:24403,log_buffer:g}]}})}},onTapVert:function(t,e){this._doSearchOperation(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({action:2,scene:h.e.S1S_VERTICAL},t))}}},Et=(n(1472),Object(c.a)(jt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index__box",style:{paddingTop:t.realNativeHeight+"px"},attrs:{"data-p-0bfpe":""}},[n("div",{staticClass:"index__box-wrap"},[n("transition",{attrs:{name:"allOperateItems"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showAllOperateItem,expression:"showAllOperateItem"}]},[n("vert-entries",{attrs:{items:t.vertEntries},on:{tap:t.onTap}}),t._l(t.ret,(function(e,i){return n("index-comp",t._b({key:e.realType,attrs:{"type-pos":i+1},on:{tap:t.onTap}},"index-comp",e,!1))})),t.bottomData?t.bottomData?n("bottom",{attrs:{data:t.bottomData},on:{"tap:setting":t.onTapSetting}}):t._e():n("tail",{directives:[{name:"show",rawName:"v-show",value:t.ret.length>0,expression:"ret.length > 0"}]})],2)])],1)])}),[],!1,null,null,null));e.default=Et.exports},481:function(t,e,n){"use strict";var i={props:{tags:{type:Array,default:function(){return[]}},noBg:Boolean},methods:{onTapTag:function(t,e){this.$emit("click",t,e)}}},r=n(4),s=Object(r.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("ui-tags",{staticClass:"colorful-tags",attrs:{flex:"",tags:this.tags,"no-bg":this.noBg},on:{"tap:tag":this.onTapTag}})}),[],!1,null,null,null);e.a=s.exports},602:function(t,e,n){},646:function(t,e,n){},647:function(t,e,n){},648:function(t,e,n){"use strict";n(602)},720:function(t,e,n){"use strict";var i=n(1),r=n.n(i);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}},computed:{list:function(){return this.items.map((function(t){return o(o({},t),{},{tag:t.tags&&t.tags[0]||null})}))}}},c=(n(648),n(4)),u=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.list,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"option","aria-label":i+1+" "+(e.hotword||"")+(e.tag&&e.tag.title||"")+"，链接"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[n("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[n("span",[t._v("\n        "+t._s(i+1)+"\n      ")])]),n("div",{staticClass:"item__bd",attrs:{"aria-hidden":"true"}},[n("span",{style:{marginRight:(e.tag?4:0)+"px"}},[t._v(t._s(e.hotword))]),e.tag?n("ui-tag",t._b({},"ui-tag",e.tag||{},!1)):t._e()],1)])})),0)}),[],!1,null,"c959a0d4",null);e.a=u.exports},736:function(t,e,n){"use strict";var i=n(0),r=n(2),s={props:["text","id","expired","relatedId"],data:function(){return{isShow:!1}},computed:{searchId:function(){switch(this.$route.name){case r.f.INDEX:return this.$store.state.index.recommendId;case r.f.TEACH:return this.$store.state.teach.recommendId;case r.f.SUG:return this.$store.state.sug.sugId;default:return i.b.searchId}}},watch:{id:function(){this.detect()},isShow:function(){this.isShow&&this.$emit("expose")}},mounted:function(){this.detect()},methods:{detect:function(){var t="".concat("reddot-badge","-").concat(this.id),e=i.d.getStore(t);if(e){var n=(new Date).getTime()-e.expose;this.isShow=!(this.expired&&n>1e3*this.expired)}else this.expired&&i.d.store(t,{expose:(new Date).getTime()}),this.isShow=!0;this.isShow&&i.f.reddotBadge.reportExpose({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};setTimeout((function(){t.isShow=!1}),e.delay||0)},onClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hide(t),i.f.reddotBadge.reportClick({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})}}},o=(n(741),n(4)),a=Object(o.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return this.isShow?e("div",{staticClass:"weui-badge reddot-badge",class:{"weui-badge_dot":!this.text},attrs:{"aria-hidden":"true"}},[this._v(this._s(this.text))]):this._e()}),[],!1,null,"440ddec4",null);e.a=a.exports},740:function(t,e,n){"use strict";n(646)},741:function(t,e,n){"use strict";n(647)},742:function(t,e,n){"use strict";var i=n(1),r=n.n(i),s=n(0);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=function(t){return s.h.getCommonCgiData({cgiName:"SearchGlobalEduCommApi",data:a({searchId:"",sessionId:s.b.sessionId,scene:s.b.scene,device:s.b.device,H5Version:s.b.version,clientVersion:s.b.wechatVersion,type:1,query:""},t)})}},810:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(17),s=n(2),o=n(21),a={name:"SearchBar",components:{History:function(){var t=o.a.startImport("history");return n.e(237).then(n.bind(null,2221)).then((function(e){return o.a.afterImport(t,"history"),e}))},Suggestion:function(){var t=o.a.startImport("suggestion");return n.e(244).then(n.bind(null,2166)).then((function(e){return o.a.afterImport(t,"suggestion"),e}))}},data:function(){return{SearchInputId:u,typingInput:"",searchInput:"",lastInput:"",lastVertType:null,inputTimer:null,inputFocus:!1,showHistory:!0,showSuggestion:!1,selectIndex:-1,selectInput:"",transferred:!1,customActive:!1}},computed:{hisList:function(){return this.$refs.History&&this.$refs.History.historyListShow||[]},sugList:function(){return this.$refs.Sug&&this.$refs.Sug.suggestoinObj||[]},selectList:function(){try{return this.showHistory?this.hisList.map((function(t){return t.hotword})):this.sugList.reduce((function(t,e){var n=e.items,i=void 0===n?[]:n;return t.concat(i.map((function(t){return t.word||t.nickName})))}),[])}catch(t){return[]}},selectHisItem:function(){try{return this.showHistory&&this.selectIndex>=0?this.hisList[this.selectIndex]:null}catch(t){return null}},selectSugItem:function(){try{return this.showSuggestion&&this.selectIndex>=0&&this.sugList.reduce((function(t,e){var n=e.items,i=void 0===n?[]:n;return t.concat(i)}),[])[this.selectIndex]||null}catch(t){return null}},input:{get:function(){return this.selectInput||this.searchInput},set:function(t){this.inputFocus=!0,this.changeInput({query:t}),this.toggleHint(!t),this.clearSelect()}},isIndex:function(){return this.$route.name===s.f.INDEX},currentVert:function(){var t,e,n=this.isIndex?this.$store.state.index.vertEntries:this.$store.state.result.category,r=n.find((function(t){return t.selected}))||n.find((function(t){return t.type==i.b.type||t.businessType==i.b.type}))||n[0]||{};return{word:null!==(t=r.word)&&void 0!==t?t:r.hotword,type:null!==(e=r.type)&&void 0!==e?e:r.businessType}},placeholder:function(){var t="en"===i.b.lang?" ":"",e=this.currentVert,n=e.type?e.word:"";return"".concat(i.g.L("搜索")).concat(t).concat(n)}},watch:{$route:function(){var t=i.g.getUrlParamsResultOption();t.query!==this.searchInput&&this.changeInput(t)}},created:function(){this.searchInput=i.b.query||i.b.queryString.query||"",i.a.$on(r.c.onInputChange,this.changeInput),i.a.$on(r.c.onInputConfirm,this.onGoto),i.a.$on(i.j.GOTO,this.onGoto),i.a.$on(i.j.SEARCH_BAR_TRANSFER,this.transferDom),i.a.$on(i.j.SEARCH_BAR_ACTIVE,this.toggleActive),i.a.$on(i.j.BACK_BUTTON_CLICK,this.hideHint),i.a.$on(i.j.goToPageIndex,this.focusInput),window.addEventListener("mousedown",this.hideHint),window.addEventListener("blur",this.hideHint),window.addEventListener("focus",this.focusWhenIndex)},mounted:function(){document.dispatchEvent(new Event(i.j.SEARCH_BAR_READY))},methods:{transferDom:function(t){t&&(t.appendChild(this.$refs.SearchForm),this.transferred=!0,this.focusWhenIndex())},focusInput:function(t){var e=this;t&&(t.reset||t.clear)&&(this.clearInput(),this.clearSelect(),this.hideHint()),setTimeout((function(){e.$refs.SearchInput.focus()}))},focusWhenIndex:function(){this.isIndex&&this.focusInput()},onFocus:function(t){this.inputFocus=t,this.toggleHint()},onCancel:function(){!this.inputFocus&&this.input&&(this.input=""),this.clearSelect(),this.inputFocus=!1},onGoto:function(t){this.hideHint(t)},hideHint:function(t){var e=this;t&&t.query&&(this.searchInput=t.query),this.selectInput&&(this.searchInput=this.selectInput,this.emitInput()),t&&t.path&&(t.path.includes(this.$refs.SearchForm)||t.path.some((function(t){return t.htmlFor&&t.htmlFor===u})))||this.$nextTick((function(){e.$refs.SearchInput.blur(),e.inputFocus=!1}))},changeInput:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query||t.word||"";this.searchInput=e,this.typingInput=e},clearInput:function(){this.searchInput="",this.typingInput="",this.toggleHint(!0)},toggleHint:function(t){this.inputFocus&&(this.showHistory=!this.searchInput,this.showSuggestion=!!this.searchInput,(t||this.searchInput)&&this.emitInput())},toggleActive:function(t){this.customActive=t&&document.activeElement===this.$refs.SearchInput},emitInput:function(){var t=this;this.inputFocus||(this.inputFocus=!0),this.clearSelect(),this.inputTimer&&window.clearTimeout(this.inputTimer),this.inputTimer=setTimeout((function(){t.lastInput===t.searchInput&&t.lastVertType===t.currentVert.type||(t.lastInput=t.searchInput,t.lastVertType=t.currentVert.type,i.a.$emit(r.c.onInputChange,{query:t.searchInput,isInputChange:!0}))}),100)},emitSearch:function(t){if(this.emitSelect(),this.searchInput){if("btn"===t)this.emitConfirm(s.n.PC_SEARCH_BAR);else try{this.selectSugItem?this.$refs.Sug.tapIndex(this.selectIndex):this.selectHisItem?this.$refs.History.tapItem(this.selectHisItem):this.emitConfirm(void 0,s.p.ENTER_INPUT_CONFIRM)}catch(t){this.emitConfirm(void 0,s.p.ENTER_INPUT_CONFIRM)}this.hideHint()}else this.focusInput()},emitConfirm:function(t,e){i.a.$emit(i.j.GOTO,{page:s.f.RESULT,query:this.searchInput||"",action:t,parentType:e,searchId:""})},onSelect:function(t){if(this.inputFocus){var e=this.selectList.length;if(e){var n=this.selectIndex;-1===n?n=t>0?0:e-1:0===n&&t<0||n===e-1&&t>0?n=-1:n+=t,this.selectIndex=n,this.selectInput=this.selectList[n]||""}}else this.onFocus(!0)},emitSelect:function(){this.searchInput=this.selectInput||this.searchInput},alterSelect:function(t){this.selectIndex=t},clearSelect:function(){this.selectInput="",this.selectIndex=-1}}},c=(n(740),n(4)),u=(Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.transferred,expression:"transferred"}],ref:"SearchForm",staticClass:"search",on:{mousedown:function(e){!t.inputFocus&&t.onFocus(!0)}}},[n("div",{staticClass:"search-area"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.input,expression:"input",modifiers:{trim:!0}}],ref:"SearchInput",class:{empty:!t.typingInput&&!t.input},attrs:{id:t.SearchInputId,type:"text",name:"query",autocomplete:"off",placeholder:t.placeholder},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value.trim())},function(e){t.typingInput=e.target.value}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.onCancel.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.hideHint()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.onSelect(-1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.onSelect(1))}],keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.emitSearch.apply(null,arguments)},blur:function(e){return t.$forceUpdate()}}}),n("label",{directives:[{name:"show",rawName:"v-show",value:t.input,expression:"input"},{name:"active",rawName:"v-active"}],staticClass:"search-area-clear weui-icon-clear active__opacity",attrs:{for:t.SearchInputId},on:{click:t.clearInput}}),n("button",{on:{mousedown:function(t){t.stopPropagation()},click:function(e){return e.stopPropagation(),t.emitSearch("btn")}}},[t._v(t._s(t._f("L")("搜索")))]),n("label",{class:["search-area-bg",{active:t.inputFocus||t.customActive}],attrs:{for:t.SearchInputId}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.inputFocus&&(t.showSuggestion||t.showHistory),expression:"inputFocus && (showSuggestion || showHistory)"}],staticClass:"search-hint",on:{mouseout:function(e){return t.alterSelect(-1)}}},[n("suggestion",{directives:[{name:"show",rawName:"v-show",value:t.showSuggestion&&t.sugList.length,expression:"showSuggestion && sugList.length"}],ref:"Sug",attrs:{"select-index":t.selectIndex},on:{hover:t.alterSelect}}),n("history",{directives:[{name:"show",rawName:"v-show",value:t.showHistory,expression:"showHistory"}],ref:"History",attrs:{"select-index":t.selectIndex},on:{hover:t.alterSelect}})],1)])}),[],!1,null,"0941b748",null).exports,"weixin-search-input")},834:function(t,e,n){},835:function(t,e,n){},836:function(t,e,n){},837:function(t,e,n){},838:function(t,e,n){},839:function(t,e,n){},840:function(t,e,n){},841:function(t,e,n){},842:function(t,e,n){},843:function(t,e,n){},844:function(t,e,n){},845:function(t,e,n){},846:function(t,e,n){},847:function(t,e,n){},848:function(t,e,n){},849:function(t,e,n){},850:function(t,e,n){},851:function(t,e,n){},852:function(t,e,n){}}]);