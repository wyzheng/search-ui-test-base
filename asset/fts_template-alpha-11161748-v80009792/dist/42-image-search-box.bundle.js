(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{1084:function(t,e,i){},1129:function(t,e,i){},1130:function(t,e,i){},1131:function(t,e,i){},1133:function(t,e,i){},1134:function(t,e,i){},1135:function(t,e,i){},1136:function(t,e,i){},1137:function(t,e,i){},1138:function(t,e,i){},1139:function(t,e,i){},1140:function(t,e,i){},1141:function(t,e,i){},1142:function(t,e,i){},1143:function(t,e,i){},1144:function(t,e,i){},1145:function(t,e,i){},1146:function(t,e,i){},1147:function(t,e,i){},1148:function(t,e,i){},1149:function(t,e,i){},1150:function(t,e,i){},1151:function(t,e,i){},1763:function(t,e){var i=function(t,e){var i=document.createElement("canvas");return i.setAttribute("width",t),i.setAttribute("height",e),i.getContext("2d")},a=function(t,e){for(var i={},a=0;a<t.length;a+=4){var n=t[a+3];if(0!==n){var s=Array.from(t.subarray(a,a+3));if(-1===s.indexOf(void 0)){var o=n&&255!==n?"rgba(".concat(s.concat([n]).join(","),")"):"rgb(".concat(s.join(","),")");-1===e.indexOf(o)&&(i[o]?i[o].count++:i[o]={color:o,count:1})}}}return Object.values(i).sort((function(t,e){return e.count-t.count}))},n={ignore:[],scale:1};t.exports=function(t,e){void 0===e&&(e=n);try{var s=(e=Object.assign({},n,e)).ignore,o=e.scale,r=e,c=r.isResize,l=(r.imgWidth,r.imgHeight,r.width),u=r.height,h=r.x,p=r.y;return(o>1||o<=0)&&console.warn("You set scale to ".concat(o,", which isn't between 0-1. This is either pointless (> 1) or a no-op (≤ 0)")),c?Promise.resolve(function(t){var e=t.src,a=t.scale,n=t.width,s=t.height,o=t.x,r=t.y;void 0===a&&(a=1);var c=new Image;return e.startsWith("data")||(c.crossOrigin="Anonymous"),new Promise((function(t,l){c.onload=function(){var e=i(n,s);e.drawImage(c,-o,-r,n/a,s/a,0,0,n,s);var l=e.getImageData(0,0,n,s).data;t(l)};var u=function(t){return l(new Error("An error occurred attempting to load image"))};c.onerror=u,c.onabort=u,c.src=e}))}({src:t,scale:o,width:l,height:u,x:h,y:p})).then((function(t){return a(t,s)})):Promise.resolve(function(t,e){void 0===e&&(e=1);var a=new Image;return t.startsWith("data")||(a.crossOrigin="Anonymous"),new Promise((function(n,s){a.onload=function(){var t=a.width*e,s=a.height*e,o=i(t,s);o.drawImage(a,0,0,t,s);var r=o.getImageData(0,0,t,s).data;n(r)};var o=function(t){return s(new Error("An error occurred attempting to load image"))};a.onerror=o,a.onabort=o,a.src=t}))}(t,o)).then((function(t){return a(t,s)}))}catch(t){return Promise.reject(t)}}},1764:function(t,e,i){"use strict";i(1129)},1767:function(t,e,i){"use strict";i(1130)},1768:function(t,e,i){"use strict";i(1131)},1770:function(t,e,i){"use strict";i(1133)},1771:function(t,e,i){"use strict";i(1134)},1772:function(t,e,i){"use strict";i(1135)},1773:function(t,e,i){"use strict";i(1136)},1774:function(t,e,i){"use strict";i(1137)},1775:function(t,e,i){"use strict";i(1138)},1776:function(t,e,i){"use strict";i(1139)},1777:function(t,e,i){"use strict";i(1140)},1778:function(t,e,i){"use strict";i(1141)},1779:function(t,e,i){"use strict";i(1142)},1780:function(t,e,i){"use strict";i(1143)},1781:function(t,e,i){"use strict";i(1144)},1782:function(t,e,i){"use strict";i(1145)},1783:function(t,e,i){"use strict";i(1146)},1784:function(t,e,i){"use strict";i(1147)},1785:function(t,e,i){"use strict";i(1148)},1786:function(t,e,i){"use strict";i(1149)},1787:function(t,e,i){"use strict";i(1150)},1788:function(t,e,i){"use strict";i(1151)},1949:function(t,e,i){"use strict";i(1084)},2165:function(t,e,i){"use strict";i.r(e);var a=i(24),n=i.n(a),s=i(1),o=i.n(s),r=i(0),c=i(46),l=i.n(c),u={ShowType:{EMPTYDATA_NORMAL:1,EMPTYDATA_SMALL:2,QRCODEINFO_ITEM:11,QRCODEINFO_TEXT:12,QRCODEINFO_NOTSUPPORT:13}},h=i(2);function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={watch:{data:function(){var t=this;this.M_isExposed=!1,this.$nextTick((function(){t.M_expose()}))}},created:function(){this.M_isExposed=!1},data:function(){return{imageSearchEnum:u}},mounted:function(){var t,e=this;setTimeout((function(){e.M_expose()})),window.addEventListener("scroll",(function(){clearTimeout(t),t=setTimeout(e.M_expose,300)}),!1)},methods:{M_expose:function(){if(!this.M_isExposed&&this.exposeReport){var t=window.innerHeight||document.documentElement.clientHeight,e=this.$el.getBoundingClientRect();e.top+e.height<t&&(this.exposeReport&&this.exposeReport(),this.M_isExposed=!0)}},M_feedbackExpose:function(){r.f.imageSearch.expose([{type:this.$props.data&&this.$props.data.type||0,docID:"feedback-popup"}])},M_onTapNegaLink:function(){var t=this.feedback.complaint;t.jumpInfo&&t.jumpInfo.jumpUrl?this.M_go(Object.assign({},t.jumpInfo,{jumpUrl:"".concat(t.jumpInfo.jumpUrl+(t.jumpInfo.jumpUrl.indexOf("?")>-1?"&":"?"),"searchId=").concat(r.b.searchId,"&query=").concat(r.b.query)})):this.M_go(t.jumpInfo),r.f.imageSearch.click(d(d({},this.$props.data),{},{docID:"feedback-popup-link"}))},M_onTapNegaConfirm:function(t){t.length&&(r.h.getChatSearchData({type:h.u.IMAGE,params:{reqKey:this.reqKey,content:JSON.stringify({action:"chatimgsearch_feedback",req_key:this.reqKey,reasons:t})}}).then((function(){l.a.toast("提交成功")})),r.f.imageSearch.click(d(d({},this.$props.data),{},{docID:"feedback-popup-confirm"})))},M_onFeedbackShow:function(){r.f.imageSearch.click(d(d({},this.$props.data),{},{docID:"feedback-popup"}))}}},f=i(1763),g=i.n(f),v={props:["src","getMainColorImg","imgData","showW","showH","showAll","isGetMainColor"],computed:{orientationStyle:function(){var t=this.imgData,e=t.width,i=t.height,a=0,n=0;return 1!=t.orientation&&3!=t.orientation||(e=t.height,i=t.width,1==t.orientation?n=e:a=i),{transform:"translate(".concat(a/16,"rem, ").concat(n/16,"rem) rotate(").concat(-90*t.orientation||0,"deg)"),width:"".concat(e/16,"rem"),height:"".concat(i/16,"rem")}},offsetStyle:function(){var t=this.imgData,e=-t.relativeMinx*t.width,i=-t.relativeMiny*t.height;return{transform:"translate(".concat(e.toFixed(2)/16,"rem, ").concat(i.toFixed(2)/16,"rem)")}},clipStyle:function(){var t=this.imgData,e=(t.relativeMaxx-t.relativeMinx)*t.width,i=(t.relativeMaxy-t.relativeMiny)*t.height;return{cW:e,cH:i,width:"".concat(e/16,"rem"),height:"".concat(i/16,"rem")}},scaleStyle:function(){var t=this.imgData;if(!t||void 0===t.width||void 0===t.relativeMinx)return null;var e=this.clipStyle.cW,i=this.clipStyle.cH,a=this.showW||e,n=this.showH||i,s=Math.min(a/e,n/i).toFixed(2),o=(a-e*s)/2,r=(n-i*s)/2;return!0===this.isGetMainColor&&this.getMainColor({scale:s,x:o,y:r,width:this.showW,height:this.showH}),{transform:"translate(".concat(o/16,"rem, ").concat(r/16,"rem) scale(").concat(s,")")}}},methods:{getMainColor:function(t){var e=this,i=t.scale,a=t.x,n=t.y,s=t.width,o=t.height;g()(this.getMainColorImg,{isResize:!0,scale:i,x:a,y:n,width:s,height:o}).then((function(t){e.$emit("getColor",{colorList:t})})).catch((function(t){}))}}},_=(i(1764),i(4)),b=Object(_.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return this.scaleStyle?e("span",{staticClass:"clip-image-scale",style:this.scaleStyle},[e("span",{staticClass:"clip-image-clip",style:this.clipStyle},[e("span",{staticClass:"clip-image-offset",style:this.offsetStyle},[e("img",{staticClass:"clip-image-orientation",style:this.orientationStyle,attrs:{src:this.src}})])])]):e("span",{staticClass:"clip-image-placeholder",style:{backgroundImage:"url('"+this.src+"')"}})}),[],!1,null,"64a19a80",null).exports,y=i(3),C=i(1765),w=i.n(C),k=(i(1766),i(59)),O=function(t,e){var i=t.reqKey,a=t.action,n=t.params;return i=i||r.b.imageSearchReqKey,a=a||r.b.extParams.action||"chatimgsearch_by_req_key",r.h.getChatSearchData({type:h.u.IMAGE,params:{reqKey:i,action:a,content:JSON.stringify(Object.assign({req_key:i,action:a,sessionid64:r.b.sessionId},n))}},e)};function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var j=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;return Math.abs(t-e)>i},I={components:{},mixins:[m],props:{title:{type:String},show:{type:Boolean,default:!1},imgCutObject:{type:Object},cropList:{type:Array,default:function(){return[]}},cropIndex:{type:Number,default:0},researchType:{type:Number,default:0},mode:{type:Number,default:4},hideDots:{type:Boolean},isQuerySpecific:{type:Boolean,default:!1}},data:function(){return{scrollTop:0,cropper:"",screenWidth:document.body.clientWidth,screenHeight:document.body.clientHeight,loading:!1,x:0,y:0,width:0,height:0,isCrop:!1,timeOut:null,timeOutPic:null,isShowPic:!0,isShowTips:!0,imgCutObj:this.imgCutObject||this.cropList[this.cropIndex]||{},cropReady:!1,currentDotIndex:this.cropIndex,cropStatus:{ratio:1,imgX:0,imgY:0,left:0,top:0,width:0,height:0},minCropBoxWidth:0,minCropBoxHeight:0,animateHandler:null,isAutoCrop:!0,isChoosing:!1,cropReported:!1,chooseReported:!1,lastShow:void 0,lastLoading:void 0}},computed:{dots:function(){var t=this;return this.cropList.map((function(e){return t.getCropAreaData(e.imgObj)}))}},watch:{show:function(t){t?(this.onCreated(),this.chooseArea(this.dots[this.cropIndex],this.cropIndex,!1)):this.onDestroy(),this.setupClientBehavior(t,!1)},loading:function(t){t&&this.setupClientBehavior(!1,!0)}},mounted:function(){var t=this;this.$nextTick((function(){t.initCropper(),k.a.on(t.handleNavCtrl),r.a.$on(r.j.GLOBAL_ANIMATION_LOADING,t.handleLoadingPage)}))},beforeDestroy:function(){this.onDestroy(),this.setupClientBehavior(!1,!1),k.a.off(this.handleNavCtrl),r.a.$off(r.j.GLOBAL_ANIMATION_LOADING,this.handleLoadingPage)},methods:{onCreated:function(){var t=this;this.scrollTop=document.documentElement.scrollTop,document.documentElement.scrollTop=0,document.documentElement.classList.add("oh"),this.exposeReport=null,this.isShowTips=!0,this.timeOut=setTimeout((function(){t.isShowTips=!1}),5e3),this.timeOutPic=setTimeout((function(){document.getElementsByClassName("cropper-canvas")&&(t.isShowPic=!1),t.isShowPic||(t.timeOutPic=null)}),300),this.isAutoCrop=!0,this.isChoosing=!1,this.cropReported=!1,this.chooseReported=!1},onDestroy:function(){document.documentElement.scrollTop=this.scrollTop,document.documentElement.classList.remove("oh"),clearTimeout(this.timeOut),clearTimeout(this.timeOutPic),this.timeOut=null,this.timeOutPic=null},researchImg:function(){var t=this;this.loading=!0,r.n.hasSearchBarForSpecialSearchScene&&r.h.setInputBar({query:""}),r.a.$emit(r.j.IMAGE_SEARCH_PIC_CUT_HIDE,!0,this.isCrop);var e="".concat(r.b.imageSearchReqKey,"_crop_").concat(Date.parse(new Date));1==+this.researchType?(r.a.$emit(r.j.IMAGE_SEARCH_PIC_CUT_LOAD,!0),O({action:"chatimgsearch_research",reqKey:r.b.imageSearchReqKey,params:{orientation:this.imgCutObj.imgObj.orientation,req_key:r.b.imageSearchReqKey,crop_req_key:e,research_type:+this.researchType,mode:+this.mode,match_obj:{relative_minx:this.x/this.imgCutObj.imgObj.width,relative_miny:this.y/this.imgCutObj.imgObj.height,relative_maxx:this.width/this.imgCutObj.imgObj.width+this.x/this.imgCutObj.imgObj.width,relative_maxy:this.height/this.imgCutObj.imgObj.height+this.y/this.imgCutObj.imgObj.height}}}).then((function(t){})).catch((function(t){})),O({action:"chatimgsearch_research_by_req_key",reqKey:r.b.imageSearchReqKey,params:{req_key:e}}).then((function(e){r.a.$emit(r.j.IMAGE_SEARCH_PIC_CUT_BACK,e,t.isCrop,{relativeMinx:t.x/t.imgCutObj.imgObj.width,relativeMiny:t.y/t.imgCutObj.imgObj.height,relativeMaxx:t.width/t.imgCutObj.imgObj.width+t.x/t.imgCutObj.imgObj.width,relativeMaxy:t.height/t.imgCutObj.imgObj.height+t.y/t.imgCutObj.imgObj.height}),r.a.$emit(r.j.IMAGE_SEARCH_PIC_CUT_LOAD,!1)})).catch((function(e){r.a.$emit(r.j.IMAGE_SEARCH_PIC_CUT_LOAD,!1),t.$emit("cutSearchFail")})).finally((function(){t.loading=!1}))):(r.a.$emit(r.j.GLOBAL_ANIMATION_LOADING,!0,"识别中"),O({action:"chatimgsearch_crop",reqKey:e,params:{orientation:this.imgCutObj.imgObj.orientation,research_type:+this.researchType,mode:+this.mode,origin_req_key:r.b.imageSearchReqKey,match_obj:{relative_minx:this.x/this.imgCutObj.imgObj.width,relative_miny:this.y/this.imgCutObj.imgObj.height,relative_maxx:this.width/this.imgCutObj.imgObj.width+this.x/this.imgCutObj.imgObj.width,relative_maxy:this.height/this.imgCutObj.imgObj.height+this.y/this.imgCutObj.imgObj.height}}}).then((function(t){r.a.$emit(r.j.GOTO,Object.assign({page:h.f.RESULT,query:"",specialSearchArgs:{type:h.u.IMAGE,reqKey:e,action:"chatimgsearch_crop_by_req_key",params:{origin_req_key:r.b.imageSearchReqKey,fromReqType:1,fromReqKey:e}}}))})).catch((function(t){})).finally((function(){t.loading=!1})))},initCropper:function(){var t,e,i,a,n=this;this.cropper=new w.a(n.$refs.img,{viewMode:1,guides:!0,checkCrossOrigin:!0,dragMode:"move",cropBoxMovable:!0,cropBoxResizable:!0,autoCrop:!1,minCropBoxWidth:n.minCropBoxWidth,minCropBoxHeight:n.minCropBoxHeight,minContainerWidth:n.screenWidth-32,minContainerHeight:n.screenHeight-172,minCanvasWidth:n.screenWidth-32,minCanvasHeight:n.screenHeight-172,center:!1,ready:function(){n.cropper.crop();var t=n.dots[n.cropIndex];if(t)n.cropper.setData(t),n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height,n.setDotPosition(),n.cropReady=!0;else{var e=n.imgCutObj.imgObj||{},i=e.width,a=e.height;n.cropStatus.width=.8*i||100,n.cropStatus.height=.8*a||100}},cropmove:function(){var t=n.cropper.getCropBoxData();t.top>n.screenHeight-172-t.height&&n.cropper.setCropBoxData({top:n.screenHeight-172-t.height}),n.setDotPosition(),n.currentDotIndex=-1},cropend:function(s){n.x=t,n.y=e,n.width=i,n.height=a,n.isCrop=!0},crop:function(s){t=s.detail.x,e=s.detail.y,i=s.detail.width,a=s.detail.height,!n.show||n.isAutoCrop||n.isChoosing||n.cropReported||4!==n.mode||(r.f.imageSearch.click(S(S({},n.imgCutObject),{},{clickZone:5})),n.cropReported=!0),n.isAutoCrop=!1},zoom:function(t){var e=t.detail.ratio;j(n.cropStatus.ratio,e)&&(n.setDotPosition(e),n.currentDotIndex=-1)}})},clickChange:function(){r.a.$emit(r.j.IMAGE_SEARCH_PIC_CUT_HIDE,!1,this.isCrop),r.a.$emit(r.j.IMAGE_SEARCH_PIC_CUT_LOAD,!1)},getCropAreaData:function(t){var e={x:t.relativeMinx*t.width,y:t.relativeMiny*t.height,width:(t.relativeMaxx-t.relativeMinx)*t.width,height:(t.relativeMaxy-t.relativeMiny)*t.height},i=this.cropStatus,a={centerX:e.x+e.width/2,centerY:e.y+e.height/2,left:(e.x+e.width/2)*i.ratio+i.imgX,top:(e.y+e.height/2)*i.ratio+i.imgY};return S(S(S({},e),a),{},{rotate:0,scaleX:1,scaleY:1,hidden:a.left-14<0||a.left+14>this.screenWidth-32||a.top-14<0||a.top+14>this.screenHeight-172||a.left+14>i.left&&a.top+14>i.top&&a.left-14<i.left+i.width&&a.top-14<i.top+i.height})},chooseArea:function(t,e){var i=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.currentDotIndex=e;var n,s=150,o={x:t.centerX,y:t.centerY,width:this.minCropBoxWidth,height:this.minCropBoxHeight},c=function(e){o.x=t.centerX+(t.x-t.centerX)*e,o.y=t.centerY+(t.y-t.centerY)*e,o.width=i.minCropBoxWidth+(t.width-i.minCropBoxWidth)*e,o.height=i.minCropBoxHeight+(t.height-i.minCropBoxHeight)*e},l=function(){i.cropper.setData(S(S({},o),{},{scaleX:1,scaleY:1,rotate:0})),i.x=o.x,i.y=o.y,i.width=o.width,i.height=o.height},u=function t(e){i.isChoosing=!0;var o=e-(n=n||e);a&&o<s?(c(o/s),l(),i.setDotPosition(),i.animateHandler=requestAnimationFrame(t)):a&&o===s||(c(1),l(),i.setDotPosition(),i.isChoosing=!1)};this.animateHandler&&cancelAnimationFrame(this.animateHandler),this.animateHandler=requestAnimationFrame(u),this.chooseReported||4!==this.mode||(r.f.imageSearch.click(S(S({},this.imgCutObject),{},{clickZone:6})),this.chooseReported=!0)},setDotPosition:function(t){var e=this.cropper.getCanvasData(),i=this.cropper.getCropBoxData(),a=t||e.width/e.naturalWidth;(j(e.top,this.cropStatus.imgY)||j(e.left,this.cropStatus.imgX)||j(i.left,this.cropStatus.left)||j(i.top,this.cropStatus.top)||j(i.width,this.cropStatus.width)||j(i.height,this.cropStatus.height)||j(t,this.cropStatus.ratio))&&(this.cropStatus=S(S({},i),{},{imgX:e.left,imgY:e.top,ratio:a}))},setupClientBehavior:function(t,e){if(t!==this.lastShow||e!==this.lastLoading)if(this.lastShow=t,this.lastLoading=e,r.n.hasSearchBarForSpecialSearchScene){r.h.setPopGestureEnabled({enabled:!t});var i=this.isQuerySpecific?void 0:"placeholderColor";t?k.a.configNavBar({hideSearchBar:!0,nativeConfig:{title:this.title,searchBarTextColor:i},navButtonConfig:{leftBarButtonType:"exit"}}):k.a.configNavBar({hideSearchBar:e,navButtonConfig:{leftBarButtonType:"back"},nativeConfig:{title:" ",searchBarTextColor:i}})}else k.a.changeBackBtnType({leftBarButtonType:t?"back":"exit"})},handleNavCtrl:function(t){this.show?this.clickChange():t()},handleLoadingPage:function(t){t||this.setupClientBehavior(!1,!1)}}},T=(i(1767),Object(_.a)(I,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"pic-cut"},[i("div",{class:{"pic-cut-content":!0,"cropper-point-width-tiny":t.cropStatus.width<5,"cropper-point-height-tiny":t.cropStatus.height<5,"cropper-point-width-sm":t.cropStatus.width>=5&&t.cropStatus.width<16,"cropper-point-height-sm":t.cropStatus.height>=5&&t.cropStatus.height<16}},[t.isShowPic?i("div",{staticClass:"placeholder-pic"}):t._e(),i("img",{ref:"img",staticClass:"pic-cut__placeholder-img",attrs:{src:0==t.imgCutObj.imgObj.orientation?t.imgCutObj.thumbUrl:t.imgCutObj.spinUrl}}),t._l(t.dots,(function(e,a){return i("i",{directives:[{name:"show",rawName:"v-show",value:t.cropReady&&t.dots.length>1,expression:"cropReady && dots.length > 1"}],key:a,staticClass:"pic-cut__dot",style:{top:e.top+"px",left:e.left+"px"},attrs:{hidden:t.hideDots||a===t.currentDotIndex||e.hidden},on:{click:function(i){return t.chooseArea(e,a)}}})}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowTips,expression:"isShowTips"}],staticClass:"pic-cut__tips"},[t._t("default")],2),i("div",{staticClass:"opr-area-item opr-area-item__back",attrs:{role:"button",title:"返回"}},[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"back-opr opr-item active__link",on:{click:t.clickChange}})]),i("div",{staticClass:"opr-area-item opr-area-item__search",attrs:{role:"button",title:"搜索"}},[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"search-opr opr-item active__link",on:{click:t.researchImg}})])])}),[],!1,null,null,null).exports),D=i(28);function P(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function E(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?P(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var B=window.innerWidth||document.documentElement.clientWidth,M=window.innerHeight||document.documentElement.clientHeight,A={components:{clipImage:b,picCut:T},mixins:[m],props:{data:{type:Array,required:!0},cropSearch:{type:Number,default:1},cropList:{type:Array,default:function(){return[]}},isGetMainColor:{type:Boolean,default:!0},isSoti:{type:Boolean,default:!1},isQuerySpecific:{type:Boolean,default:!1},extActions:{type:Array,default:function(){return[]}}},data:function(){return{cacheImageSrc:decodeURIComponent(r.b.queryString.cacheImageSrc||""),currentIndex:0,previewData:null,count:0,itemsEl:[],start:{},move:{},end:{},prevIndex:0,offset:0,width:0,height:0,threshold:50,duration:300,mainColor:"",showPicCut:!1,cacheCropList:this.cropList,picCutTitle:""}},computed:{imgWrpSizes:function(){var t=this;return this.$props.data.map((function(e){return t.computedCoverSize(e.imgObj)}))},cropIndex:function(){var t=(this.data[this.currentIndex]||{}).docID;return this.cropList.findIndex((function(e){return e.docID===t}))},picCutImgObj:function(){try{return Object.assign({spinUrl:this.data[this.currentIndex].thumbUrl},this.data[this.currentIndex])}catch(t){return null}}},watch:{data:function(t,e){var i=this;t&&t.length&&e&&e.length&&t[0].thumbUrl!==e[0].thumbUrl&&(this.cacheImageSrc=""),this.$nextTick((function(){i.itemsEl=i.$refs.swiper.children,i.count=i.data.length,i.swipeInit()}))}},mounted:function(){var t=this;y.a.$on(y.b.IMAGE_SEARCH_PIC_CUT_HIDE,(function(e,i){t.showPicCut=!1,e?(r.f.imageSearch.click(E(E({},t.data[0]),{},{clickZone:4})),t.currentIndex=0,t.prevIndex=0,t.swipeInit(),t.activate(0),t.show(0)):r.f.imageSearch.click(E(E({},t.data[t.currentIndex]),{},{clickZone:3}))})),this.$nextTick((function(){B=window.innerWidth||document.documentElement.clientWidth,M=window.innerHeight||document.documentElement.clientHeight,t.swiperEl=t.$refs.swiper,t.itemsEl=t.$refs.swiper.children,t.count=t.data.length,t.swipeInit(),t.activate(0)}))},destroyed:function(){y.a.$off(y.b.IMAGE_SEARCH_PIC_CUT_HIDE,{})},methods:{onCutAction:function(t){this.showPicCut=!0,this.picCutTitle=this.isSoti?"选择其他题目":"调整搜索区域",r.f.imageSearch.click(E(E({},this.data[this.currentIndex]),{},{clickZone:2,clickContent:t?this.picCutTitle:""}))},getImgCutSearchFail:function(){y.a.$emit(y.b.showToast,{action:D.a.warn,text:"操作未能执行，可重新搜索"})},handleGetMainColor:function(t){this.mainColor=t.colorList[0].color},exposeReport:function(){r.f.imageSearch.expose(this.$props.data)},computedCoverSize:function(t){if(!t||void 0===t.width||void 0===t.relativeMinx)return{};var e=(t.relativeMaxx-t.relativeMinx)*t.width/((t.relativeMaxy-t.relativeMiny)*t.height),i=0,a=0,n=1;return e>1?i=(a=96)/Math.min(4/3,e):n=96/(i=(a=96)/Math.max(3/4,e)),{width:a,height:i,scale:n}},imageSearch:function(t){var e=this.$props.data[t];this.$store.commit({type:"removeExtReqParams",key:["cookies"]}),this.$store.commit({type:"result/generateGetSearchRid",reset:!0},{root:!0}),y.a.$emit(y.b.GOTO,Object.assign({page:h.f.RESULT,query:"",specialSearchArgs:{type:h.u.IMAGE,action:"chatimgsearch_switch",reqKey:e.reqKey,params:{imageItem:e}}}))},onTapPreview:function(){this.$data.previewData=null},showPreview:function(t){this.$data.previewData={thumbUrl:this.cacheImageSrc||t.thumbUrl,imgObj:t.imgObj,showW:B,showH:M}},swipeInit:function(){var t=88*(this.count-1)+128;this.swiperEl.style.width="".concat(t,"px"),this.swiperEl.style.height="".concat(96,"px")},swipeStart:function(t){var e=this;1!=e.count&&(e.start.x=t.changedTouches[0].pageX,e.start.y=t.changedTouches[0].pageY,e.swiperEl.style["-webkit-transition"]="none",e.swiperEl.style.transition="none")},swipeMove:function(t){var e=this;if(1!=e.count){e.move.x=t.changedTouches[0].pageX;var i=e.move.x-e.start.x,a="translate3d(".concat(i-e.offset,"px, 0, 0)");e.swiperEl.style["-webkit-transform"]=a,e.swiperEl.style.transform=a,e.itemsEl.forEach((function(t){var e=t.getBoundingClientRect(),i=e.left+e.width/2;if(i>B/2-108&&i<B/2+108){var a=1-Math.abs(i-B/2)/108;t.style.transform="scale(".concat(.75+.25*a,")"),t.style.margin="0 ".concat(20*a-4,"px"),t.style.opacity=.3+.7*a,t.style.transition="none"}})),t.preventDefault()}},swipeEnd:function(t){var e=this;if(1!=e.count){e.itemsEl.forEach((function(t){t.style.transform=null,t.style.transition=null,t.style.margin=null,t.style.opacity=null})),e.end.x=t.changedTouches[0].pageX,e.end.y=t.changedTouches[0].pageY;var i=e.end.x-e.start.x;if(e.prevIndex=e.currentIndex,Math.abs(i)>88){var a=-(i-e.offset)/88;e.currentIndex=Math.floor(Math.min(e.count-1,Math.max(0,a)))}else i>e.threshold?(e.currentIndex=0===e.currentIndex?0:--e.currentIndex,t.preventDefault()):i<-e.threshold&&(e.currentIndex=e.currentIndex<e.count-1?++e.currentIndex:e.currentIndex,t.preventDefault());r.f.imageSearch.click(E(E({},this.data[this.currentIndex]),{},{clickZone:1})),e.show(e.currentIndex)}},show:function(t){var e=this;this.offset=88*t;var i="translate3d(-".concat(this.offset,"px, 0, 0)"),a="".concat(this.duration,"ms");this.swiperEl.style["-webkit-transition"]=a,this.swiperEl.style.transition=a,this.swiperEl.style["-webkit-transform"]=i,this.swiperEl.style.transform=i,e.goto=-1,e.currentIndex!=e.prevIndex&&(this.activate(e.currentIndex),this.imageSearch(e.currentIndex))},activate:function(t){Array.prototype.forEach.call(this.itemsEl,(function(e,i){e.classList.remove("on"),t===i&&e.classList.add("on")}))},go:function(t,e){if(!this.cropSearch||this.currentIndex!=t){if(t===this.currentIndex)return r.f.imageSearch.click(e),void this.showPreview(e);if(t<0||t>this.count-1)return;return this.prevIndex=this.currentIndex,this.currentIndex=t,this.goto=t,this.show(this.currentIndex),r.f.imageSearch.click(E(E({},e),{},{clickZone:1})),this}this.onCutAction(!1)}}},$=(i(1768),Object(_.a)(A,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-list"},[i("div",{ref:"swiper",staticClass:"image-list-swiper",on:{touchstart:t.swipeStart,touchmove:t.swipeMove,touchend:t.swipeEnd}},t._l(t.data,(function(e,a){return i("span",{key:e.thumbUrl+a,staticClass:"img-wrp",class:{on:0===a},style:{width:t.imgWrpSizes[a].width+"px",height:t.imgWrpSizes[a].height+"px"},attrs:{role:"button","aria-label":"图片"},on:{click:function(i){return i.stopPropagation(),t.go(a,e)}}},[i("span",{staticClass:"img-wrp-inner",style:{width:t.imgWrpSizes[a].width+"px",height:t.imgWrpSizes[a].height+"px",transform:"scale("+t.imgWrpSizes[a].scale+")",backgroundColor:""+t.mainColor}},[i("clip-image",{attrs:{"is-get-main-color":t.isGetMainColor,"get-main-color-img":e.thumbUrl,src:t.cacheImageSrc||e.thumbUrl,"img-data":e.imgObj,"show-w":t.imgWrpSizes[a].width,"show-h":t.imgWrpSizes[a].height},on:{getColor:t.handleGetMainColor}})],1)])})),0),t.cropSearch?i("div",{staticClass:"image-cut-tips-wrp"},[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"image-cut-tips active__link expand-hotspot",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onCutAction(!0)}}},[i("i",{staticClass:"image-cut-icon"}),i("span",{staticClass:"image-cut-word"},[t._v(t._s(t.isSoti?"选择其他题目":"调整搜索区域"))])]),t._l(t.extActions,(function(e){return[i("span",{key:"divider_"+e.title,staticClass:"image-cut-divider"}),i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.title,staticClass:"image-cut-tips active__link expand-hotspot",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.click.apply(null,arguments)}}},[e.iconUrl?i("ui-image",{attrs:{size:20,color:"var(--FG-1)",url:e.iconUrl}}):t._e(),i("span",{staticClass:"image-cut-word"},[t._v(t._s(e.title))])],1)]}))],2):t._e(),i("transition",{attrs:{name:"showMask"}},[t.previewData?i("div",{staticClass:"preview",on:{click:function(e){return e.stopPropagation(),t.onTapPreview.apply(null,arguments)},touchmove:function(t){t.preventDefault()}}},[i("div",{staticClass:"preview-inner",style:{height:t.previewData.showH+"px"}},[i("clip-image",{attrs:{src:t.cacheImageSrc||t.previewData.thumbUrl,"img-data":t.previewData.imgObj,"show-w":t.previewData.showW,"show-h":t.previewData.showH,"show-all":!0}})],1)]):t._e()]),t.picCutImgObj?i("pic-cut",{attrs:{title:t.picCutTitle,"img-cut-object":t.picCutImgObj,show:t.showPicCut,"crop-list":t.cropList,"crop-index":t.cropIndex,mode:4,"is-query-specific":t.isQuerySpecific},on:{cutSearchFail:t.getImgCutSearchFail}},[t.cropList.length>1?i("p",[t._v("轻触小圆点或拖动裁剪框，框选物体搜索")]):i("p",[t._v("调整选框，框选物体或者文字进行搜索")])]):t._e()],1)}),[],!1,null,"6cd78e94",null).exports),R=i(820),N={name:"UiNegativeFeedback",props:{title:String,desc:String,btn:String,list:Array,link:String},data:function(){return{results:[]}},computed:{resultIds:function(){return this.results.map((function(t){return t.id}))}},watch:{list:function(){this._reset()}},methods:{_reset:function(){this.results=[]},hide:function(){this.$refs.popOver.hide()},onShow:function(){this.$emit("show")},onHide:function(){this._reset(),this.$emit("hide")},onTapChoice:function(t){var e=this.results.indexOf(t);e>-1?this.results.splice(e,1):this.results.push(t),this.$emit("tap:choice",t)},onTapConfirm:function(){this.$emit("tap:confirm",this.results),this.results.length&&this.hide()},onTapLink:function(){this.$emit("tap:link"),this.hide()}}},q=(i(1949),i(1770),Object(_.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ui-pop-over",{ref:"popOver",attrs:{"class-name":"ui-pop-over_negative-feedback"},on:{show:t.onShow,hide:t.onHide}},[t._t("trigger",null,{slot:"trigger"}),i("template",{slot:"content"},[i("div",{staticClass:"ui-negative-feedback"},[t.$slots.head?t._t("head"):i("div",{staticClass:"head"},[i("div",{staticClass:"head-info",attrs:{role:"option"}},[i("h4",{staticClass:"head-title"},[t._v(t._s(t.title))]),t.desc?i("p",{staticClass:"head-desc"},[i("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),t._v(t._s(t.desc))]):t._e()]),i("a",{staticClass:"weui-btn weui-btn_mini weui-btn_primary",class:{"weui-btn_disabled":!t.results.length},attrs:{href:"javascript:",role:"button",tabindex:"-1"},on:{click:t.onTapConfirm}},[t._v(t._s(t.btn||"提交"))])]),t.$slots.body?t._t("body"):t.list&&t.list.length?i("div",{staticClass:"body"},[i("ul",{staticClass:"choice-list"},t._l(t.list,(function(e){return i("li",{key:e.id,staticClass:"choice",class:{on:t.resultIds.indexOf(e.id)>-1},attrs:{role:"button",tabindex:"-1"},on:{click:function(i){return t.onTapChoice(e)}}},[t._v("\n            "+t._s(e.wording)+"\n          ")])})),0)]):t._e(),t.$slots.foot?t._t("foot"):t._e(),t.link?i("div",{staticClass:"foot"},[i("a",{directives:[{name:"active",rawName:"v-active"}],staticClass:"foot-link",attrs:{href:"javascript:",role:"link"},on:{click:t.onTapLink}},[i("span",[t._v(t._s(t.link))]),i("ui-arrow",{attrs:{gap:"",align:"flex"}})],1)]):t._e()],2)])],2)}),[],!1,null,"55d1636c",null).exports);q.install=function(t){t.component(q.name,q)};var H=q;function L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function U(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var F={components:{imageScale:R.a,UiNegativeFeedback:H},mixins:[r.m,m],props:{data:{type:Object,required:!0},currentBaike:{type:Object,required:!0},feedback:{type:Object}},data:function(){return{canFold:!1,words:[]}},computed:{thumbs:function(){var t=(this.currentBaike.thumbInfo||{}).thumbs,e=void 0===t?[]:t;return e},showThumbs:function(){return this.thumbs.length<3?this.thumbs:this.thumbs.slice(0,3)},thumbUrls:function(){return this.thumbs.map((function(t){return t.url}))},pageInfos:function(){return this.thumbs.map((function(t){return t.pageInfo||{}}))},moreInfo:function(){return this.currentBaike.thumbInfo&&this.currentBaike.thumbInfo.moreInfo},baikeSource:function(){return this.currentBaike.baikeSource&&this.currentBaike.baikeSource.title?"".concat(this.currentBaike.baikeSource.title,"："):""}},watch:{data:function(){this._getIfNeedFold()},currentBaike:function(){var t=this;this.$nextTick((function(){t._getIfNeedFold()}))}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t._getIfNeedFold(),t.feedback&&t.M_feedbackExpose()}))},methods:{_getIfNeedFold:function(){var t=this.$refs.info;t&&(1==this.thumbs.length?t.clientHeight>120&&(this.$data.canFold=!0):t.clientHeight>75&&(this.$data.canFold=!0))},exposeReport:function(){r.f.imageSearch.expose(this.showThumbs)},onTapExpand:function(){this.currentBaike.baikeJumpInfo?(this.M_go(this.currentBaike.baikeJumpInfo),r.f.imageSearch.click(U(U({},this.$props.currentBaike),{},{clickZone:3,clickContent:"完整百科"}))):(this.$data.canFold=!1,r.f.imageSearch.click(U(U({},this.$props.currentBaike),{},{clickZone:2,clickContent:"展开"})))},onTapThumb:function(t){var e=this.thumbs[t];if(this.moreInfo&&t===this.showThumbs.length-1&&1!==this.showThumbs.length)this.M_go(this.moreInfo.jumpInfo);else{var i=this.$store.state.result.mpImageSearchData||{};r.g.WeixinJSBridgeInvoke("imagePreview",{current:e.url,urls:this.thumbUrls,enableBottomBar:!0,pageInfos:this.pageInfos,reqKey:i.reqKey,scene:r.b.scene})}r.f.imageSearch.click(U(U({},e),{},{clickZone:1}))},onTapBaike:function(){this.currentBaike.baikeJumpInfo?(this.M_go(this.currentBaike.baikeJumpInfo),r.f.imageSearch.click(U(U({},this.$props.currentBaike),{},{clickZone:3,clickContent:this.currentBaike.baikeSource&&this.currentBaike.baikeSource.title?this.currentBaike.baikeSource.title:"百科信息"}))):(y.a.$emit(r.j.showToast,{text:"没有更多百科信息"}),r.f.imageSearch.click(U(U({},this.$props.currentBaike),{},{clickZone:5,clickContent:this.currentBaike.baikeSource&&this.currentBaike.baikeSource.title?this.currentBaike.baikeSource.title:"百科信息"})))},onTapAttrSource:function(){this.currentBaike.sourceJumpInfo?(this.M_go(this.currentBaike.sourceJumpInfo),r.f.imageSearch.click(U(U({},this.$props.currentBaike),{},{clickZone:4,clickContent:this.currentBaike.attrSource&&this.currentBaike.attrSource.title?this.currentBaike.attrSource.title:"百科属性"}))):(y.a.$emit(r.j.showToast,{text:"没有更多百科信息"}),r.f.imageSearch.click(U(U({},this.$props.currentBaike),{},{clickZone:5,clickContent:this.currentBaike.attrSource&&this.currentBaike.attrSource.title?this.currentBaike.attrSource.title:"百科属性"})))}}},W=(i(1771),Object(_.a)(F,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"baike-block"},[i("div",{staticClass:"line"},[i("div",{staticClass:"line__item primary"},[t.currentBaike.title?i("div",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(t.currentBaike.title))}}):t._e()]),t.feedback?i("ui-negative-feedback",{ref:"negativeFeedback",attrs:{role:"button",title:t.feedback.title,btn:t.feedback.confirm.title,link:t.feedback.complaint&&t.feedback.complaint.title,list:t.feedback.reasons},on:{show:t.M_onFeedbackShow,"tap:link":t.M_onTapNegaLink,"tap:confirm":t.M_onTapNegaConfirm}},[i("template",{slot:"trigger"},[i("svg-icon",{staticClass:"expand-hotspot",attrs:{name:"negative-button"}})],1)],2):t._e()],1),t.currentBaike.desc?i("p",{staticClass:"desc"},[t._v("\n    "+t._s(t.currentBaike.desc)+"\n  ")]):t._e(),i("div",{staticClass:"pic-box",class:{single:1==t.thumbs.length}},[t.showThumbs.length?i("div",{staticClass:"pic-list"},t._l(t.showThumbs,(function(e,a){return i("div",{key:t.currentBaike.title+a,staticClass:"pic-wrap",attrs:{role:"option","aria-label":"图片，"+(t.moreInfo&&a===t.showThumbs.length-1&&1!==t.showThumbs.length?t.moreInfo.text+"，":"")+"按钮"},on:{click:function(e){return t.onTapThumb(a)}}},[i("div",{staticClass:"pic"},[i("imageScale",{attrs:{url:e.url}}),t.moreInfo&&a===t.showThumbs.length-1&&1!==t.showThumbs.length?[i("div",{staticClass:"pic-more"},[t._v("\n              "+t._s(t.moreInfo.text)+"\n            ")])]:t._e()],2)])})),0):t._e(),t.currentBaike.detail?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],ref:"info",staticClass:"fold-box active__link",on:{click:function(e){return e.stopPropagation(),t.onTapBaike.apply(null,arguments)}}},[i("div",{staticClass:"fold-box-inner",class:{fold:t.canFold},attrs:{role:"button"}},[i("div",{staticClass:"fold-box-content"},[t._v(t._s(t.baikeSource)+t._s(t.currentBaike.detail))]),i("a",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],class:["fold-box-expand",t.currentBaike.baikeJumpInfo?"fold-box-expand-jump":""],on:{click:function(e){return e.stopPropagation(),t.onTapExpand.apply(null,arguments)}}},[t.currentBaike.baikeJumpInfo?i("span",{staticClass:"ui-aria-hidden"},[t._v("查看")]):t._e(),i("em",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__link",staticStyle:{"white-space":"nowrap"}},[t._v("\n            "+t._s(t.currentBaike.baikeJumpInfo?"完整百科":"展开")+"\n          ")])])])]):t._e()]),t.currentBaike.attrs&&t.currentBaike.attrs.length?i("ul",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"attrs-box active__link",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapAttrSource.apply(null,arguments)}}},t._l(t.currentBaike.attrs,(function(e,a){return i("li",{key:a,class:[t.currentBaike.attrSource?"":"no-attrs-source"]},[i("span",{staticClass:"name"},[t._v(t._s(e.name)+t._s(e.ex_name))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),i("div",{staticClass:"value"},[i("p",{staticClass:"value-content ellipsis_1",style:{color:e.content_color}},[e.content_color?i("span",{staticClass:"dot"}):t._e(),i("span",{staticClass:"line-clamp-one"},[t._v(t._s(e.content))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")])]),i("p",{staticClass:"value-desc line-clamp-one"},[t._v(t._s(e.ex_content))])]),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")])])})),0):t._e(),t.currentBaike.attrSource?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"attrs-link-box active__link",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapAttrSource.apply(null,arguments)}}},[i("span",[t._v("来自")]),i("span",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"attrs-link-content attrs-link active__link"},[t._v("\n      "+t._s(t.currentBaike.attrSource.title)+"\n    ")])]):t._e()])}),[],!1,null,"1e256f08",null).exports),G=i(830);function K(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function Z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?K(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var z={components:{magnifierWithWord:G.a},mixins:[r.m,m],props:{data:{type:Object,required:!0},words:{type:Array,required:!0},currentBaike:{type:Object,required:!0},baikeInfos:{type:Array,required:!0}},data:function(){return{canFold:!1,wordsSelf:[],currentBaikeSelf:{}}},computed:{},watch:{words:{handler:function(t,e){this.wordsSelf=t.slice(0)},deep:!0},currentBaike:{handler:function(t,e){this.currentBaikeSelf=Object.assign({},t)},deep:!0}},created:function(){this.wordsSelf=this.words.slice(0),this.currentBaikeSelf=Object.assign({},this.currentBaike)},mounted:function(){},methods:{exposeReport:function(){var t=this.baikeInfos.slice(0);t.forEach((function(t,e){t.type=21})),r.f.imageSearch.expose(t)},_changeSelected:function(t){this.wordsSelf.forEach((function(e,i){e.selected=i==t})),this.wordsSelf=Array.from(this.wordsSelf)},getExt:function(){return{key:"parentSearchID",textValue:this.M_composeParentSid({t:h.p.BAIKE_MULTI,s:r.b.searchId,did:this.currentBaikeSelf.docID,rid:this.$store.state.result.previousRid})}},tapRec:function(t){var e=this;if(!t.selected){e._changeSelected(t.index),e.currentBaikeSelf=this.baikeInfos[t.index],e.$emit("changeBaike",e.currentBaikeSelf),r.f.reportSearchStay({eventId:h.h.searchEventType.EXIT,pageType:h.h.pageType.RESULT,exitType:h.h.exitType.OTHER,exitSubType:h.h.exitSubType.FILTER}),y.a.$emit(r.j.setQuery,{page:h.f.RESULT,query:t.title,searchId:"",extReqParams:e.getExt()});var i=Object.assign({},e.currentBaikeSelf);i.type=21,r.f.imageSearch.click(Z(Z({},i),{},{clickZone:1,clickContent:t.title}))}},tapMore:function(t){t.text}}};i(1772);function Q(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function J(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Q(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Y={components:{baikeBlock:W,multiResult:Object(_.a)(z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"baike-words"},[i("div",{staticClass:"baike-words__title"},[t._v("图中的"+t._s(t.data.catName&&t.data.catName.length>0?t.data.catName:"内容")+"可能是")]),i("magnifierWithWord",{staticClass:"baike-words__content",attrs:{list:t.wordsSelf},on:{tapWord:t.tapRec,toggleMore:t.tapMore}})],1)}),[],!1,null,"47926326",null).exports},mixins:[r.m,m],props:{data:{type:Object,required:!0},feedback:{type:Object}},data:function(){return{baikeInfos:[],words:[],currentBaike:{}}},computed:{},watch:{data:{handler:function(t,e){this.init(t)},deep:!0}},created:function(){this.init(this.data)},mounted:function(){},methods:{init:function(t){var e=this;t.otherBaikeInfos&&t.otherBaikeInfos.length>0?(this.baikeInfos=[],this.words=[],this.baikeInfos=[J({},t)].concat(t.otherBaikeInfos),this.baikeInfos.forEach((function(t,i){e.words.push({title:t.title})})),this.words[0].selected=1,this.currentBaike=this.baikeInfos[0]):this.currentBaike=t},changeBaike:function(t){this.currentBaike=t}}},X=(i(1773),Object(_.a)(Y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"baike-info"},[t.data.otherBaikeInfos&&t.data.otherBaikeInfos.length>0?i("multi-result",{attrs:{"current-baike":t.currentBaike,words:t.words,data:t.data,"baike-infos":t.baikeInfos},on:{changeBaike:t.changeBaike}}):t._e(),i("baike-block",{attrs:{data:t.data,"current-baike":t.currentBaike,feedback:t.feedback}})],1)}),[],!1,null,"599ea6e4",null).exports),V=i(466),tt={components:{customSource:V.a,UiNegativeFeedback:H},mixins:[r.m,m],props:{data:{type:Object,required:!0},feedback:{type:Object}},computed:{item:function(){return this.$props.data.item}},mounted:function(){var t=this;this.$nextTick((function(){t.feedback&&t.M_feedbackExpose()}))},methods:{exposeReport:function(){r.f.imageSearch.expose([this.item])},onTap:function(){this.item.jumpInfo&&(this.M_go(this.item.jumpInfo),r.f.imageSearch.click(this.item))}}},et=(i(1774),Object(_.a)(tt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-info"},[i("div",{staticClass:"line"},[i("div",{staticClass:"line__item primary"},[i("p",{staticClass:"intro-title"},[t._v(t._s(t.data.title))])]),t.feedback?i("ui-negative-feedback",{ref:"negativeFeedback",attrs:{role:"button",title:t.feedback.title,btn:t.feedback.confirm.title,link:t.feedback.complaint&&t.feedback.complaint.title,list:t.feedback.reasons},on:{show:t.M_onFeedbackShow,"tap:link":t.M_onTapNegaLink,"tap:confirm":t.M_onTapNegaConfirm}},[i("template",{slot:"trigger"},[i("svg-icon",{staticClass:"expand-hotspot",attrs:{name:"negative-button"}})],1)],2):t._e()],1),i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"image-info-ctn",on:{click:t.onTap}},[i("div",{staticClass:"info",attrs:{role:"button"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("文章：")]),i("div",{staticClass:"title ellipsis_2",domProps:{innerHTML:t._s(t.xss(t.item.title))}}),i("ui-article",{attrs:{thumb:t.item.thumbUrl}},[i("div",{attrs:{slot:"desc"},slot:"desc"},[t._v("\n          "+t._s(t.item.desc)+"\n        ")]),i("div",{attrs:{slot:"source"},slot:"source"},[i("customSource",{attrs:{source:t.item.source}})],1)])],1),i("div",{staticClass:"btn",attrs:{role:"button"}},[t._v("\n      "+t._s(t.item.jumpDesc)+"\n      "),i("svg-icon",{staticClass:"link-arrow",attrs:{name:"arrow",role:"button"}})],1)])])}),[],!1,null,"0e8e9aa4",null).exports);function it(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function at(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?it(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):it(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var nt={components:{},mixins:[r.m,m],props:{data:{type:Object,required:!0}},data:function(){return{canFold:!1}},computed:{item:function(){return this.$props.data.item},hasTitle:function(){return this.item.showType!==this.imageSearchEnum.ShowType.QRCODEINFO_NOTSUPPORT}},watch:{data:function(){this._getIfNeedFold()}},mounted:function(){var t=this;this.$nextTick((function(){t._getIfNeedFold()}))},methods:{_getIfNeedFold:function(){var t=this.$refs.info;t&&t.clientHeight>80&&(this.$data.canFold=!0)},exposeReport:function(){r.f.imageSearch.expose([this.item])},onTap:function(){this.item.jumpInfo&&(this.M_go(this.item.jumpInfo),r.f.imageSearch.click(this.item))},onTapExpand:function(){this.$data.canFold=!1,r.f.imageSearch.click(at(at({},this.item),{},{docID:"unfold",clickZone:2,clickContent:"展开"}))}}},st=(i(1775),Object(_.a)(nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"qrcode-info"},[t.hasTitle?i("div",{staticClass:"line"},[i("div",{staticClass:"line__item primary"},[i("p",{staticClass:"intro-title"},[t._v(t._s(t.data.title))])])]):t._e(),t.item.showType===t.imageSearchEnum.ShowType.QRCODEINFO_ITEM?i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"box clickable-box line",attrs:{role:"button"},on:{click:t.onTap}},[i("ui-image",{staticClass:"line__item clickable-box-logo",attrs:{url:t.item.thumbUrl,size:24}}),i("div",{staticClass:"clickable-box-content line__item primary"},[i("div",{staticClass:"clickable-box-title ellipsis_1",domProps:{innerHTML:t._s(t.xss(t.item.title))}}),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),i("p",{staticClass:"clickable-box-desc"},[t._v(t._s(t.item.desc))])]),i("div",{staticClass:"line__item",attrs:{role:"button"}},[i("svg-icon",{attrs:{name:"arrow"}})],1)],1):t.item.showType===t.imageSearchEnum.ShowType.QRCODEINFO_TEXT?i("div",{staticClass:"box fold-box"},[i("div",{ref:"info",staticClass:"fold-box-inner",class:{fold:t.canFold}},[i("div",{staticClass:"fold-box-content"},[t._v(t._s(t.item.title))]),i("a",{staticClass:"fold-box-expand",on:{click:function(e){return e.stopPropagation(),t.onTapExpand.apply(null,arguments)}}},[i("em",[t._v("展开")])])])]):i("div",{staticClass:"box unsupport-box"},[t._v(t._s(t.data.title))])])}),[],!1,null,"a237151a",null).exports);function ot(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function rt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ot(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ct={components:{customSource:V.a},mixins:[r.m,m],props:{data:{type:Object,required:!0}},computed:{more:function(){return this.$props.data.more||{}}},methods:{exposeReport:function(){r.f.imageSearch.expose(this.$props.data.items)},onTapHead:function(){this.more.jumpInfo&&this.M_go(this.more.jumpInfo),r.f.imageSearch.click(rt(rt({},this.$props.data),{},{docID:"more",clickZone:1,clickContent:this.more.text}))},onTapArt:function(t){this.M_go(t.jumpInfo||Object.assign({jumpUrl:t.doc_url},t)),r.f.imageSearch.click(rt(rt({},t),{},{clickZone:2}))}}},lt=(i(1776),Object(_.a)(ct,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-arts"},[i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"search-block__hd",on:{click:t.onTapHead}},[i("div",{staticClass:"search-block__title"},[i("div",{staticClass:"search-block__title"},[t._v("\n        "+t._s(t.data.title)+"\n      ")]),i("div",{attrs:{role:"button"}},[i("div",{staticClass:"more__handler"}),t.more.jumpInfo?i("div",{staticClass:"more__item"},[t._v("\n          "+t._s(t.more.text)+"\n          "),i("ui-arrow",{attrs:{size:"big"}})],1):t._e()])])]),i("div",{staticClass:"search-block__bd"},t._l(t.data.items,(function(e,a){return i("ui-article",{directives:[{name:"active",rawName:"v-active"}],key:a,attrs:{thumb:e.thumbUrl,title:e.title},on:{tap:function(i){return t.onTapArt(e)}}},[i("customSource",{attrs:{slot:"source",source:e.source},slot:"source"})],1)})),1)])}),[],!1,null,"1dd0f0ff",null).exports),ut=i(480),ht=new(i(10).a)({photo:2,video:4}),pt={components:{"v-mask":ut.a,customSource:V.a},mixins:[r.m],props:{item:{type:Object,default:function(){return{}}},showSource:{type:Boolean,default:!0}},data:function(){return{finderType:ht}},computed:{showFinderInfo:function(){return this.item.title||this.showSource}},methods:{tap:function(){this.$emit("tap",this.item)}}},dt=(i(1777),Object(_.a)(pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"finder active__mask",class:{"hide-info":!t.showFinderInfo},on:{click:t.tap}},[i("div",{staticClass:"finder__inner"},[i("online-image",{staticClass:"finder__bg",attrs:{url:t.item.image,mode:"plain"}}),i("online-image",{staticClass:"finder__item",attrs:{url:t.item.image,mode:"plain"}}),i("v-mask",{attrs:{"icon-url":t.item.mediaType==t.finderType.video?"https://res.wx.qq.com/a/fed_upload/658e7c8d-708d-499b-8d41-4cca1d510d03/play.svg":"",text:t.item.duration,size:24}})],1),t.showFinderInfo?i("div",{staticClass:"finder__info"},[t.item.title?i("p",{staticClass:"finder__title ellipsis_2"},[t._v("\n      "+t._s(t.item.title)+"\n    ")]):t._e(),t.showSource?i("customSource",{attrs:{source:t.item.source}}):t._e()],1):t._e()])}),[],!1,null,"e1434e68",null).exports),mt={props:{accountInfo:{type:Object}},computed:{authTypeClass:function(){var t="";switch(this.accountInfo.authIconType){case 1:case 3:case 100:t="yellow";break;case 2:t="blue";break;case 0:default:t="none"}return t}},methods:{onTap:function(){this.$emit("tap")}}};i(1778);function ft(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function gt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ft(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var vt={components:{Finder:dt,FinderInfo:Object(_.a)(mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ui-article",{staticClass:"finder-info",attrs:{thumb:t.accountInfo.thumbUrl,desc:t.accountInfo.authInfo},on:{tap:t.onTap}},[i("div",{staticClass:"finder-info-hd",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"finder-name-wrap"},[i("div",{staticClass:"finder-name ellipsis_1"},[t._v(t._s(t.accountInfo.title))]),i("svg-icon",{staticClass:"svg-icon-auth",class:[t.authTypeClass],attrs:{name:"auth"}})],1),t._l(t.accountInfo.tags,(function(t){return i("ui-tag",{key:JSON.stringify(t),attrs:{title:t.title,desc:t.desc,type:5}})}))],2)])}),[],!1,null,"7ec83c6e",null).exports},mixins:[r.m,m],props:{data:{type:Object,required:!0}},computed:{more:function(){return this.$props.data.more||{}},accountInfo:function(){var t=this.$props.data;return t.accountInfos&&t.accountInfos[0]},items:function(){return this.accountInfo&&this.accountInfo.items}},methods:{exposeReport:function(){r.f.imageSearch.expose(this.items)},onTapHead:function(){this.more.jumpInfo&&this.M_go(this.more.jumpInfo),r.f.imageSearch.click(gt(gt({},this.$props.data),{},{docID:"more",clickZone:1,clickContent:this.more.text}))},onTapProfile:function(){this.M_go(this.accountInfo.jumpInfo),r.f.imageSearch.click(gt(gt({},this.$props.data),{},{docID:"profile",clickZone:2,clickContent:this.accountInfo.title}))},onTapFinder:function(t){this.M_go(t.jumpInfo),r.f.imageSearch.click(gt(gt({},t),{},{clickZone:3}))}}},_t=(i(1779),Object(_.a)(vt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"finder-block"},[i("div",{staticClass:"search-block__hd",on:{click:t.onTapHead}},[i("div",{staticClass:"search-block__title"},[i("div",{staticClass:"search-block__title"},[t._v("\n        "+t._s(t.data.title)+"\n      ")]),t.more.jumpInfo?i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"more__item",attrs:{role:"button"}},[t._v("\n        "+t._s(t.more.text)+"\n        "),i("ui-arrow",{attrs:{size:"big"}})],1):t._e()])]),i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"search-block__bd active__item"},[t.accountInfo?i("finder-info",{attrs:{"account-info":t.accountInfo},on:{tap:t.onTapProfile}}):t._e(),i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"finder-feeds"},t._l(t.items,(function(e,a){return i("finder",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:a,staticClass:"feed-item",attrs:{role:"option",item:e,"show-source":!1},on:{tap:t.onTapFinder}})})),1)],1)])}),[],!1,null,"2bd64cdf",null).exports);function bt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function yt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ct={components:{},mixins:[r.m,m],props:{data:{type:Object,required:!0}},data:function(){return{}},methods:{exposeReport:function(){r.f.imageSearch.expose(this.data.items)},imgJump:function(t){this.M_go(Object.assign({extParams:{isHomePage:1}},t.jumpInfo)),r.f.imageSearch.click(yt(yt({},t),{},{clickZone:1}))}}},wt=(i(1780),Object(_.a)(Ct,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"star-similarity-list"},[i("div",{staticClass:"star-similarity-list_hd"},[i("div",{staticClass:"star-similarity-list__title"},[t._v(t._s(t.data.title))])]),i("div",{staticClass:"star-similarity-list__bd"},[i("ul",{staticClass:"star-similarity-result-list",class:{"star-similarity-result-list__max":t.data.items&&t.data.items.length>3}},t._l(t.data.items,(function(e,a){return i("li",{key:a,staticClass:"star-similarity-result-item",on:{click:function(i){return i.stopPropagation(),t.imgJump(e)}}},[i("div",{staticClass:"star-similarity-result-item-inner",attrs:{role:"option"}},[i("div",{staticClass:"star-similarity-result-item__avatar",style:{background:"url('"+e.thumbUrl+"') no-repeat bottom center / cover"},attrs:{"aria-hidden":"true"}}),i("div",{staticClass:"star-similarity-result-item__info",attrs:{role:"button"}},[i("p",{staticClass:"star-similarity-result-item__info__title"},[t._v(t._s(e.title))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),i("p",{staticClass:"star-similarity-result-item__info__desc"},[t._v(t._s(e.desc))])])])])})),0)])])}),[],!1,null,"2d814642",null).exports),kt={mixins:[r.m,m],props:{imageSearchData:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}}},mounted:function(){this.data.showType===this.imageSearchEnum.ShowType.EMPTYDATA_NORMAL&&r.a.$emit(r.j.SET_BODY_BG_WHITE)},beforeDestroy:function(){this.data.showType===this.imageSearchEnum.ShowType.EMPTYDATA_NORMAL&&r.a.$emit(r.j.UNSET_BODY_BG_WHITE)},methods:{exposeReport:function(){r.f.imageSearch.expose(this.$props.data.imageList)},onTapItem:function(t){this.$store.commit({type:"result/generateGetSearchRid",reset:!0},{root:!0}),r.a.$emit(r.j.GOTO,Object.assign({page:h.f.RESULT,query:"",specialSearchArgs:{type:h.u.IMAGE,reqKey:t.reqKey,params:{fromReqKey:this.imageSearchData.reqKey,fromReqType:8,byPassStr:this.imageSearchData.byPassStr}}})),r.f.imageSearch.click(t)}}},Ot=(i(1781),Object(_.a)(kt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"empty-recommend-info",class:{smaller:t.data.showType===t.imageSearchEnum.ShowType.EMPTYDATA_SMALL}},[i("p",{staticClass:"desc"},[t._v(t._s(t.data.title))]),i("ul",{staticClass:"thumb-list"},t._l(t.data.imageList,(function(e){return i("li",{directives:[{name:"active",rawName:"v-active"}],key:e.thumbUrl,on:{click:function(i){return t.onTapItem(e)}}},[i("div",{directives:[{name:"image",rawName:"v-image",value:e.thumbUrl,expression:"item.thumbUrl"}],staticClass:"thumb"}),i("div",{staticClass:"opr"},[i("svg-icon",{staticClass:"magnifier",attrs:{role:"button",name:"magnifier"}})],1)])})),0)])}),[],!1,null,"02aafe62",null).exports),xt={components:{mathjaxContent:i(831).a},props:["content"],data:function(){return{fetchedContent:""}},watch:{content:function(){var t=this;this.$nextTick((function(){t.fetchContent()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.fetchContent()}))},methods:{getImgListSize:function(t){Object.keys(t).forEach((function(e){var i=t[e],a=0,n=setInterval((function(){(i.naturalWidth||a>=3)&&(clearInterval(n),i.naturalWidth&&i.naturalHeight&&i.naturalHeight>36&&i.style.setProperty("--naturalWidth","".concat(i.naturalWidth,"px"))),++a}),1e3)}))},filterDomStyle:function(t,e){var i=this.$refs.faker.$el;t.forEach((function(t){i.getElementsByTagName(t).forEach((function(t){t.style&&t.style[e]&&(t.style[e]="")}))}))},filterDom:function(t){var e=this.$refs.faker.$el;t.forEach((function(t){e.getElementsByTagName(t).forEach((function(t){t.parentNode.removeChild(t)}))}))},fetchContent:function(){var t=this.$refs.faker.$el;this.filterDom(["link","script"]);var e=t.getElementsByTagName("img");this.filterDomStyle(["div","section","p","a","img","span"],"backgroundColor"),this.filterDomStyle(["div","section","p","a","img","span"],"color"),this.getImgListSize(e)}}};i(1782);function St(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function jt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?St(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):St(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var It={components:{sujectContent:Object(_.a)(xt,(function(){var t=this.$createElement;return(this._self._c||t)("mathjax-content",{ref:"faker",staticClass:"subject-content",attrs:{content:this.content}})}),[],!1,null,null,null).exports,clipImage:b},mixins:[m],props:["data","index","mainImageColor","isSingle","num"],data:function(){return{cacheImageSrc:decodeURIComponent(r.b.queryString.cacheImageSrc||""),currentQuestionIndex:0,isActive:!1,showW:0,showH:0,mainColor:"",loading:!1,currentIndex:-1,sectionData:{},isFoldLink:!1}},watch:{data:{handler:function(t,e){e&&t.thumbUrl!==e.thumbUrl&&(this.sectionData=t,this.cacheImageSrc=null)},immediate:!0}},created:function(){var t=this;this.sectionData=this.data,r.a.$on(r.j.IMAGE_SEARCH_PIC_CUT_LOAD,(function(e){t.loading=e,e?t.currentIndex==t.index&&(t.isActive=e):t.currentIndex=-1})),r.a.$on(r.j.IMAGE_SEARCH_PIC_CUT_BACK,(function(e,i,a){if(i&&t.currentIndex==t.index){t.sectionData=Object.assign({},t.sectionData,{items:e.box.items});var n=Object.assign({},t.sectionData.imgObj,a);t.sectionData=Object.assign({},t.sectionData,{imgObj:n}),t.onImgObjChanged()}t.currentIndex=-1}))},mounted:function(){var t=this;this.exposeReport=null,this.$nextTick((function(){t.isSingle&&(t.isActive=!0),t.onImgObjChanged()}))},destroyed:function(){r.a.$off(r.j.IMAGE_SEARCH_PIC_CUT_LOAD,{}),r.a.$off(r.j.IMAGE_SEARCH_PIC_CUT_BACK,{})},methods:{handleGetMainColor:function(t){this.mainColor=t.colorList[0].color},handleSelectQuestion:function(t){this.currentQuestionIndex=t,this.$emit("click-report",jt(jt({},this.sectionData.items[t]),{},{clickZone:2,clickContent:"相似题".concat(t)}))},handleActiveQuestion:function(t){this.isActive=t,this.$emit("click-report",jt(jt({},this.sectionData),{},{clickZone:t?1:4}))},clickChange:function(t){this.isFoldLink=t;this.currentIndex=this.index,r.a.$emit(r.j.IMAGE_SEARCH_PIC_CUT_SHOW,{thumbUrl:this.sectionData.thumbUrl,spinUrl:"",imgObj:this.sectionData.imgObj},this.currentIndex),this.$emit("click-report",jt(jt({},this.sectionData),{},{clickZone:3}))},onImgObjChanged:function(){var t=this,e=this.sectionData.imgObj;this.showW=this.$refs.imgWrp.clientWidth;var i=(e.relativeMaxx-e.relativeMinx)*e.width/((e.relativeMaxy-e.relativeMiny)*e.height);this.showH=this.showW/i,this.$nextTick((function(){t.exposeReport=function(){r.f.imageSearch.expose([this.sectionData])},t.isActive?(t.exposeReport(),t.M_isExposed=!0):t.M_expose()}))}}},Tt=(i(1783),Object(_.a)(It,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-section"},[i("div",{staticClass:"card-section_title"},[t._v("原题"),+t.num>1?i("span",[t._v(t._s(t.index+1))]):t._e()]),i("div",{staticClass:"card-section-content"},[t.currentIndex==t.index&&t.loading?i("div",{class:["card-section__mask-loading",t.isFoldLink?"":"unfold"]},[i("div",{staticClass:"card-section__load-contnet"},[i("ui-loading-animation",{attrs:{width:48,height:48}}),i("div",{staticClass:"card-section__loading-word"},[t._v("识别中...")])],1)]):t._e(),i("div",{staticClass:"card-section_content",attrs:{role:"button"},on:{click:function(e){return t.clickChange(!1)}}},[i("div",{ref:"imgWrp",staticClass:"card-section_image-wrp",style:{height:t.showH+"px",backgroundColor:""+t.mainColor}},[i("div",{staticClass:"card-section_image-inner",style:{height:t.showH+"px"}},[t.showW?i("clip-image",{attrs:{"is-get-main-color":!0,"get-main-color-img":t.sectionData.thumbUrl,src:t.cacheImageSrc||t.sectionData.thumbUrl,"img-data":t.sectionData.imgObj,"show-w":t.showW,"show-h":t.showH},on:{getColor:t.handleGetMainColor}}):t._e()],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isActive,expression:"!isActive"}],staticClass:"card-section_extend expand-hotspot__vertical",on:{click:function(e){return t.handleActiveQuestion(!0)}}},[t.sectionData&&t.sectionData.items&&t.sectionData.items.length>=1?i("a",{staticClass:"link",attrs:{href:"javascript:",role:"button"}},[t._v(t._s(t.sectionData.items.length)+"道相似题及解答\n        "),i("svg-icon",{staticClass:"card-section_extend-more-icon",attrs:{name:"arrow"}})],1):i("span",{staticClass:"tips",attrs:{href:"javascript:;"}},[t._v("图片模糊，暂无相关结果")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"card-section_extend-more"},[t.sectionData.items&&t.sectionData.items.length?[i("div",{staticClass:"card-section_extend-more_head"},[i("div",{staticClass:"card-section_extend_title"},[t._v(t._s(t.sectionData.items.length)+"道相似题及解答")]),i("a",{staticClass:"card-section_extend-more_operation link expand-hotspot__after",attrs:{href:"javascript:;",role:"button"},on:{click:function(e){return t.clickChange(!0)}}},[t._v("编辑")])]),i("div",{staticClass:"card-section_extend-more__filter"},[t.sectionData.items&&t.sectionData.items.length>1?i("div",{staticClass:"card-section_extend-more__filter__tabs"},t._l(t.sectionData.items,(function(e,a){return i("div",{key:a,staticClass:"card-section_extend-more__filter__tab",class:{selected:t.currentQuestionIndex===a},attrs:{role:"button"},on:{click:function(e){return t.handleSelectQuestion(a)}}},[t._v("相似题"+t._s(a+1))])})),0):t._e()]),t._l(t.sectionData.items,(function(e,a){return i("div",{key:a,staticClass:"card-section_subject",style:{position:a===t.currentQuestionIndex?"static":"fixed",top:a===t.currentQuestionIndex?"initial":"-999999px"}},[i("div",{staticClass:"card-section_subject-item card-section_subject_question"},[i("sujectContent",{attrs:{content:e.question}})],1),e&&e.answer?i("div",{staticClass:"card-section_subject-item card-section_subject_answer"},[i("p",{staticClass:"card-section_subject_answer_title"},[t._v("答案")]),i("div",{staticClass:"card-section_subject_answer_content"},[i("sujectContent",{attrs:{content:e.answer}})],1)]):t._e(),e&&e.analysis?i("div",{staticClass:"card-section_subject-item card-section_subject_analysis"},[i("p",{staticClass:"card-section_subject_analysis_title"},[t._v("解析")]),i("div",{staticClass:"card-section_subject_answer_content"},[i("sujectContent",{attrs:{content:e.analysis}})],1)]):t._e()])})),t.isSingle?t._e():i("div",{staticClass:"card-section_extend-more_extend expand-hotspot__vertical",on:{click:function(e){return t.handleActiveQuestion(!1)}}},[i("a",{staticClass:"link",attrs:{href:"javascript:;",role:"button"}},[t._v("收起\n            "),i("svg-icon",{staticClass:"card-section_extend-more-icon unfold",attrs:{name:"arrow"}})],1)])]:t._e()],2)])])}),[],!1,null,"1cb478a4",null).exports),Dt=i(13);function Pt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function Et(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Pt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Bt={components:{cardSection:Tt,customSource:V.a},mixins:[r.m,m],props:{data:{type:Object,required:!0}},data:function(){return{fromStyle:{},mainImageColor:""}},methods:{clickReport:function(t){r.f.imageSearch.click(Object.assign({},this.data,t))},onTapSource:function(){this.M_go(this.data.sourceJumpInfo),this.clickReport(Et(Et({},this.data),{},{clickZone:5,clickContent:this.data.source.title}))},handleOpenCamera:function(){Dt.a.openCamera({use:"imageSearch",scene:this.data.anotherData.paramInfo&&this.data.anotherData.paramInfo.searchScene||r.b.scene}),this.clickReport(Et(Et({},this.data),{},{clickZone:8,clickContent:this.data.anotherData.text}))}}},Mt=(i(1784),Object(_.a)(Bt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"subject-info"},[i("div",{staticClass:"subject-info-contnet"},[i("div",{staticClass:"subject-info_info"},[i("div",{staticClass:"subject-info_title"},[t._v(t._s(t.data.title))]),t._l(t.data.boxs,(function(e,a){return i("div",{key:a,staticClass:"subject-info_card-section_container"},[i("cardSection",t._g({attrs:{num:t.data.boxs.length,"is-single":1===t.data.boxs.length,"main-image-color":t.mainImageColor,index:a,data:e},on:{"click-report":t.clickReport}},t.$listeners))],1)}))],2),i("customSource",{staticClass:"expand-hotspot__vertical",attrs:{role:"link",source:t.data.source,"is-aria-hidden":!1},nativeOn:{click:function(e){return t.onTapSource.apply(null,arguments)}}})],1),t.data.anotherData&&t.data.anotherData.text?i("div",{staticClass:"soti-again",attrs:{role:"button"},on:{click:t.handleOpenCamera}},[i("i",{staticClass:"camera-icon"}),i("span",{staticClass:"soti-again-word"},[t._v(t._s(t.data.anotherData.text))])]):t._e()])}),[],!1,null,null,null).exports);function At(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function $t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?At(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):At(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Rt={components:{HeightAnimate:i(42).a},mixins:[r.m,m],props:{data:{type:Object,required:!0}},data:function(){return{isHaveFold:!1,isShowMore:!1,dataTotal:[],dataUnfold:[],dataFold:[],showUnfoldNum:0}},created:function(){this.dataTotal=this.data.items.map((function(t){if(-1!==t.desc.indexOf("》")){var e=t.desc.split("》");return t.descOne=e[0],t.descTwo=e[1],t}return t})),this.dataTotal.length>2?(this.isHaveFold=!0,this.dataUnfold=this.dataTotal.slice(0,2),this.dataFold=this.dataTotal.slice(2)):this.dataUnfold=this.dataTotal},methods:{exposeReport:function(){this.dataTotal.length>2?this.isShowMore?r.f.imageSearch.expose(this.dataTotal.slice(2)):r.f.imageSearch.expose(this.dataTotal.slice(0,2)):r.f.imageSearch.expose(this.dataTotal.items)},changeFold:function(){this.isShowMore=!this.isShowMore,this.isShowMore?(r.f.imageSearch.click($t($t({},this.data),{},{clickZone:1,clickContent:"展开更多"})),this.showUnfoldNum+=1,1===this.showUnfoldNum&&this.exposeReport()):r.f.imageSearch.click($t($t({},this.data),{},{clickZone:4,clickContent:"收起"}))},onCopy:function(t){var e=document.createElement("input");e.setAttribute("readonly","readonly"),e.setAttribute("value",t.title),e.style.opacity="0",e.style.position="absolute",document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{document.execCommand("copy")&&y.a.$emit(r.j.showToast,{action:D.a.done,text:"已复制"}),document.body.removeChild(e)}catch(t){document.body.removeChild(e)}r.f.imageSearch.click($t($t({},t),{},{clickZone:3,clickContent:"复制"}))},onTapPoem:function(t){this.M_go(t.jumpInfo),r.f.imageSearch.click($t($t({},t),{},{clickZone:2,clickContent:t.title}))}}},Nt=(i(1785),Object(_.a)(Rt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"poem-info"},[i("div",{staticClass:"search-block__hd"},[i("div",{staticClass:"search-block__title"},[i("div",{staticClass:"search-block__title"},[t._v(t._s(t.data.title))])])]),t._l(t.dataUnfold,(function(e){return i("ui-article",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.docID,staticClass:"ctn spacing active__item",on:{tap:function(i){return t.onTapPoem(e)}}},[i("div",{attrs:{slot:"title",role:"button"},slot:"title"},[i("div",[i("div",{staticClass:"poem-item__title",domProps:{innerHTML:t._s(t.xss(e.title))}})]),e.descOne?i("ui-clamp",{staticClass:"poem-item__desc",attrs:{autoresize:"","max-lines":2},scopedSlots:t._u([{key:"after",fn:function(){return[t._v("》"+t._s(e.descTwo))]},proxy:!0}],null,!0)},[t._v("\n        "+t._s(e.descOne))]):i("div",{staticClass:"poem-item__desc ellipsis_2"},[t._v(t._s(e.desc))])],1),i("div",{attrs:{slot:"outer-oprs",role:"button"},slot:"outer-oprs"},[i("ui-button",{nativeOn:{click:function(i){return i.stopPropagation(),t.onCopy(e)}}},[t._v("复制")])],1)])})),t.isHaveFold&&t.isShowMore?i("height-animate",{attrs:{"without-enter":!1,"without-leave":!1,transfrom:!1}},t._l(t.dataFold,(function(e){return i("ui-article",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.docID,staticClass:"ctn spacing active__item",on:{tap:function(i){return t.onTapPoem(e)}},scopedSlots:t._u([{key:"desc",fn:function(){return[e.descOne?i("ui-clamp",{staticClass:"poem-item__desc",attrs:{autoresize:"","max-lines":2},scopedSlots:t._u([{key:"after",fn:function(){return[t._v("》"+t._s(e.descTwo))]},proxy:!0}],null,!0)},[t._v("\n          "+t._s(e.descOne))]):i("div",{staticClass:"poem-item__desc ellipsis_2"},[t._v(t._s(e.desc))])]},proxy:!0}],null,!0)},[i("div",{staticClass:"poem-item__title",attrs:{slot:"title"},domProps:{innerHTML:t._s(t.xss(e.title))},slot:"title"}),i("div",{attrs:{slot:"outer-oprs"},slot:"outer-oprs"},[i("ui-button",{nativeOn:{click:function(i){return i.stopPropagation(),t.onCopy(e)}}},[t._v("复制")])],1)])})),1):t._e(),t.isHaveFold&&!t.isShowMore?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"fold-wrp active__link",on:{click:t.changeFold}},[i("div",{staticClass:"fold",attrs:{role:"button"}},[i("span",{staticClass:"fold-word"},[t._v("展开更多")]),i("ui-icon",{staticClass:"poem-down-arrow arrow-icon",attrs:{"aria-hidden":"true",name:"arrow"}})],1)]):t._e(),t.isHaveFold&&t.isShowMore?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"fold-wrp active__link",on:{click:t.changeFold}},[i("div",{staticClass:"fold"},[i("span",{staticClass:"fold-word"},[t._v("收起")]),i("ui-icon",{staticClass:"poem-up-arrow arrow-icon",attrs:{role:"button",name:"arrow"}})],1)]):t._e()],2)}),[],!1,null,"5e7fc08e",null).exports);function qt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function Ht(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Lt={components:{magnifierWithWord:G.a},mixins:[m],props:{data:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0},hideAction:{type:Boolean,default:!1}},data:function(){return{words:[],pickerID:"",isPickerShow:!1}},computed:{rec:function(){return this.data.recommend||{}},action:function(){return this.data.action},isWordsHidden:function(){return!this.data.recommend}},created:function(){var t=this;t._initWords(),k.a.on((function(e){t.isPickerShow?t.handleClientNavAction():e()}))},methods:{_initWords:function(){var t=(this.rec||{}).words;t&&(this.words=JSON.parse(JSON.stringify(t)))},_changeSelected:function(t){this.words.forEach((function(e,i){e.selected=i==t})),this.words=Array.from(this.words)},handleClientNavAction:function(){this.$hideWordPicker(),this.isPickerShow=!1,this.setupClientBehavior(!1)},exposeReport:function(){r.f.imageSearch.expose([this.data])},getExt:function(){return{key:"parentSearchID",textValue:this.M_composeParentSid({t:h.p.OCR_HOT_WORD,s:r.b.searchId,did:this.docID,rid:this.$store.state.result.previousRid})}},tapRec:function(t){t.selected||(this._changeSelected(t.index),r.f.reportSearchStay({eventId:h.h.searchEventType.EXIT,pageType:h.h.pageType.RESULT,exitType:h.h.exitType.OTHER,exitSubType:h.h.exitSubType.FILTER}),y.a.$emit(y.b.setQuery,{page:h.f.RESULT,query:t.title,searchId:"",extReqParams:this.getExt()}),r.f.imageSearch.click(Ht(Ht({},this.data),{},{clickZone:1,clickContent:t.title})))},tapMore:function(t){var e=t.text;r.f.imageSearch.click(Ht(Ht({},this.data),{},{clickZone:2,clickContent:e}))},wordChooseToggleCheck:function(t){var e=t.text;r.f.imageSearch.click(Ht(Ht({},this.data),{},{clickZone:5,clickContent:e}))},wordChoosePick:function(t){var e=t.text;r.f.imageSearch.click(Ht(Ht({},this.data),{},{clickZone:4,clickContent:e}))},wordChooseCopy:function(t){var e=t.text;r.f.imageSearch.click(Ht(Ht({},this.data),{},{clickZone:6,clickContent:e}))},wordChooseConfirm:function(t){var e=t.text;this.handleClientNavAction(),this.M_openSearchWebView({actionType:3,type:0,subType:0,query:e,isHomePage:1,extParams:encodeURIComponent(JSON.stringify({crossExtReqParams:[{key:"parentSearchID",textValue:this.M_composeParentSid({t:h.p.OCR_SELECTED,s:r.b.searchId,did:"确认选词",rid:this.$store.state.result.previousRid})}]}))}),r.f.imageSearch.click(Ht(Ht({},this.data),{},{clickZone:7,clickContent:e}))},tapAction:function(t){var e=this;if("chooseWord"==t.type)try{var i=JSON.parse(t.ocrJsonStr).content;e.$showWordPicker({text:i,showCancel:!1,showCopy:!0},{confirm:e.wordChooseConfirm,copy:e.wordChooseCopy,pick:e.wordChoosePick,toggleCheck:e.wordChooseToggleCheck}),e.isPickerShow=!0,e.setupClientBehavior(!0,t.title),r.f.imageSearch.click(Ht(Ht({},e.data),{},{clickZone:3,clickContent:t.title}))}catch(t){}else"subject"==t.type&&(e.M_openSearchWebView({actionType:3,hideSearchBar:!0,navBarColor:r.g.isDarkMode()?"#191919":"#FFFFFF",nativeConfig:{title:"搜题",hideNavBottomLine:!0},extParams:JSON.stringify({chatSearch:2,reqKey:encodeURIComponent(r.b.imageSearchReqKey),action:"chatimgsearch_by_req_key_forcesoti"})}),r.f.imageSearch.click(Ht(Ht({},e.data),{},{clickZone:8,clickContent:t.title})))},setupClientBehavior:function(t,e){r.n.hasSearchBarForSpecialSearchScene&&(Dt.a.setPopGestureEnabled({enabled:!t}),t?k.a.configNavBar({hideSearchBar:!0,nativeConfig:{title:e},navButtonConfig:{leftBarButtonType:"exit"}}):k.a.configNavBar({hideSearchBar:!1,navButtonConfig:{leftBarButtonType:"back"}}))}}},Ut=(i(1786),Object(_.a)(Lt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ocr-info",class:{"hidden-words":t.isWordsHidden,"hidden-actions":t.hideAction}},[i("div",{staticClass:"rec"},[i("p",{staticClass:"rec__title"},[t._v("\n      "+t._s(t.rec.title)+"\n    ")]),i("magnifierWithWord",{attrs:{list:t.words},on:{tapWord:t.tapRec,toggleMore:t.tapMore}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.hideAction,expression:"!hideAction"}],staticClass:"actions"},t._l(t.action,(function(e){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.title,staticClass:"action active__item",attrs:{role:"button"},on:{click:function(i){return t.tapAction(e)}}},[e.iconUrl?i("ui-image",{staticClass:"action__icon",attrs:{size:20,color:"var(--LINK)",url:e.iconUrl}}):t._e(),i("div",{staticClass:"action__title"},[t._v("\n        "+t._s(e.title)+"\n      ")])],1)})),0)])}),[],!1,null,"4b7eada5",null).exports);function Ft(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function Wt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ft(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Gt={components:{},mixins:[r.m,m],props:{data:{type:Object,required:!0}},data:function(){return{isPickerShow:!1}},created:function(){},methods:{exposeReport:function(){r.f.imageSearch.expose([this.data])},onTapLink:function(){this.M_go(this.data.jumpInfo),r.f.imageSearch.click(Wt(Wt({},this.data),{},{clickZone:1,clickContent:this.data.title}))}}},Kt=(i(1787),Object(_.a)(Gt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"doc-info"},[i("div",{staticClass:"doc-info__title"},[t._v("图片已生成表格，可在小程序中打开")]),t.data.thumbUrl?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"have-doc-wrp active__item",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapLink.apply(null,arguments)}}},[t.data.source?i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(t.data.source.title)+"，")]):t._e(),i("div",{staticClass:"applet-title-wrp"},[i("div",{staticClass:"applet-title-left"},[i("i",{staticClass:"applet-logo"}),i("div",{staticClass:"applet-title"},[t._v(t._s(t.data.title))])]),i("svg-icon",{attrs:{name:"arrow"}})],1),i("div",{staticClass:"applet-doc-img-wrp"},[i("div",{staticClass:"applet-doc-img",style:{backgroundImage:"url("+t.data.thumbUrl+")"}}),i("div",{staticClass:"img-mask"})]),t.data.source?i("p",{staticClass:"applet-name",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.data.source.title))]):t._e()]):i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"no-doc-wrp active__item",on:{click:function(e){return e.stopPropagation(),t.onTapLink.apply(null,arguments)}}},[i("div",{staticClass:"no-doc-left"},[i("i",{staticClass:"applet-logo"}),i("div",{staticClass:"applet-info"},[i("p",{staticClass:"applet-title"},[t._v(t._s(t.data.title))]),t.data.source?i("p",{staticClass:"applet-name no-space"},[t._v(t._s(t.data.source.title))]):t._e()])]),i("svg-icon",{attrs:{name:"arrow"}})],1)])}),[],!1,null,"99be5804",null).exports);function Zt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function zt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Zt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Qt={1:{tmpl:"subject-info",dataKey:"sotiInfo"},2:{tmpl:"image-info",dataKey:"imageInfo"},3:{tmpl:"baike-info",dataKey:"baikeInfo"},4:{tmpl:"qrcode-info",dataKey:"qrcodeInfo"},5:{tmpl:"star-similarity-list",dataKey:"similarFace"},6:{tmpl:"finder-info",dataKey:"finderInfo"},7:{tmpl:"image-arts",dataKey:"imageArts"},8:{tmpl:"poem-info",dataKey:"poemInfo"},9:{tmpl:"ocr-info",dataKey:"ocrInfo"},10:{tmpl:"doc-info",dataKey:"docInfo"}},Jt={components:{imageList:$,imageInfo:et,qrcodeInfo:st,baikeInfo:X,imageArts:lt,finderInfo:_t,emptyRecommendInfo:Ot,starSimilarityList:wt,subjectInfo:Mt,poemInfo:Nt,ocrInfo:Ut,picCut:T,docInfo:Kt},props:{args:{type:Object,default:function(){return{}}}},data:function(){return{ImageSearchComponentMap:Qt,picCutImgObj:null,showPicCut:!1,spinUrl:"",currentIndex:-1,isSoti:!1,returnQuery:"",isConfigNavBarDone:!1,isQuerySpecific:!1}},computed:{imageSearchData:function(){return this.$store.state.result.mpImageSearchData||{}},imageList:function(){try{return this.imageSearchData.items[0].sotiInfo.boxs}catch(t){return[]}},feedback:function(){return this.imageSearchData.feedback},hasImageRelativeInfo:function(){return this.imageSearchData.items&&this.imageSearchData.items.length},isOcrActionAbove:function(){return!!this.imageSearchData.is_ocr_jump_exp_on},ocrActions:function(){var t=this;if(this.isOcrActionAbove){var e=this.imageSearchData.items,i=((void 0===e?[]:e).find((function(t){return 9===t.itemType}))||{}).ocrInfo,a=(void 0===i?{}:i).action;return(void 0===a?[]:a).map((function(e){return zt(zt({},e),{},{click:function(){var i=n()(t.$refs.Component_ocrInfo,1)[0],a=void 0===i?{}:i;a.tapAction&&a.tapAction(e)}})}))}return[]}},watch:{args:function(){this.getImageSearchData(this.args)}},created:function(){var t=this;this.isImageSearchBan=!1,this.getImageSearchData(this.args),r.a.$on(r.j.IMAGE_SEARCH_PIC_CUT_SHOW,(function(e,i){t.picCutImgObj=Object.assign(e,{spinUrl:t.spinUrl}),t.showPicCut=!0,t.currentIndex=i})),r.a.$on(r.j.IMAGE_SEARCH_PIC_CUT_HIDE,(function(e,i){t.picCutImgObj=null,t.showPicCut=!1,t.hasImageRelativeInfo&&t.imageSearchData.items.forEach((function(i){i.sotiInfo&&(e?r.f.imageSearch.click(Object.assign({},i.sotiInfo,zt(zt({},i.sotiInfo.boxs[t.currentIndex]),{},{clickZone:7}))):r.f.imageSearch.click(Object.assign({},i.sotiInfo,zt(zt({},i.sotiInfo.boxs[t.currentIndex]),{},{clickZone:6}))))}))})),r.a.$on(r.j.IMAGE_SEARCH_SET_QUERY,(function(e){t.returnQuery=e,t.isConfigNavBarDone&&r.h.setInputBar({query:e})}))},destroyed:function(){r.a.$off(r.j.IMAGE_SEARCH_PIC_CUT_HIDE,{}),r.a.$off(r.j.IMAGE_SEARCH_PIC_CUT_SHOW,{})},methods:{throttle:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=!0;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];a&&(a=!1,setTimeout((function(){t.apply(e,s),a=!0}),i))}},_updateMpImageSearchData:function(t,e){this.isImageSearchBan||this.$store.commit({type:e?"result/mergeMpImageSearchData":"result/updateMpImageSearchData",mpImageSearchData:t})},_getImageSearchDataArgs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.reqKey?t.reqKey:r.b.imageSearchReqKey;return{type:h.u.IMAGE,params:{reqKey:e,content:JSON.stringify(Object.assign({action:t.action||r.b.extParams.action||"chatimgsearch_by_req_key",req_key:e},t.params))}}},getImageSearchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=+new Date;O(Object.assign({},e,{action:"chatimgsearch_security"}),{reload:3}).then((function(e){e.needClear&&(t._updateMpImageSearchData(null),t.$store.commit({type:"result/self/updateBase",pageMsg:e.clearMsg}),t.isImageSearchBan=!0,r.a.$emit(r.j.IMG_DATA_READY,{isBan:!0}))})),O(e).then((function(a){e.action&&"chatimgsearch_switch"===e.action&&(a.imageList=t.imageSearchData.imageList,a.image_list_point=t.imageSearchData.image_list_point),t._updateMpImageSearchData(a),a.items&&a.items.length>0&&(t.isSoti=a.items.some((function(t){return 1==t.itemType})),!t.isConfigNavBarDone&&r.n.hasSearchBarForSpecialSearchScene&&(t.isQuerySpecific=a.items.some((function(t){return 9==t.itemType})),k.a.configNavBar({nativeConfig:{searchBarTextColor:t.isQuerySpecific?"defaultColor":"placeholderColor"}}),r.h.setInputBar({query:t.returnQuery}),t.isConfigNavBarDone=!0)),e.action&&"chatimgsearch_by_req_key"!==e.action||t.isImageSearchBan||O(Object.assign({},e,{action:"chatimgsearch_imagelist"}),{reload:3}).then((function(e){t._updateMpImageSearchData(e,!0),e.imageList&&e.imageList.length&&0!==e.imageList[0].imgObj.orientation&&(t.spinUrl=e.imageList[0].spinUrl)})),O({reqKey:a.reqKey,action:"chatimgsearch_webreport",params:{user_cost_time:+new Date-i}}),r.a.$emit(r.j.IMG_DATA_READY,{isBan:!1})}))},getImgCutSearchFail:function(){r.a.$emit(r.j.showToast,{action:D.a.warn,text:"操作失败，可重新搜索"})}}},Yt=(i(1788),Object(_.a)(Jt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-search-mp-box"},[t.imageSearchData.imageList?i("image-list",{attrs:{"is-get-main-color":!!t.imageSearchData.sotiInfo,data:t.imageSearchData.imageList,"crop-list":t.imageSearchData.image_list_point,"crop-search":t.imageSearchData.cropSearch,"is-soti":t.isSoti,"is-query-specific":t.isQuerySpecific,"ext-actions":t.ocrActions}}):t._e(),t.hasImageRelativeInfo?i("div",{staticClass:"image-relative-info"},[t._l(t.imageSearchData.items,(function(e,a){return[t.ImageSearchComponentMap[e.itemType]?i(t.ImageSearchComponentMap[e.itemType].tmpl,{key:t.imageSearchData.req_key+"-"+e.itemType+"-"+a,ref:"Component_"+t.ImageSearchComponentMap[e.itemType].dataKey,refInFor:!0,tag:"component",staticClass:"image-relative-info-item",attrs:{"type-pos":a+1,data:e[t.ImageSearchComponentMap[e.itemType].dataKey],feedback:t.imageSearchData.feedback,"hide-action":9===e.itemType&&t.isOcrActionAbove}}):t._e()]}))],2):t._e(),t.imageSearchData.emptyData&&t.imageSearchData.emptyData.isShow?i("empty-recommend-info",{attrs:{"image-search-data":t.imageSearchData,data:t.imageSearchData.emptyData}}):t._e(),t.picCutImgObj?i("pic-cut",{attrs:{title:"选择其他题目",show:t.showPicCut,"img-cut-object":t.picCutImgObj,"crop-list":t.imageList,"crop-index":t.currentIndex,"research-type":1,mode:3,"is-query-specific":t.isQuerySpecific,"hide-dots":""},on:{cutSearchFail:t.getImgCutSearchFail}},[i("p",[t._v("调整选框可更改搜索内容")]),i("p",[t._v("建议每次框选一题，解答更准确")])]):t._e()],1)}),[],!1,null,"7eac54f0",null));e.default=Yt.exports},469:function(t,e,i){},480:function(t,e,i){"use strict";var a=i(493),n=i(0),s={mixins:[n.k,n.m],props:{useUiSource:{type:Boolean,default:!1},text:{type:[String,Number],default:""},size:{type:Number,default:32},iconUrl:{type:String,default:"https://res.wx.qq.com/a/fed_upload/658e7c8d-708d-499b-8d41-4cca1d510d03/play.svg"},ts:{type:Number,default:0},liveWatch:{type:Boolean,default:!1},like:{type:Boolean,default:!1},isHot:{type:Boolean,default:!1},duration:{type:Boolean,default:!1},durationAtLeftBottom:{type:String,default:""},isTop:{type:Boolean,default:!1},noIcon:{type:Boolean,default:!1},dateTime:{type:String,default:""},tag:{type:Object,default:function(){}},tags:{type:Array,default:function(){return[]}},liveEnd:{type:Boolean,default:!1},tapSourceAlone:{type:Boolean,default:!1},tapTextAlone:{type:Boolean,default:!1},title:{type:String,default:""},desc:{type:String,default:""},source:{type:Object,default:function(){return{}}},friendInfo:{type:Object,default:function(){return{}}},showGradient:{type:Boolean,default:!1},gradientPadding:{type:Number,default:8},maskType:{type:Number,default:1},tagDate:{type:String,default:""},tagTitle:{type:String,default:""},specialShadow:{type:Boolean,default:!1},hotComment:{type:Object,default:function(){return{}}}},computed:{maskTypeText:function(){return{1:"视频",2:"文章"}[this.maskType]},showAdvancedSpecialShadow:function(){return(!!this.dateTime||!!this.source||!!this.ts||this.text)&&(!!this.friendInfo&&!!this.friendInfo.avatars&&this.friendInfo.avatars.length>0||!!this.title||!!this.desc)&&!this.hotComment}},methods:{decodeEmoji:function(t){if(t){var e=t.replace(/\\n/gi," ");return Object(a.decode)(e)}return""},tapSource:function(t){this.$emit("tap:source",t,this.M_getItemPos(t))},tapHotComment:function(t){this.hotComment.jumpInfo&&(t.stopPropagation(),this.M_go(this.hotComment.jumpInfo),this.M_clickReport({clickZone:1,itemPos:this.M_getItemPos(this.hotComment),reportItem:this.reportItem},this.hotComment))}}},o=(i(583),i(484),i(4)),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"play-mask",attrs:{role:"option"}},[t.tag?i("ui-tag",{staticClass:"mask-tag",attrs:{title:t.tag.title,type:t.tag.type}}):t._e(),t.tags?i("ui-tags",{staticClass:"mask-tag",attrs:{tags:t.tags}}):t._e(),i("div",{staticClass:"mask-tag scene-tag"},[t.tagDate?i("div",{staticClass:"scene-tag__date"},[i("span",[t._v(t._s(t.tagDate))])]):t._e(),t.tagTitle?i("div",{staticClass:"scene-tag__title"},[i("span",[t._v(t._s(t.tagTitle))])]):t._e()]),i("div",{staticClass:"extra-wrap",class:{"linear-gradient":t.showGradient&&!t.specialShadow},style:{padding:t.gradientPadding+"px"}},[t.specialShadow?i("div",{class:{"special-shadow":!0,"special-shadow--advanced":t.showAdvancedSpecialShadow,"special-shadow--hot-comment":!!t.hotComment}}):t._e(),t.hotComment&&t.hotComment.content&&t.hotComment.content.trim()?i("ui-clamp",{directives:[{name:"active",rawName:"v-active.stop",value:!!t.hotComment.jumpInfo,expression:"!!hotComment.jumpInfo",modifiers:{stop:!0}}],class:{"hot-comment":!0,active__opacity:!!t.hotComment.jumpInfo},attrs:{autoresize:"","max-lines":2,"raw-html":t.decodeEmoji(t.hotComment.content),"aria-label":t.hotComment.content,"data-report-id":t.M_itemReportId(t.hotComment,1)},nativeOn:{click:function(e){return t.tapHotComment.apply(null,arguments)}},scopedSlots:t._u([{key:"before",fn:function(){return[i("span",{staticClass:"hot-comment__item-wrap"},[i("span",{staticClass:"hot-comment__label"},[t._v(t._s(t.hotComment.label))])])]},proxy:!0},{key:"after",fn:function(){return[i("span",{staticClass:"hot-comment__item-wrap"},[i("span",{staticClass:"hot-comment__like"},[i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/59ee2753-a126-4495-bd1e-daccbdc285bf/like2_outlined.svg"}}),i("span",{staticClass:"ui-aria-hidden"},[t._v(", 获得")]),i("span",[t._v(t._s(t.hotComment.likeNum))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("个赞")])],1)])]},proxy:!0}],null,!1,151505576)},[i("span",{staticClass:"hot-comment__content"})]):[t.friendInfo&&t.friendInfo.avatars&&t.friendInfo.avatars.length>0?i("div",{staticClass:"social",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"social__avatars"},t._l(t.friendInfo.avatars,(function(t){return i("ui-image",{key:t,staticClass:"social__avatar",attrs:{url:t,size:28,mode:"avatar"}})})),1),t.friendInfo.text?i("div",{staticClass:"social__title"},[t._v("\n          "+t._s(t.friendInfo.text)+"\n        ")]):t._e(),t.friendInfo.afterText?i("div",{staticClass:"social__after-text"},[t._v("\n          "+t._s(t.friendInfo.afterText)+"\n        ")]):t._e(),i("online-image",{staticClass:"social__mark",attrs:{url:"https://res.wx.qq.com/t/fed_upload/947ffded-fd95-4cf1-853c-1f052774f6aa/like_outlined_medium.svg"}})],1):t._e(),t.title?i("div",{staticClass:"vc-title",domProps:{innerHTML:t._s(t.xss(t.title))}}):t._e(),t.desc?i("div",{staticClass:"vc-desc",domProps:{innerHTML:t._s(t.xss(t.desc))}}):t._e(),t.durationAtLeftBottom?i("div",{staticClass:"play-mask__text",attrs:{role:"option"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("时长：")]),i("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.durationAtLeftBottom))])]):t.dateTime?i("div",{staticClass:"datetime"},[t._v("\n        "+t._s(t.dateTime)+"\n      ")]):!t.useUiSource&&t.source?i("div",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapSourceAlone,expression:"tapSourceAlone",modifiers:{stop:!0}}],staticClass:"vc-source",class:{"vc-source_with-tag":t.source.tag,active__opacity:t.source.jumpInfo&&t.tapSourceAlone},attrs:{"data-report-id":t.M_itemReportId(t.source)},on:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}}},[t.source.iconUrl?i("ui-image",{staticClass:"vc-source__thumb",attrs:{url:t.source.iconUrl,size:20,mode:"avatar",overlay:""}}):t._e(),t.source.title||t.source.mark?i("div",{staticClass:"vc-source-title-box"},[i("div",{staticClass:"vc-source__title"},[i("p",{staticClass:"vc-source__text",domProps:{innerHTML:t._s(t.xss(t.source.title))}}),i("div",{staticClass:"badges"},t._l(t.source.mark,(function(t){return i("ui-image",{key:t,attrs:{url:t,size:16,mode:"raw"}})})),1),i("p",{staticClass:"vc-source__dateTime",domProps:{innerHTML:t._s(t.xss(t.source.dateTime))}})])]):t._e()],1):t.source?i("ui-source",t._b({directives:[{name:"active",rawName:"v-active.stop",value:!!t.source.jumpInfo,expression:"!!source.jumpInfo",modifiers:{stop:!0}}],attrs:{"data-report-id":t.M_itemReportId(t.source)},nativeOn:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}},scopedSlots:t._u([{key:"after-text",fn:function(){},proxy:!0}])},"ui-source",t.source,!1)):t._e(),i("div",{staticClass:"extra-info-gap"}),t.ts||t.text?i("span",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapTextAlone,expression:"tapTextAlone",modifiers:{stop:!0}}],staticClass:"play-mask__bg active__opacity"},[t.like?i("span",{staticClass:"play-mask__text",attrs:{role:"option"}},[t.isHot?i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/1f3fb4f3-6753-466e-9a75-eef436716497/fire.svg"}}):i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/947ffded-fd95-4cf1-853c-1f052774f6aa/like_outlined_medium.svg"}}),i("span",{staticClass:"ui-aria-hidden"},[t._v("，点赞：")]),i("span",[t._v(t._s(t.text))])],1):i("span",{staticClass:"play-mask__text",attrs:{role:"option"}},[t.durationAtLeftBottom?t._e():[t.ts||t.duration||t.text.toString().indexOf(":")>-1?i("span",{staticClass:"ui-aria-hidden"},[t._v("，时长：")]):t._e(),t.liveWatch?i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s("，"+t.text))]):t._e(),t.ts?i("span",[t._v(t._s(t._f("mmss")(t.ts)))]):i("span",{attrs:{"aria-hidden":t.liveWatch}},[t._v(t._s(t.text))])],t.isTop?i("online-image",{staticClass:"icon-top",attrs:{url:"https://res.wx.qq.com/t/fed_upload/d649fe44-ec25-474b-bcc0-2281a0105218/top.svg"}}):t._e()],2)]):t._e(),i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(","+t.maskTypeText+"。"))])]],2),t.noIcon?t._e():i("div",{staticClass:"play-icon-wrapper"},[i("ui-image",{staticClass:"play-icon",attrs:{"aria-label":"播放",url:t.iconUrl,size:t.size,type:"img"}})],1),t.liveEnd?i("div",{staticClass:"live-end-tip"},[i("ui-image",{staticClass:"live-end-icon",attrs:{url:"https://res.wx.qq.com/a/fed_upload/4e09c767-7238-4dab-bb48-8da245eeb470/live_icon.svg",size:20}}),i("span",[t._v("直播已结束")])],1):t._e()],1)}),[],!1,null,"7c7a3501",null);e.a=r.exports},484:function(t,e,i){"use strict";i(469)},577:function(t,e,i){},583:function(t,e,i){"use strict";i(577)},676:function(t,e,i){},764:function(t,e,i){"use strict";i(676)},820:function(t,e,i){"use strict";var a={props:{url:{type:String,required:!0}},data:function(){return{style:{}}},watch:{url:function(t){this.preload(t)}},mounted:function(){this.preload(this.$props.url)},methods:{preload:function(t){var e=this,i=new Image;i.onload=function(){if(e.$refs.imgContainer){var t=this.height/this.width,a=1,n=1,s=0,o=0;t>1?s=(1-(a=1/Math.min(4/3,t)))/2/a:o=(1-(n=Math.max(3/4,t)))/2/n,e.$refs.imgContainer.style.backgroundImage='url("'.concat(i.src,'")'),e.style={width:"".concat(100*a,"%"),paddingBottom:"".concat(100*n,"%"),transform:"translate(".concat(100*s,"%, ").concat(100*o,"%)")}}},i.src=t}}},n=(i(764),i(4)),s=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"imgContainer",staticClass:"img_container",style:this.style})}),[],!1,null,"96c73eae",null);e.a=s.exports},831:function(t,e,i){"use strict";var a,n=i(0);window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},startup:{typeset:!1}};var s={props:{content:{type:String,default:""}},watch:{content:function(){var t=this;this.$nextTick((function(){t.mathjaxFormat()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.mathjaxFormat()}))},methods:{_adjustFontSize:function(t){var e=parseInt(n.g.getStyle(t,"font-size"))+1;!function i(){var a=t.querySelector(".MathJax");a&&a.offsetWidth>t.offsetWidth&&(a.style.fontSize="".concat(e,"px"),(e-=1)>=8&&setTimeout(i))}()},_format:function(){var t=this;window.MathJax.typeset([".mathjax-content"]),Array.prototype.forEach.call(document.querySelectorAll(".mathjax-content"),(function(e){t._adjustFontSize(e)}))},mathjaxFormat:function(){var t=this;clearTimeout(a),a=setTimeout((function(){window.MathJax.typeset?t._format():n.g.loadjs("https://res.wx.qq.com/a/wx_fed/cdn_libs/res/mathjax/3.1.2/es5/tex-mml-chtml.js").then(t._format)}),50)}}},o=i(4),r=Object(o.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"mathjax-content",domProps:{innerHTML:this._s(this.content)}})}),[],!1,null,null,null);e.a=r.exports}}]);