(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{1357:function(t,a,i){},1996:function(t,a,i){"use strict";i(1357)},2316:function(t,a,i){"use strict";i.r(a);var e=i(1),s=i.n(e),n=i(0),o=i(791),r=i(17);function c(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.push.apply(i,e)}return i}function l(t){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?c(Object(i),!0).forEach((function(a){s()(t,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))}))}return t}var u={default:-1,ready:0},p={name:"TranslateExact",mixins:[n.k,n.m],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{labelWidth:-1,classLabelHeight:"1.4",inflectLabelHeight:"1.4",audioSrc:""}},computed:{transData:function(){return this.source.data&&this.source.data.transData||{}},isSafari:function(){return!!Global.os.ios&&!n.b.queryString.pcWhiteboardScene},limitFuncion:function(){return 1==this.transData.audio_style&&this.isSafari},limitBilingualWeb:function(){return 2==this.transData.audio_style&&this.isSafari}},watch:{transData:{handler:function(){var t=this;this.setAudioStatus(u.default),this.$nextTick((function(){var a=-1,i=t.$refs.class;i&&i.forEach((function(t){var i=t.clientWidth;i>a&&(a=i)}));for(var e=1;e<=2;e++){var s=t.$refs["label".concat(e)];s&&s.clientWidth>a&&(a=s.clientWidth)}t.labelWidth=a;var n=t.$refs.subListRef;n&&(t.classLabelHeight="".concat(n[0].clientHeight,"px"));var o=t.$refs.inflectionRef;o&&(t.inflectLabelHeight="".concat(o[0].clientHeight,"px"))}))},immediate:!0}},mounted:function(){var t=this;this.$nextTick((function(){r.b.onWebviewPause(t.pauseHandler)}))},methods:{onTapHeader:function(){this.M_clickReport({clickZone:"".concat(o.a.header),clickContent:"",expand:this.M_getJumpSubScene(this.transData.homeJumpInfo)}),this.M_serviceSearchGo(this.transData.homeJumpInfo)},setAudioStatus:function(t){var a=this,i=this.transData,e=[i.phonetic,i.bilingualWeb];t==u.default&&e.forEach((function(i){i&&i.forEach((function(i){a.$set(i,"play",u[t])}))})),t==u.ready&&e.forEach((function(t){t&&t.some((function(t){var i=t.play>=10;return i&&a.$set(t,"play",t.play.slice(0,1)),i}))}))},onTapAudio:function(t,a,i){var e=this,s=this.$refs.audio;if(s){if(2===i){if(t.play==a&&!this.limitBilingualWeb&&!this.limitFuncion)return s.pause(),void this.setAudioStatus(u.default)}else if(t.play==a&&!this.limitFuncion)return s.pause(),void this.setAudioStatus(u.default);this.setAudioStatus(u.default),s.loop=2===a,t.audio?t.audio==this.audioSrc?(s.load(),this.$set(t,"play",a)):(this.audioSrc=t.audio,this.$set(t,"play","".concat(a,"0")),this.$nextTick((function(){s.load()}))):t.cgi&&(this.$set(t,"play","".concat(a,"0")),n.h.getCommonCgiData({cgiName:t.cgi.name,data:l(l({},t.cgi.params),{},{text:t.text})}).then((function(a){0===a.errCode&&(e.audioSrc="data:audio/mpeg;base64,".concat(a.data.rawData),e.$set(t,"audio",e.audioSrc),e.$nextTick((function(){s.load()})))})));var r="";r=0===i?1==a?"usOnce":"usLoop":1===i?1==a?"ukOnce":"ukLoop":"exampleOnce",this.M_clickReport({clickZone:o.a[r],clickContent:""})}},onAudioReady:function(){this.setAudioStatus(u.ready),this.$refs.audio.play()},onAudioEnd:function(){this.setAudioStatus(u.default)},onTapOtherMore:function(){this.M_clickReport({clickZone:"".concat(o.a.otherWord,"_0"),clickContent:"更多",expand:this.M_getJumpSubScene(this.transData.otherJumpInfo)}),this.M_serviceSearchGo(this.transData.otherJumpInfo)},onTapOtherItem:function(t,a){this.M_clickReport({clickZone:"".concat(o.a.otherWord,"_").concat(a+1),clickContent:"".concat(t.word," ").concat(t.class," ").concat(t.paraphrase),expand:this.M_getJumpSubScene(t)}),this.M_serviceSearchGo(t)},onTapExample:function(){var t=this.transData.bilingualWeb[0];this.M_clickReport({clickZone:o.a.example,clickContent:"".concat(t.source," ").concat(t.target),expand:this.M_getJumpSubScene(t)}),this.M_serviceSearchGo(t)},onTapList:function(t,a){this.M_clickReport({clickZone:o.a.list,clickContent:"".concat(t.class," ").concat(t.paraphrase),expand:this.M_getJumpSubScene(t)}),this.M_serviceSearchGo(t)},onTapWordBtn:function(t,a,i,e,s){var n="".concat(o.a[a]);void 0!==i&&(n+="_".concat(i+1)),void 0!==e&&(n+="_".concat(e+1)),s&&(n+="_".concat(s)),this.M_clickReport({clickZone:n,clickContent:t.word,expand:this.M_getJumpSubScene(t)}),this.M_serviceSearchGo(t)},pauseHandler:function(){this.$refs.audio&&(this.setAudioStatus(u.default),this.$refs.audio.pause())},zhCharEn:function(t){return t.replace("【","[").replace("】","]").replace("（","(").replace("）",")")}}},d=(i(1996),i(4)),f=Object(d.a)(p,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"translate-exact"},[i("audio",{ref:"audio",attrs:{src:t.audioSrc,preload:"",type:"audio/mp3",codecs:"mp3"},on:{canplay:t.onAudioReady,ended:t.onAudioEnd}}),i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"word-header active__mask",on:{click:function(a){return a.stopPropagation(),t.onTapHeader.apply(null,arguments)}}},[i("div",{staticClass:"word-hd",attrs:{role:"option"}},[i("span",{staticClass:"word-hd__word",domProps:{innerHTML:t._s(t.transData.word)}}),i("span",{staticClass:"word-hd__title",domProps:{innerHTML:t._s(t.transData.title)}})]),t.transData.phonetic?i("div",{staticClass:"word-phonetic"},t._l(t.transData.phonetic,(function(a,e){return i("span",{key:e,staticClass:"word-phonetic__voice"},[i("span",[t._v(t._s(a.value))]),a.audio||a.cgi?[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"voice-icon-wrapper active__mask",attrs:{role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapAudio(a,1,e)}}},[i("i",{staticClass:"voice-icon voice-once",class:{"circle-loading":10==a.play,playing:1==a.play&&!t.limitFuncion}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("单次播放")])])]),t.limitFuncion?t._e():i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"voice-icon-wrapper  active__mask",attrs:{role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapAudio(a,2,e)}}},[i("i",{staticClass:"voice-icon voice-loop",class:{"circle-loading":20==a.play,playing:2==a.play&&!t.limitFuncion}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("循环播放")])])])]:t._e()],2)})),0):t._e()]),t.transData.list?i("div",{staticClass:"word-list"},t._l(t.transData.list,(function(a,e){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e,staticClass:"word-line",class:{active__mask:a.jumpInfo},style:{marginTop:(a.subList||a.relativeWord?12:4)+"px"},on:{click:function(i){return i.stopPropagation(),t.onTapList(a,e)}}},[i("div",{ref:"class",refInFor:!0,staticClass:"line-label",class:{"label-center":t.classLabelHeight.indexOf("px")>-1},style:{width:t.labelWidth+"px",height:""+t.classLabelHeight}},[t._v(t._s(a.class)+"\n      ")]),i("div",{staticClass:"word-list__main"},[a.paraphrase?i("div",{staticClass:"ellipsis2",domProps:{innerHTML:t._s(t.zhCharEn(a.paraphrase))}}):t._e(),a.subList?i("div",{staticClass:"sub-list"},t._l(a.subList,(function(s,n){return i("div",{key:n,ref:"subListRef",refInFor:!0,staticClass:"sub-list__item",attrs:{role:"button"}},[i("span",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"word-btn active__item",on:{click:function(i){return i.stopPropagation(),t.onTapWordBtn(s,"subList",e,n,a.class)}}},[t._v(t._s(s.word))]),i("span",{staticClass:"sub-list__item__paraphrase"},[t._v(t._s(s.paraphrase))])])})),0):t._e(),a.relativeWord?i("div",{staticClass:"relative-word"},t._l(a.relativeWord,(function(s,n){return i("div",{key:n,staticClass:"relative-word__item",attrs:{role:"button"}},[i("span",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"word-btn active__item",on:{click:function(i){return i.stopPropagation(),t.onTapWordBtn(s,"relativeWord",e,n,a.class)}}},[t._v(t._s(s.word))])])})),0):t._e()])])})),0):t._e(),t.transData.bilingualWeb?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"word-example",class:{active__mask:t.transData.bilingualWeb[0].jumpInfo},on:{click:function(a){return a.stopPropagation(),t.onTapExample.apply(null,arguments)}}},[i("div",{ref:"label1",staticClass:"line-label",style:{width:t.labelWidth+"px"}},[t._v("例句")]),t._l(t.transData.bilingualWeb,(function(a,e){return i("div",{key:e,attrs:{role:"option"}},[i("div",{staticClass:"word-example__source"},[i("span",{domProps:{innerHTML:t._s(a.source)}}),a.cgi||a.audio?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"voice-icon-wrapper active__mask",attrs:{role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapAudio(a,1,2)}}},[i("i",{staticClass:"voice-icon voice-once",class:{"circle-loading":10==a.play,playing:1==a.play&&!t.limitFuncion&&!t.limitBilingualWeb}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("单次播放")])])]):t._e()]),i("div",{staticClass:"ellipsis2 word-example__target",domProps:{innerHTML:t._s(a.target)}})])}))],2):t._e(),t.transData.inflection?i("div",{staticClass:"word-inflect"},[i("div",{ref:"label2",staticClass:"line-label",class:{"label-center":t.inflectLabelHeight.indexOf("px")>-1},style:{width:t.labelWidth+"px",height:""+t.inflectLabelHeight}},[t._v("变形")]),i("div",{staticClass:"word-inflect__content"},t._l(t.transData.inflection,(function(a,e){return i("div",{key:e,ref:"inflectionRef",refInFor:!0,staticClass:"word-inflect__block",attrs:{role:"button"}},[i("span",{staticClass:"word-inflect__title"},[t._v(t._s(a.title))]),i("span",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"word-btn active__item",on:{click:function(i){return i.stopPropagation(),t.onTapWordBtn(a,"inflection",e)}}},[t._v(t._s(a.word))])])})),0)]):t._e(),t.transData.otherWordInfos?i("div",{staticClass:"word-other"},[i("div",{staticClass:"word-other__hd"},[i("span",{staticClass:"title"},[t._v("其他翻译")]),t.transData.otherJumpInfo?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"more active__mask",attrs:{role:"button"},on:{click:function(a){return a.stopPropagation(),t.onTapOtherMore.apply(null,arguments)}}},[i("span",[t._v("更多")]),i("ui-arrow",{attrs:{gap:""}})],1):t._e()]),i("ul",t._l(t.transData.otherWordInfos,(function(a,e){return i("li",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e,staticClass:"word-other__item__wrapper",class:{active__mask:a.jumpInfo},attrs:{role:"option"},on:{click:function(i){return i.stopPropagation(),t.onTapOtherItem(a,e)}}},[i("div",{staticClass:"word-other__item"},[i("span",[t._v("·")]),i("span",{staticClass:"word"},[t._v(t._s(a.word))]),i("span",{staticClass:"class"},[t._v(t._s(a.class))]),i("span",{staticClass:"paraphrase"},[t._v(t._s(a.paraphrase))])])])})),0)]):t._e(),t.transData.wordGroup?i("div",{staticClass:"word-group"},t._l(t.transData.wordGroup,(function(a,e){return i("div",{key:e,staticClass:"word-group__item"},[i("span",{staticStyle:{"margin-right":"8px"}},[t._v(t._s(a.phrase))]),i("span",{staticStyle:{"margin-right":"4px"}},[t._v(t._s(a.pos))]),i("span",[t._v(t._s(a.brief_definition))])])})),0):t._e()])}),[],!1,null,"2547b47c",null);a.default=f.exports},791:function(t,a,i){"use strict";i.d(a,"b",(function(){return s})),i.d(a,"a",(function(){return n}));var e=i(10),s=new e.a({fromPicker:1,transfer:2,toPicker:3,textArea:4,close:5,fold:6,audio:7,copy:8,transResult:9}),n=new e.a({header:10,usOnce:11,usLoop:12,ukOnce:13,ukLoop:14,list:15,example:16,exampleOnce:17,inflection:18,otherWord:19,relativeWord:20,subList:30})}}]);