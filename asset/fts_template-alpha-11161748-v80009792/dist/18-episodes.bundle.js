(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{1409:function(e,t,i){},2035:function(e,t,i){"use strict";i(1409)},2339:function(e,t,i){"use strict";i.r(t);var s=i(32),n=i.n(s),r=i(8),o=i(3),a=i(39),c=i(490),u=i(717),l=i(811),d={name:"Episodes",components:{BlockTitle:c.a,UiHalfScreenSheet:u.a,UiHalfScreenSheetItem:l.a},mixins:[a.a],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{selectedIndex:0}},computed:{canChange:function(){return this.item.chooseInfoList&&this.item.chooseInfoList.length>1},renderChooseInfo:function(){return this.item.chooseInfoList[this.selectedIndex]},renderSource:function(){return{iconUrl:this.renderChooseInfo.iconUrl,title:this.renderChooseInfo.title}},sourceList:function(){return this.item.chooseInfoList.map((function(e){return{iconUrl:e.iconUrl,title:e.title,selected:e.selected}}))},episodeList:function(){return this.item.chooseInfoList[this.selectedIndex].sections||null},ellipsisEpisodeList:function(){return this.episodeList.length<5?this.episodeList:[].concat(n()(this.episodeList.slice(0,3)),[{isMore:!0,title:"···"},this.episodeList[this.episodeList.length-1]])}},watch:{item:function(){this.initSelectedIndex()}},created:function(){var e=this;this.initSelectedIndex(),r.b.onInputChange((function(){e.$refs._allEpisodes&&e.$refs._allEpisodes.hide(),e.$refs._allSource&&e.$refs._allSource.hide()})),r.b.onInputConfirm((function(){e.$refs._allEpisodes&&e.$refs._allEpisodes.hide(),e.$refs._allSource&&e.$refs._allSource.hide()})),o.a.$on(o.b.BACK_BUTTON_CLICK,(function(){e.$refs._allEpisodes&&e.$refs._allEpisodes.hide(),e.$refs._allSource&&e.$refs._allSource.hide()}))},methods:{initSelectedIndex:function(){var e=this;this.sourceList.forEach((function(t,i){t.selected&&(e.selectedIndex=i)}))},onTapEpisode:function(e){var t=e.episode,i=e.isMore,s=e.index;s||0===s?this.M_clickReport({clickZone:1,clickContent:"".concat(s+1,"+").concat(i?"···":t.title)}):this.M_clickReport({clickZone:1,clickContent:"".concat(4,"+",t.title)}),i?this.$refs._allEpisodes.show():this.M_go(t),this.$emit("tap")},onTapSource:function(){this.sourceList.length>1&&this.$refs._allSource.show(),this.M_clickReport({clickZone:3,clickContent:this.renderSource.title}),this.$emit("tap")},onSourceChanged:function(e){this.selectedIndex=e,this.$refs._allSource.hide(),this.M_clickReport({clickZone:2,clickContent:this.renderSource.title}),this.$emit("tap")}}},p=(i(2035),i(4)),h=Object(p.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ui-zone-block",{staticClass:"episodes",attrs:{"data-id":e.M_exposeId()}},[i("block-title",e._b({},"block-title",e.$props,!1)),i("ui-column",{attrs:{list:e.ellipsisEpisodeList,col:5},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item,n=t.index;return[i("ui-button",{staticClass:"episode-title",nativeOn:{click:function(t){return e.onTapEpisode({episode:s,isMore:s.isMore,index:n})}}},[e._v("\n        "+e._s(s.title)+"\n      ")])]}}])}),i("div",{staticClass:"source-wrapper"},[i("ui-source",{directives:[{name:"active",rawName:"v-active.stop",value:e.sourceList.length>1,expression:"sourceList.length > 1",modifiers:{stop:!0}}],staticClass:"episodes-source active__opacity",attrs:{title:e.renderSource.title,"icon-url":e.renderSource.iconUrl},nativeOn:{click:function(t){return e.onTapSource.apply(null,arguments)}},scopedSlots:e._u([e.sourceList.length>1?{key:"after-text",fn:function(){return[i("ui-arrow",{attrs:{direction:"down",gap:""}})]},proxy:!0}:null],null,!0)})],1),i("ui-half-screen-sheet",{ref:"_allEpisodes",attrs:{"no-safe-area-inset-bottom":!0,title:e.renderChooseInfo.popTitle}},[i("div",{staticClass:"pop-episodes-wrapper"},[i("ui-column",{attrs:{list:e.episodeList,col:5},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;t.index;return[i("ui-button",{staticClass:"episode-title",nativeOn:{click:function(t){return t.stopPropagation(),e.onTapEpisode({episode:s})}}},[e._v("\n            "+e._s(s.title)+"\n          ")])]}}])})],1)]),i("ui-half-screen-sheet",{ref:"_allSource",attrs:{title:e.item.popTitle}},e._l(e.sourceList,(function(t,s){return i("ui-half-screen-sheet-item",{key:t.title,attrs:{thumb:t.iconUrl,title:t.title,selected:s===e.selectedIndex,"can-tap":""},on:{tap:function(t){return e.onSourceChanged(s)}}})})),1)],1)}),[],!1,null,"062e243a",null);t.default=h.exports},472:function(e,t,i){},488:function(e,t,i){"use strict";i(472)},490:function(e,t,i){"use strict";var s=i(0),n={name:"BlockTitle",components:{UiSectionTitle:i(64).a},mixins:[s.m],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},computed:{header:function(){return this.item.header||{}},subHeader:function(){return this.header.iconUrl||this.header.sub||this.item.headerText},canJump:function(){return!!(this.header.jumpUrl||this.header.weappUrl||this.header.jumpInfo)},moreText:function(){return this.header.moreText||s.g.L("更多")}},methods:{onTap:function(e,t,i){this.canJump&&(e.stopPropagation(),this.M_go(this.header),this.M_clickReport({clickZone:t,clickContent:i}),this.$emit("tap"))}}},r=(i(488),i(4)),o=Object(r.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.item.header?i("ui-section-title",{attrs:{"can-jump":e.canJump&&!!e.subHeader},nativeOn:{click:function(t){return e.onTap(t,1,e.header.title)}},scopedSlots:e._u([e.canJump||e.subHeader?{key:"after",fn:function(){return[e.subHeader?i("div",{staticClass:"header-title-after"},[e.header.sub?i("div",[e._v(e._s(e.header.sub))]):e._e(),e.header.iconUrl?i("ui-image",{attrs:{size:12,url:e.header.iconUrl}}):e._e(),e.item.headerText?e._t("headerText"):e._e()],2):i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"header-more active__mask",on:{click:function(t){return e.onTap(t,3,"更多")}}},[e._v("\n      "+e._s(e.moreText)+"\n      "),i("ui-arrow")],1)]},proxy:!0}:null],null,!0)},[e._v("\n  "+e._s(e.header.title)+"\n  ")]):e._e()}),[],!1,null,"6f6c5df4",null);t.a=o.exports},608:function(e,t,i){},677:function(e,t,i){"use strict";i(608)},678:function(e,t,i){},717:function(e,t,i){"use strict";var s={name:"UiHalfScreenSheet",props:{title:String,desc:String,footer:Object,noSafeAreaInsetBottom:{type:Boolean,default:!1}},methods:{show:function(){this.$refs._halfScreen.show()},hide:function(){this.$refs._halfScreen.hide()},onTapLink:function(){this.$emit("tap:link")}}},n=(i(677),i(4)),r=Object(n.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ui-half-screen",{ref:"_halfScreen",attrs:{"class-name":{"ui-half-screen-dialog-no-safe-area-inset-bottom":e.noSafeAreaInsetBottom},"can-scroll":"",header:{title:e.title,desc:e.desc,close:!0},footer:e.footer},on:{"tap:link":e.onTapLink,hide:function(t){return e.$emit("hide")}}},[i("div",{staticClass:"ui-half-screen-sheet-wrapper",class:{"ui-wrapper-with-footer":e.footer}},[e._t("default"),i("div",{staticClass:"ui-half-screen-sheet-end-line"})],2)])}),[],!1,null,"7ccaf073",null).exports;r.install=function(e){e.component(r.name,r)};t.a=r},766:function(e,t,i){"use strict";i(678)},811:function(e,t,i){"use strict";var s=i(1),n=i.n(s);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}var o={name:"UiHalfScreenSheetItem",mixins:[i(0).m],props:{sheetItem:{type:Object,default:function(){return{}}},sheetIndex:{type:Number,default:0},thumb:String,thumbType:String,title:String,titleTags:Array,price:String,desc:String,distance:String,source:String,tags:Array,canJump:Boolean,canTap:Boolean,selected:Boolean,jumpText:String,button:[Object,String],alignCenter:{type:Boolean,default:!1}},data:function(){return{}},computed:{thumbConfig:function(){return this.getThumbConfig(this.thumbType)},buttonObj:function(){return"string"==typeof this.button?{title:this.button}:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({type:this.button&&this.button.buttonType},this.button||{})}},methods:{onTap:function(){this.$emit("tap",{itemPos:this.M_getItemPos(this.sheetItem.reportId)})},onTapButton:function(){this.$emit("tap:button",{itemPos:this.M_getItemPos(this.buttonObj.reportId)})},getThumbConfig:function(e){switch(e){case"user":return{size:48,borderRadius:4};case"account":default:return{size:40,borderRadius:20}}}}},a=(i(766),i(4)),c=Object(a.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:e.canTap||e.canJump,expression:"canTap || canJump"}],staticClass:"ui-half-screen-sheet-item active__absolute",attrs:{role:"button","data-report-id":e.M_itemReportId(e.sheetItem.reportId,e.sheetIndex+1)},on:{click:e.onTap}},[i("ui-image",{staticClass:"ui-half-screen-sheet-avatar",class:{"flex-start":e.buttonObj&&!!e.buttonObj.title&&!e.alignCenter},style:"borderRadius: "+e.thumbConfig.borderRadius/16+"rem",attrs:{type:"img",mode:"avatar",url:e.thumb,size:e.thumbConfig.size}}),i("div",{staticClass:"ui-half-screen-sheet-item-text",attrs:{role:"button"}},[i("div",{staticClass:"ui-title-wrapper"},[i("span",{staticClass:"ui-title"},[e._v(e._s(e.title))]),i("ui-tags",{staticClass:"ui-title-tag",attrs:{tags:e.titleTags}}),i("span",{staticClass:"ui-aria-hidden"},[e._v(".")])],1),e.tags?i("div",{staticClass:"ui-tags-wrapper"},[i("ui-tags",{staticClass:"ui-tag-after-desc",attrs:{flex:"",tags:e.tags}}),i("span",{staticClass:"ui-aria-hidden"},[e._v(".")])],1):e._e(),e.desc||e.price?i("p",{staticClass:"ui-desc"},[e.price?i("span",{staticClass:"ui-price"},[e._v(e._s(e.price))]):e._e(),e.desc?i("span",[i("span",{staticClass:"ui-aria-hidden"},[e._v(".")]),e._v("\n        "+e._s(e.desc)+"\n      ")]):e._e(),i("span",{staticClass:"ui-aria-hidden"},[e._v(".")])]):e._e(),e.distance?i("p",{staticClass:"ui-desc ui-distance"},[i("ui-image",{attrs:{url:"https://res.wx.qq.com/t/fed_upload/8e666c01-bcd4-4e45-8a57-c520636b3ec7/icons_outlined_location.svg",size:20,color:"var(--FG-2)"}}),e._v("\n      "+e._s(e.distance)+"\n    ")],1):e._e(),e.source?i("p",{staticClass:"ui-text-source"},[i("span",{directives:[{name:"xss-html",rawName:"v-xss-html",value:e.source,expression:"source"}]})]):e._e(),e._t("after-text")],2),e.buttonObj&&e.buttonObj.title?i("div",{staticClass:"ui-half-screen-sheet-button-container",class:{"flex-start":!e.alignCenter}},[i("span",{staticClass:"ui-aria-hidden"},[e._v(".")]),i("ui-button",e._b({attrs:{"data-report-id":e.M_itemReportId(e.buttonObj.reportId,e.sheetIndex+1+":"+(e.M_getItemType(e.sheetItem.reportId)||"list")+"|0:"+(e.M_getItemType(e.buttonObj.reportId)||"button"))},nativeOn:{click:function(t){return e.onTapButton.apply(null,arguments)}}},"ui-button",e.buttonObj,!1))],1):e.canJump?i("div",{staticClass:"ui-half-screen-sheet-item-jump"},[e._v("\n    "+e._s(e.jumpText)+"\n    "),i("ui-arrow",{attrs:{gap:""}})],1):e.selected?i("div",{staticClass:"ui-half-screen-sheet-item-selected",attrs:{role:"option","aria-label":"已勾选"}},[i("ui-icon",{attrs:{name:"done"}})],1):e._e()],1)}),[],!1,null,"4e23baa8",null).exports;c.install=function(e){e.component(c.name,c)};t.a=c}}]);