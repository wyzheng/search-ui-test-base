(window.webpackJsonp=window.webpackJsonp||[]).push([[219,276],{1385:function(t,e,n){},2011:function(t,e,n){"use strict";n(1385)},2322:function(t,e,n){"use strict";n.r(e);var i=n(3),o=n(0),a=n(504),r=n(567),c={name:"AdZoneHeader",components:{VideoPlayer:a.a,ComplaintPopover:r.default},mixins:[o.k,o.m],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},created:function(){i.a.$on(i.b.PAUSE_ZONE_HEADER_VIDEO,this.onPause)},destroyed:function(){i.a.$off(i.b.PAUSE_ZONE_HEADER_VIDEO,this.onPause)},methods:{onPause:function(){var t=this.$refs.videoPlayerRef;t&&"function"==typeof t.pause&&t.pause()},handleClickBackground:function(){this.source.jumpInfo?this.onClickBackground():this.onPause()},onClickBackground:function(){this.M_go(this.source),this.M_clickReport({},this.source)},getControlsList:function(){return this.source.videoUrl?this.source.jumpInfo?["sound"]:["play"]:[]}}},s=(n(2011),n(4)),p=Object(s.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("video-player",{ref:"videoPlayerRef",staticClass:"ad-zone-header",attrs:{src:t.source.videoUrl,poster:t.source.imageUrl,"aspect-ratio":9/16,controls:t.getControlsList(),"intersection-threshold-playing":.9,"intersection-threshold-pausing":.5,"is-play-control-interactive":!0,data:t.data,item:t.item,"type-pos":t.typePos,pos:t.pos,"video-id":"%E5%A3%B0%E9%9F%B3","data-report-id":t.M_itemReportId(t.source.reportId)},nativeOn:{click:function(e){return e.stopPropagation(),t.handleClickBackground.apply(null,arguments)}}},[n("div",{staticClass:"zone-header-mask"}),t.source.complaint&&t.source.complaint.entryText?n("complaint-popover",{staticClass:"ad-zone-header__complaint-popover",attrs:{complaint:t.source.complaint,data:t.data,item:t.item,pos:t.pos,"type-pos":t.typePos},scopedSlots:t._u([{key:"trigger",fn:function(){return[n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"ad-zone-header__complaint-entry"},[n("div",[t._v(t._s(t.source.complaint.entryText))]),n("ui-arrow",{staticClass:"ad-zone-header__complaint-entry__arrow",attrs:{size:12,align:"flex",direction:"down"}})],1)]},proxy:!0}],null,!1,1401211e3)}):t._e(),t.source.link&&t.source.link.title?n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"ad-zone-header__link-extent",attrs:{role:"button","data-report-id":t.M_itemReportId(t.source.link.reportId)},on:{click:function(e){e.stopPropagation(),t.M_go(t.source.link),t.M_clickReport({},t.source.link)}}},[n("div",{staticClass:"ad-zone-header__link"},[t.source.link&&t.source.link.iconUrl?n("ui-image",{staticClass:"ad-zone-header__link__icon",attrs:{url:t.source.link.iconUrl,size:14}}):t._e(),n("div",{staticClass:"ad-zone-header__link__text"},[t._v(t._s(t.source.link.title))]),n("ui-arrow",{staticClass:"ad-zone-header__link__arrow",attrs:{size:"small",align:"flex"}})],1)]):t._e()],1)}),[],!1,null,"5cfde636",null);e.default=p.exports},567:function(t,e,n){"use strict";n.r(e);var i=n(3),o=n(0),a=n(17),r=n(1),c=n.n(r),s=n(2),p=n(28);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={mixins:[o.k,o.m],props:{complaint:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{innerWidth:window.innerWidth||document.documentElement.clientWidth||390,curActionIndex:-1,reasons:[]}},computed:{curAction:function(){return this.complaint.actions[this.curActionIndex]},showButton:function(){return this.reasons.some((function(t){return t.checked}))}},created:function(){i.a.$on(i.b.negativeHide,this.resetData)},destroyed:function(){i.a.$off(i.b.negativeHide,this.resetData)},methods:{resetData:function(){this.reasons=[],this.curActionIndex=-1},onTapJump:function(t){this.M_go(t),this.M_clickReport({feedBackType:4,banAdReport:!0,pickAdFeedBackReport:!0,clickContent:t.title},t)},handleConfirm:function(t){var e=t.actionType,n=t.reason,a=void 0===n?"":n,r=t.showToast,c=void 0===r||r,s=this.curAction;c&&i.a.$emit(i.b.showToast,{text:"已反馈",action:p.a.done}),o.h.getCommonCgiData({cgiName:"adcomplaint",data:{actionType:e,reason:a,query:o.b.query,adType:this.item.type||0,reportId:s.reportId,title:s.title,extBackComm:JSON.stringify(this.data.extBackComm||{})}}),this.$emit("tap:hide")},onTapConfirm:function(t){var e=this,n=this.reasons.filter((function(t){return t.checked})).map((function(t){return encodeURIComponent(t.wording)})).join("|");this.M_clickReport({feedBackType:5,banAdReport:!0,pickAdFeedBackReport:!0,clickContent:n,actionType:s.g.CONFIRM_CHANGE_CODE,adUnlikeReason:n},t),this.handleConfirm({actionType:1,reason:n,showToast:![2].includes(this.item.type)}),[2].includes(this.item.type)?this.$emit("confirm:negative"):setTimeout((function(){i.a.$emit(i.b.hideBox,{typePos:e.typePos})}))},onTapAction:function(t,e){var n=this,i=function(e){n.M_clickReport({feedBackType:e,banAdReport:!0,pickAdFeedBackReport:!0,clickContent:t.title,actionType:s.g.CONFIRM_CHANGE_CODE},t)};this.curActionIndex=e,this.reasons=(t.reason&&t.reason.list||[]).map((function(t){return u(u({},t),{},{checked:!1})})),this.reasons.length>0?i(3):(i(2),this.handleConfirm({actionType:2}))},onTapReason:function(t,e){t.checked=!t.checked}}},m=(n(619),n(4)),f={components:{reason:Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-wrap",style:{width:.77*t.innerWidth+"px"}},[t.reasons.length?t.curAction.reason?n("div",{staticClass:"reasons-wrap"},[n("div",{staticClass:"header-wrap"},[n("div",{staticClass:"title-part"},[n("p",{staticClass:"title-word"},[t._v("\n          "+t._s(t.curAction.replaceTitle||t.complaint.title)+"\n        ")]),n("p",{staticClass:"desc-word"},[t._v("\n          "+t._s(t.curAction.replaceDesc||t.complaint.desc)+"\n        ")])]),t.curAction.reason.confirm?n("div",{staticClass:"button-part"},[t.showButton?n("div",{staticClass:"weui-btn weui-btn_primary confirm-btn",attrs:{"data-report-id":t.M_itemReportId(t.curAction.reason.confirm.reportId)},on:{click:function(e){return e.stopPropagation(),t.onTapConfirm(t.curAction.reason.confirm)}}},[t._v("\n          "+t._s(t.curAction.reason.confirm.title)+"\n        ")]):t._e()]):t._e()]),n("div",{staticClass:"reasons"},t._l(t.reasons,(function(e,i){return n("div",{key:e.wording,staticClass:"reason",class:{reason__checked:e.checked},on:{click:function(n){return n.stopPropagation(),t.onTapReason(e,i)}}},[t._v("\n        "+t._s(e.wording)+"\n      ")])})),0)]):t._e():n("div",{staticClass:"actions-wrap"},[n("div",{staticClass:"header-wrap"},[n("div",{staticClass:"title-part"},[n("p",{staticClass:"desc-word"},[t._v("\n          "+t._s(t.complaint.desc)+"\n        ")]),n("p",{staticClass:"title-word"},[t._v("\n          "+t._s(t.complaint.title)+"\n        ")])])]),n("div",{staticClass:"actions"},t._l(t.complaint.actions,(function(e,i){return n("div",{directives:[{name:"active",rawName:"v-active"}],key:e.title,staticClass:"action active__item",attrs:{"data-report-id":t.M_itemReportId(e.reportId,i+1)},on:{click:function(n){return n.stopPropagation(),t.onTapAction(e,i)}}},[n("online-image",{staticClass:"icon",attrs:{url:e.iconUrl}}),n("p",[t._v(t._s(e.title))])],1)})),0)]),t.complaint.outlink&&t.complaint.outlink.title?n("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"jump-wrap active__mask",attrs:{"data-report-id":t.M_itemReportId(t.complaint.outlink.reportId)},on:{click:function(e){return e.stopPropagation(),t.onTapJump(t.complaint.outlink)}}},[n("div",{staticClass:"jump-in"},[t._v("\n      "+t._s(t.complaint.outlink.title)+"\n    ")])]):t._e()])}),[],!1,null,"00d01ed2",null).exports},mixins:[o.k,o.m],props:{complaint:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},computed:{className:function(){return this.complaint.type?"":"ad-complaint-popover"}},created:function(){i.a.$on(i.b.viewChange,this.onHideComplaint),a.b.onWebviewPause(this.onHideComplaint)},destroyed:function(){i.a.$off(i.b.viewChange,this.onHideComplaint),a.b.offWebviewPause(this.onHideComplaint)},methods:{onEmitHide:function(){i.a.$emit(i.b.negativeHide)},onHideComplaint:function(){var t=this.$refs.popoverRef;t&&t.hide&&t.hide()}}},_=(n(620),n(621),Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PopOver",{ref:"popoverRef",staticClass:"complaint-popover",attrs:{"class-name":t.className,"spacing-v":16},on:{trigger:function(e){return t.M_clickReport({feedBackType:1,banAdReport:!0,pickAdFeedBackReport:!0,clickContent:t.complaint.entryText,actionType:3406},t.complaint)},hide:t.onEmitHide},nativeOn:{click:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation(),t.preventDefault()},touchmove:function(t){t.stopPropagation(),t.preventDefault()}},scopedSlots:t._u([{key:"trigger",fn:function(){return[n("div",{attrs:{"data-report-id":t.M_itemReportId(t.complaint.reportId)}},[t._t("trigger",(function(){return[n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"complaint-entry"},[n("div",[t._v(t._s(t.complaint.entryText))]),n("ui-arrow",{staticClass:"complaint-entry__arrow",attrs:{size:12,align:"flex",direction:"down"}})],1)]}))],2)]},proxy:!0},{key:"content",fn:function(){return[t._t("content",(function(){return[t.complaint.type?1===t.complaint.type?n("reason",t._b({on:{"tap:hide":t.onHideComplaint,"confirm:negative":function(e){return t.$emit("confirm:negative")}}},"reason",t.$props,!1)):t._e():n("div",{staticClass:"complaint-content"},[t.complaint.title?n("div",{staticClass:"complaint-content__bd"},[n("div",{staticClass:"complaint-content__title"},[t._v("\n            "+t._s(t.complaint.title)+"\n          ")]),t.complaint.actions&&t.complaint.actions.length>0?n("div",{staticClass:"complaint-content__actions"}):t._e()]):t._e(),t.complaint.outlink&&t.complaint.outlink.title?n("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"complaint-content__link active__item",attrs:{role:"button","data-report-id":t.M_itemReportId(t.complaint.outlink.reportId)},on:{click:function(e){e.stopPropagation(),t.M_go(t.complaint.outlink),t.M_clickReport({feedBackType:4,banAdReport:!0,pickAdFeedBackReport:!0,clickContent:t.complaint.outlink.title},t.complaint.outlink)}}},[n("span",[t._v(t._s(t.complaint.outlink.title))])]):t._e()])]}))]},proxy:!0}],null,!0)})}),[],!1,null,"9476fbd4",null));e.default=_.exports},569:function(t,e,n){},570:function(t,e,n){},571:function(t,e,n){},619:function(t,e,n){"use strict";n(569)},620:function(t,e,n){"use strict";n(570)},621:function(t,e,n){"use strict";n(571)}}]);