(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{1541:function(e,t,a){"use strict";a(921)},1542:function(e,t,a){"use strict";a(922)},1543:function(e,t,a){"use strict";a(923)},1544:function(e,t,a){"use strict";a(924)},1545:function(e,t,a){"use strict";a(925)},1546:function(e,t,a){"use strict";a(926)},2166:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a.n(s),n=a(0),r=a(16),o=a(15),c=a(2),u=a(3),p={mixins:[n.k,n.m],props:{data:{type:Object},item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}},data:function(){return{}},computed:{reportId:function(){return"".concat(this.typePos,"|").concat(this.data.title||"","|").concat(this.type,"|").concat(this.pos,"|").concat(this.item.word)},word:function(){return this.item.wordHighlight||this.item.word},weakTag:function(){return this.item.tagInfo&&2===this.item.tagInfo.showType?this.item.tagInfo:null},strongTag:function(){return this.item.tagInfo&&1===this.item.tagInfo.showType?this.item.tagInfo:null}},methods:{onTapSuggestionSearch:function(){var e=this;this.$emit("tapitem");var t=e.M_composeParentSid({t:c.p.SUG,s:e.$store.state.sug.sugId,did:e.item.word}),a={scene:n.b.scene,businessType:n.b.type,docId:e.item.word,docPos:e.pos,typePos:e.typePos,query:e.item.word,suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,expand:"suggestion",expand1:new Date-e.ts,searchId:""};Object(o.f)(a),e.M_checkSpecialSearchBeforeLaunchNewSearch({query:e.item.word,callback:function(){n.g.setSearchInputWord({query:e.item.word,isInputChange:!1}),u.a.$emit(u.b.GOTO,{page:c.f.RESULT,query:e.item.word,action:c.n.SUG_CLICK,extReqParams:{key:"parentSearchID",textValue:t},searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:t}]}},a),n.f.suggestion.reportCommonClick(this.reportId),Object(r.h)(n.l.feature.sug),n.f.reportEventTrack({actionType:18,query:e.item.word})},onTapSuggestionAddto:function(){var e=this;n.g.setSearchInputWord({query:e.item.word,isInputChange:!0}),n.f.suggestion.reportCommonClick(this.reportId),Object(o.f)({scene:n.b.scene,businessType:n.b.type,docId:e.item.word,docPos:e.pos,typePos:e.typePos,expand:"suggestionAttach",suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,searchId:""}),Object(r.h)(n.l.feature.sugAdd),this.$emit("tapaddto")}}},l=(a(1541),a(4)),m=Object(l.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"active",rawName:"v-active.instant",modifiers:{instant:!0}}],staticClass:"sug__simple active__item",attrs:{"data-sug-id":e.reportId},on:{click:e.onTapSuggestionSearch}},[a("div",{staticClass:"line"},[a("svg-icon",{attrs:{"aria-hidden":"true","class-name":"sug__simple-icon line__item no-shrink",name:"magnifier"}}),a("div",{staticClass:"line line__item primary",attrs:{role:"button"}},[a("p",{staticClass:"line__item",domProps:{innerHTML:e._s(e.xss(e.word))}}),e.weakTag?a("ui-tag",{staticClass:"line__item no-shrink",staticStyle:{"margin-left":"6px"},attrs:{title:e.weakTag.title,type:e.weakTag.type,"icon-url":e.weakTag.iconUrl,"no-bg":"true"}}):e._e()],1),e.os.mobile?a("div",{staticClass:"line__item no-shrink",staticStyle:{"margin-left":"12px"},attrs:{role:"button","aria-label":"添加到搜索栏"}},[a("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"sug__simple-active active__opacity",on:{click:function(t){return t.stopPropagation(),e.onTapSuggestionAddto.apply(null,arguments)}}},[a("svg-icon",{staticClass:"sug__simple-end",attrs:{name:"arrow.up.left"}})],1)]):e._e()],1),e.strongTag?a("div",{staticClass:"line",staticStyle:{"margin-top":"8px"},attrs:{"aria-hidden":"true"}},[a("div",{staticClass:"line__item no-shrink sug__simple-occupy"}),a("ui-tag",{staticClass:"line__item",attrs:{title:e.strongTag.title,type:e.strongTag.type,"icon-url":e.strongTag.iconUrl,size:"big","no-bg":"true"}})],1):e._e()])}),[],!1,null,null,null).exports,d=a(52),g=a(13);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={mixins:[n.m],props:{data:{type:Object},item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}},computed:{reportId:function(){return"".concat(this.typePos,"|").concat(this.data.title||"","|").concat(this.type,"|").concat(this.pos,"|").concat(this.item.word||this.item.sub)},sub:function(){return this.item.subHighlight||this.item.sub},word:function(){return this.item.wordHighlight||this.item.word}},methods:{tap:function(){var e=this;d.a.isSupportOpenView_8?g.a.openView(y(y({},n.b.getBase()),{},{actionType:8,jumpUrl:e.item.jumpUrl,query:e.item.word})):e.M_go(Object.assign({docId:e.item.word},e.item)),n.f.suggestion.reportCommonClick(this.reportId),Object(o.f)({scene:n.b.scene,businessType:n.b.type,docId:e.item.sub||"",docPos:e.pos,typePos:e.typePos,query:e.item.word,suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,expand:"suggestion",expand1:new Date-e.ts}),Object(r.h)(n.l.feature.sugH5),n.f.reportEventTrack({actionType:18,query:e.item.word})}}},b=(a(1542),Object(l.a)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"line with-arrow sug__simple sug__external",attrs:{"data-sug-id":e.reportId,role:"button"},on:{click:e.tap}},[a("div",{staticClass:"line__item",attrs:{"aria-hidden":"true"}},[a("svg-icon",{staticClass:"sug__simple-icon",attrs:{name:"link"}})],1),a("div",{staticClass:"line__item primary"},[e.word?a("div",{staticClass:"line"},[a("div",{staticClass:"line__item"},[a("p",{domProps:{innerHTML:e._s(e.xss(e.word))}})]),e.item.tag?a("div",{staticClass:"line__item",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"tag gold"},[e._v("\n          "+e._s(e.item.tag)+"\n        ")])]):e._e()]):e._e(),a("p",{staticClass:"sug__external-sub"},[e._v("\n      "+e._s(e.sub)+"\n    ")])])])}),[],!1,null,null,null).exports),I=a(482);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S={components:{simple:m,external:b},mixins:[I.a],props:{data:{type:Object},item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0},index:{type:Number,default:0},blockIndex:{type:Number,default:0}},methods:{tap:function(){1===this.item.showType?this.$refs.GeneralSug.tap():this.$refs.GeneralSug.onTapSuggestionSearch()},onTapItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.M_clickReportFor26897(this.item,this.blockIndex,e)},onTapAddTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.M_clickReportFor26897(_(_({},this.item),{},{docType:"upbutton"}),this.blockIndex,_(_({},e),{},{actionId:3216}))}}},O=(a(1543),Object(l.a)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.item.showType?a("external",e._b({ref:"GeneralSug",attrs:{"data-new-teach-report-id":""+e.M_getItemReportId(e.item,e.blockIndex)}},"external",e.$props,!1)):a("simple",e._b({ref:"GeneralSug",attrs:{"data-new-teach-report-id":""+e.M_getItemReportId(e.item,e.blockIndex)},on:{tapitem:e.onTapItem,tapaddto:e.onTapAddTo}},"simple",e.$props,!1))}),[],!1,null,null,null).exports),v=a(51),C=a(5),w=(a(30),{components:{clientImage:a(82).a},mixins:[n.m,n.k,I.a],props:["data","item","type","tapCb","pos","typePos","index","blockIndex"],data:function(){return{isActive:!1,isVerify:!1,isTradmarkProtection:!1}},computed:{reportId:function(){return"".concat(this.typePos,"|").concat(this.data.title||"","|").concat(this.type,"|").concat(this.pos,"|").concat(this.item.nickName)}},methods:{onTap:function(){var e=this,t=e.item.nickName,a={scene:n.b.scene,businessType:n.b.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:""};Object(o.f)(a);var s={};if(n.b.type!=C.c.OFFICE_ACCOUNT&&3!=this.item.opType||(s.actionId=c.g.BIZ),this.M_clickReportFor26897(e.item,e.blockIndex,s),e.item.jumpInfo)e.M_go(e.item.jumpInfo);else if(n.b.type==C.c.OFFICE_ACCOUNT||3==this.item.opType)e.M_jump(Object.assign(this.item,{type:1,bizuin:this.item.bizuin||this.item.docID,opType:this.item.opType||c.c.bizSession,query:n.b.query,searchId:n.b.searchId,extraParams:"from_sug=1&search_type=1&docid=".concat(decodeURIComponent(this.item.docID),"&scene=").concat(n.b.scene),reportDocId:t}));else{e.$store.commit({type:"result/updateMoment",tagInfo:{tagType:c.q.BIZFEEDS,tagText:""},matchUser:{matchWord:t,userName:e.item.docID},nextObjID:"",tagList:[{tagName:t,tagType:c.q.BIZFEEDS}]});var i=e.M_composeParentSid({t:c.p.SUG,s:e.$store.state.sug.sugId,did:t});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){n.b.setValue({custom:""}),n.g.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:c.q.BIZFEEDS,userName:e.item.userName}],isInputChange:!1}),n.a.$emit(n.j.GOTO,{page:c.f.RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:i},action:c.n.SUG_BIZ_CLICK,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:i}]}},a)}Object(r.f)(v.a.detail.suggestion.suggestionItemBiz),n.f.suggestion.reportCommonClick(this.reportId)},onTapContact:function(){n.a.$emit(n.j.RESET_MOMENT_FILTER);var e=this,t=e.item.nickName;e.$store.commit({type:"result/updateMoment",nextObjID:"",tagInfo:{tagType:c.q.SNSALBUM,tagText:""},matchUser:{matchWord:t,userName:e.item.userName},tagList:[{tagName:t,tagType:c.q.SNSALBUM}]});var a=e.M_composeParentSid({t:c.p.SUG,s:e.$store.state.sug.sugId,did:t}),s={scene:n.b.scene,businessType:n.b.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:""};Object(o.f)(s),this.M_clickReportFor26897(e.item,e.blockIndex,{actionId:c.g.ALL_SEARCH}),e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){n.g.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:c.q.SNSALBUM,userName:e.item.userName}],isInputChange:!1}),n.b.custom="",n.a.$emit(n.j.GOTO,{page:c.f.RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:a},action:c.n.SUG_CONTACT_CLICK,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:a}]}},s),Object(r.f)(v.a.detail.suggestion.suggestionItemContact),n.f.suggestion.reportCommonClick(this.reportId)},tap:function(){3===this.type?this.onTapContact():this.onTap()}}}),P=Object(l.a)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return 3==e.type?a("div",{staticClass:"weui-cell sug_biz",class:{active:e.isActive},attrs:{"data-sug-id":e.reportId,"data-new-teach-report-id":""+e.M_getItemReportId(e.item,e.blockIndex),role:"button"},on:{click:e.onTapContact}},[a("div",{staticClass:"weui-cell_hd"},[a("client-image",{key:e.item.userName,staticClass:"sug__moment-thumb",attrs:{item:e.item,type:8}})],1),a("div",{staticClass:"weui-cell__bd biz_item"},[a("h4",{domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight||e.item.nickName))}}),e.item.extraHighlight?a("p",{staticClass:"biz_account_tips",domProps:{innerHTML:e._s(e.xss(e.item.extraHighlight))}}):e._e()])]):a("div",{staticClass:"weui-cell sug_biz",class:{active:e.isActive},attrs:{"data-new-teach-report-id":""+e.M_getItemReportId(e.item,e.blockIndex),docid:e.item.docID,"data-sug-id":e.reportId,role:"button"},on:{click:e.onTap}},[a("div",{staticClass:"weui-cell_hd"},[a("div",{directives:[{name:"image",rawName:"v-image",value:e.item.iconUrl,expression:"item.iconUrl"}],staticClass:"sug__biz-thumb"})]),a("div",{staticClass:"weui-cell__bd biz_item"},[a("h4",{domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight||e.item.nickName))}}),e.item.extraHighlight?a("p",{staticClass:"biz_account_tips",domProps:{innerHTML:e._s(e.xss(e.item.extraHighlight))}}):e._e()])])}),[],!1,null,null,null).exports,j={mixins:[n.m],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},data:function(){return{fixed:!1}},mounted:function(){this._calculateHeight()},methods:{_calculateHeight:function(){var e=this.$parent.$parent.$el.clientHeight,t=this.$el.clientHeight,a=n.g.getWindowHeight();this.fixed=e+t<a},tap:function(){this.M_go(this.item)}}},E=(a(1544),Object(l.a)(j,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sug-complaint",class:{fixed:this.fixed}},[t("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__opacity",attrs:{role:"link"},on:{click:this.tap}},[this._v("\n    "+this._s(this.item.word)+"\n  ")])])}),[],!1,null,null,null).exports),x=a(10),R=new x.a({complaint:1}),k={components:{complaint:E},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:R}}},D=(a(1545),Object(l.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sug-bottom"},e._l(e.data.items,(function(t,s){return a(e.types[t.type],e._b({key:s,tag:"components",attrs:{item:t}},"components",e.$props,!1))})),1)}),[],!1,null,null,null).exports),N=a(8),L=a(17),q=new x.a({WORD:1,BIZ:2,CONTACT:3,HISTORY:4}),A={requestType:new x.a({net:0,local:1}),sugType:q};Object.freeze(A);var M=a(50);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H={components:{general:O,contactSug:P,bottom:D,exposureBlock:a(54).a},mixins:[n.m,I.a],props:{selectIndex:{type:Number,default:-1}},data:function(){return{isShow:!1,dataReadyTs:0,deviceType:n.b.deviceType,isKeybordShow:!0}},computed:{suggestoinObj:function(){return this.$store.state.sug.data},bottom:function(){var e=this,t=this,a=t.$store.state.sug.bottom;return a&&a.items&&a.items.length&&a.items.forEach((function(a){if(1==a.type&&a.jumpUrl&&!a.jumpUrl.includes("relatedWords")){var s=[];e.suggestoinObj.map((function(e){e.items&&e.items.length&&(s=s.concat(e.items.map((function(e){return e.word}))))})),a.jumpUrl=t.M_composeUrl(a.jumpUrl,{relatedWords:s.join("|")})}})),a}},watch:{$route:function(e){e.name===c.f.SUG?this.$store.dispatch({type:"sug/handleSug",data:{}}):e.name!==c.f.INDEX&&e.name!==c.f.TEACH||this.$store.commit({type:"sug/updateState",sugSession:null})}},created:function(){var e=this,t=this;if(t.query="",t.lastQuery="",t.inputFinishTimestamp=+new Date,t.preGetSearchDataTimeout=null,t.preGetSearchDataArgs="",t.preGetSearchDataResolve=null,n.b.parentType==c.p.LOCALRELEVANT_MORE){Global.os.android&&t.$store.commit("result/generateGetSearchRid",{requestId:n.g.generateGuuId()}),n.b.setValue({parentType:c.p.MARK_LOCALRELEVANT_MORE});t.$store.getters.getExtReqParams}var a=t.$route.params.option,s=void 0===a?{}:a;s.query&&(s.cache&&"{}"!==s.cache?(t.handleSugData({json:s.cache}),t.lastQuery=t.query,t.query=s.query):t.getData({query:s.query})),N.b.onInputChange((function(a){e.isKeybordShow=!0,t.inputFinishTimestamp=+new Date,a.query&&(t.getData(a),d.a.isSupportSugPreSearchOnInputChange&&t._preGetSearchData()),t.$store.commit("result/updateCacheArgs",null),t.$store.commit("result/updateCachePromise",null)})),N.b.onInputConfirm((function(a){clearTimeout(t.preGetSearchDataTimeout),n.f.reportEventTrack({actionType:17,timeStamp:t.inputFinishTimestamp,query:a.query||n.b.query}),e.$store.commit({type:"sug/updateState",sugSession:{type:2,sessionId:"sug_sid_".concat(Date.now())}})})),N.b.onSugReady(t.handleSugData),N.b.onResultReady((function(e){e.requestId,t.preGetSearchDataArgs.requestId,e.requestId&&e.requestId===t.preGetSearchDataArgs.requestId&&(t.$store.commit("result/cacheResultData",e),t.preGetSearchDataResolve(e))}))},mounted:function(){var e=this,t=this;t.expose=null,this.$nextTick().then((function(){e.expose||(t.expose=new M.Expose((function(e){e.length&&n.f.suggestion.reportCommonExpose(e)}),{container:t.$el,attr:"data-sug-id"}))}))},activated:function(){this.$store.state.sug.sugSession||this.$store.commit({type:"sug/updateState",sugSession:{type:1,sessionId:"sug_sid_".concat(Date.now())}})},methods:{handleTouchmove:function(){[c.e.S1S,c.e.GLOBAL_HISTORY,c.e.GLOBAL,c.e.KEYBORD_PRELOAD].includes(n.b.scene)&&Global.os.android&&this.isKeybordShow&&(N.a.setInputBar({query:n.b.query,isInputChange:!1}),this.isKeybordShow=!1)},reportSugSession:function(){var e=(this.$store.state.sug.sugSession||{}).sessionId,t=this.$store.state.sug.sugId,a=this.deviceType;t&&N.a.getCommonCgiData({cgiName:L.a.mmDataReport,data:{clientversion:Number(n.b.clientVersion),device:a,item_list:[{logid:24687,log_buffer:["",t,n.b.scene,n.b.isHomePage,n.b.type,e].join(",")}]}})},hide:function(){this.isShow=!1,this.styleObject={height:0,opacity:0}},getData:function(e){var t=this;if(e.query!==t.query||n.b.parentType!=c.p.MARK_LOCALRELEVANT_MORE){var a=Object.assign({query:n.b.query},e);t.getSearchSuggestionData(a),t.lastQuery=t.query,t.query=a.query}},clearData:function(){this.$store.commit("sug/updateState",{data:[]})},_preGetSearchData:function(){var e=this;e.lastQuery!==e.query&&!/\w/.test(e.query)&&e.query.length>1&&n.b.preSearchSwitch&&(clearTimeout(e.preGetSearchDataTimeout),e.preGetSearchDataTimeout=setTimeout((function(){e.preGetSearchData(e.query)}),100))},getSearchSuggestionData:function(e){var t=this;if(n.b.scene!=c.e.LIVE_INNER_SEARCH||17!=n.b.type){var a=[];n.b.parentType==c.p.MARK_LOCALRELEVANT_MORE&&a.push({key:"sugActionType",uintValue:1}),N.a.getSug({scene:n.b.scene,version:n.b.version,query:e.query||"",type:n.b.type,isHomePage:n.b.isHomePage,requestType:e.requestType||8===n.b.type&&A.requestType.local,sugId:"",sessionId:n.b.sessionId,extReqParams:a})}else{var s=n.g.generateGuuId();N.a.extTransfer({reqUrl:"/cgi-bin/micromsg-bin/h5_findersearchsuggest",reqBody:JSON.stringify({scene:13,query:e.query||"",finder_basereq:{scene:180,ctx_info:{context_id:n.b.thirdExtParamFinderLiveContextId},request_id:String(Date.now())}}),header:{},scope:"wxSearchFinder",cgiCmdId:10129,needVerifySignature:0},(function(e){var a=JSON.parse(e.result),i=(a||{}).suggest,n=void 0===i?[]:i,r={json:JSON.stringify({bottomEntry:{items:[]},data:[{count:n.length,items:n.map((function(e){return{word:e.suggest,wordHighlight:(e.highlight_suggest||"").replace(/<em class=("|')highlight("|')>(.*?)<\/em>/gi,(function(e,t,a,s){return'<em class="gray">'.concat(s,"</em>")}))}})),type:1}],ret:0,suggestionID:s,total_count:n.length}),jsonRefer:0};t.$store.dispatch({type:"sug/handleSug",data:r}),t.reportSugSession(),t.dataReadyTs=+new Date,setTimeout((function(){t.expose&&(t.expose.resetExposeId(),t.expose.analysis())}))}))}},preGetSearchData:function(e){var t=this,a=t.$store.state.result;if(!a.self.base.isLoading){var s=n.g.generateGuuId(),i=[{key:"netType",textValue:n.b.netType},{key:"subType",uintValue:+n.b.subType,textValue:n.b.subType?"".concat(n.b.subType):""},{key:"currentPage",uintValue:1},{key:"requestId",textValue:s},{key:"cookies",textValue:a.state.cookies},{key:"widgetVersion",uintValue:1023022}].concat(n.b.crossExtReqParams),r=Object.assign(G(G({},n.b.getBase()),{},{query:e||"",offset:0,tagInfo:t.$store.getters["result/tagInfo"],type:n.b.type,isHomePage:n.b.isHomePage,subType:n.b.subType,sceneActionType:c.r.PRE_SEARCH,matchUser:t.$store.getters["result/matchUser"],numConditions:a.moment.numConditions,extReqParams:i,requestId:s,fromTagSearch:n.b.queryString.fromTagSearch,extClientParams:n.b.queryString.extClientParams,isBackButtonClick:!0}),{parentSearchID:"",sugId:""});N.a.getResult(r),t.preGetSearchDataArgs=r,t.$store.commit("result/cacheResultData",{}),t.$store.commit("result/updateCacheArgs",t.preGetSearchDataArgs),t.$store.commit("result/updateCachePromise",new Promise((function(e){t.preGetSearchDataResolve=e}))),n.f.reportEventTrack(Object.assign({actionType:3,requestId:s,isPreload:100},r))}},getListIndex:function(e,t){return e?t+this.suggestoinObj.slice(0,e).reduce((function(e,t){var a=t.items;return e+(void 0===a?[]:a).length}),0):t},tapIndex:function(e){this.$refs.SugItem.find((function(t){return t.index===e})).tap()},handleSugData:function(e){var t=this;this.$store.dispatch({type:"sug/handleSug",data:e}),this.reportSugSession(),d.a.isSupportSugPreSearchOnInputChange||this._preGetSearchData(),this.dataReadyTs=+new Date,setTimeout((function(){t.expose&&(t.expose.resetExposeId(),t.expose.analysis())}))}}},U=(a(1546),Object(l.a)(H,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"suggestion-list",on:{touchmove:e.handleTouchmove}},[e._l(e.suggestoinObj,(function(t,s){return a("div",{key:s,staticClass:"weui-cells suggestion-section",style:{marginTop:e.os.mobile&&s>0?"5px":0}},[a("exposure-block",{attrs:{attr:"data-new-teach-report-id"},on:{expose:e.M_exposeReportFor26897}},[t.title?a("div",{staticClass:"weui-cells_title"},[e._v("\n        "+e._s(t.title)+"\n      ")]):e._e(),e._l(t.items,(function(i,n){return[1==t.type||4==t.type?a("general",{key:n+""+s,ref:"SugItem",refInFor:!0,class:{active:e.selectIndex===e.getListIndex(s,n)},attrs:{index:e.getListIndex(s,n),data:t,item:i,type:t.type,pos:n+1,"type-pos":s+1,"block-index":n+1,ts:e.dataReadyTs}}):e._e(),2==t.type||3==t.type?a("contactSug",{key:n+""+s,ref:"SugItem",refInFor:!0,class:{active:e.selectIndex===e.getListIndex(s,n)},attrs:{index:e.getListIndex(s,n),data:t,item:i,type:t.type,pos:n+1,"block-index":n+1,"type-pos":s+1}}):e._e()]}))],2)],1)})),e.os.mobile&&e.bottom?a("bottom",{attrs:{data:e.bottom}}):e._e()],2)}),[],!1,null,null,null));t.default=U.exports},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s={GLOBAL:3,VERTICAL:14,BIZ_SPECIFIC:19,S1S:20,S1S_VERTICAL:22,HOME_TOP_ENTRY:42,HOME_TOP_MORE_ENTRY:52,WXAPP:201,GLOBAL_HISTORY:101,GLOBAL_RECOMMEND:102}},482:function(e,t,a){"use strict";var s=a(1),i=a.n(s),n=a(24),r=a.n(n),o=a(2),c=a(19),u=a(0),p=a(3);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={computed:{isCache:function(){var e;return(null===(e=this.$store.state.teach.teachData)||void 0===e?void 0:e.isCache)||!1}},methods:{M_genClickId:function(){var e,t,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.$route.name==o.f.SUG?null===(e=this.$store)||void 0===e||null===(t=e.state)||void 0===t||null===(a=t.sug)||void 0===a?void 0:a.sugId:u.b.searchId;return[s.searchId||i,s.timestamp||+new Date,"".concat(Math.random()).substr(2,10)].join("-")},M_getItemReportId:function(e,t,a){var s=this.M_getBlockType(a);return[this.M_getBlockReportId(a,s),this.M_getItemReportContent(e,t,s)].join("$$")},M_getBlockReportId:function(e,t){var a=e||this,s=a.targetPos||a.displayPos||a.typePos||0,i=a.block&&a.block.title||a.data&&a.data.title||"";return t==c.a.teachType.HISTORY_IN_SINGLE_PAGE?(s=s||1,i=i||"搜索历史"):this.M_getPageType()==c.a.pageType.SUGGESTION&&(i=i||"SUG"),"".concat(s,"|").concat(t,"|").concat(encodeURIComponent(i))},M_getItemReportContent:function(e,t,a){if(!e)return"";var s=e.isDisplay||0,i=e.reason||"",n=e.docPullType||"",r=t||0,o=t||0,u=encodeURIComponent(e.nickName||e.appname||e.hotword||e.word||""),p=this.M_getDocType(e,a),l=e.username||e.userName||e.jumpInfo&&e.jumpInfo.username||e.jumpInfo&&e.jumpInfo.userName||"",m=e.appuin,d=e.appid||e.jumpInfo&&e.jumpInfo.appid||"",g=e.id||"",h=m||d||l||encodeURIComponent(g)||u||"";return a===c.a.teachType.BIZ_HOT_LIST&&(h="".concat(e.bizuin,"_").concat(e.msgid,"_").concat(e.idx)),"".concat(r,"|").concat(o,"|").concat(h,"|").concat("","|").concat(s,"|").concat(u,"|").concat(i,"|").concat("","|").concat(p,"|").concat(n)},M_exposeReportFor26897:function(e){if(e.length&&!this.disable26897()){var t=this,a={};e.forEach((function(e){var t=e.split("$$"),s=r()(t,2),i=s[0],n=s[1];i&&(a[i]=(a[i]||[]).concat([n]))})),p.a.$emit(p.b.TEACH_NEW_EXPOSE,{reportMap:a,isCache:t.isCache}),Object.keys(a).forEach((function(e){u.f.teach.commonTeachReport({itemInfo:e,docInfo:Array.from(new Set(a[e])).join("#"),pageType:t.M_getPageType(),actionId:o.g.EXPOSE_DOC,isCache:t.isCache})}))}},M_clickReportFor26897:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.disable26897(s&&s.pageName||"")){var i=this,n=i.M_getPageType(s&&s.pageName||""),c=a.actionId||this.M_getActionId(e,n),p=this.M_getItemReportId(e,t,s),l=p.split("$$"),d=r()(l,2),g=d[0],h=d[1],y=a.clickId||i.M_genClickId(a);i.$store.commit({type:"teach/updateState",clickReportId:y});var f=this.getJumpParamFor25661(e,c);c>=3001&&c<=3019&&u.f.reportJumpType(Object.assign({subType:null==g?void 0:g.split("|")[1],pageType:n,docId:null==h?void 0:h.split("|")[2],newSearchType:o.h.searchType.DOC_SEARCH},f)),u.f.teach.commonTeachReport(m(m({itemInfo:g,docInfo:h,actionId:c,pageType:n},a),{},{isCache:i.isCache,extInfo:encodeURIComponent(JSON.stringify({clickId:y}))}))}},M_getActionId:function(e,t){var a,s=(null==e?void 0:e.jumpType)||(null==e||null===(a=e.jumpInfo)||void 0===a?void 0:a.jumpType)||0;return s?3e3+parseInt(s):[c.a.pageType.SUGGESTION,c.a.pageType.HISTORY].includes(t)?[o.e.GLOBAL,o.e.KEYBOARD_HISTORY,o.e.GLOBAL_HISTORY,o.e.GLOBAL_RECOMMEND,o.e.GLOBAL_HIS_S1S_ENTRY,o.e.FINGER,o.e.S1S].includes(u.b.scene)?o.g.ALL_SEARCH:o.g.VERTICAL:o.g.CLICK_COMMON},M_getDocType:function(e,t){var a,s=(a={},i()(a,o.h.jumpType.WE_APP,c.a.docItemType.WEAPP),i()(a,o.h.jumpType.BIZ,c.a.docItemType.BIZ),a),n=e.jumpType||e.jumpInfo&&e.jumpInfo.jumpType||0;return e.docType?e.docType:this.getDocTypeByBlockType(t)?this.getDocTypeByBlockType(t):n?s[n]:this.M_getPageType()==c.a.pageType.SUGGESTION?c.a.docItemType.SUGGEST_WORD:"title"},getDocTypeByBlockType:function(e){switch(e){case c.a.teachType.HISTORY:case c.a.teachType.HISTORY_IN_SINGLE_PAGE:return c.a.docItemType.HISTORY_WORD;case c.a.teachType.HOTWORD:case c.a.teachType.RECOMMEND_BOX:return c.a.docItemType.SUGGEST_WORD;case c.a.teachType.FINDER_HOT_LIST:return c.a.docItemType.FINDER_HOT_VIDEO;case c.a.teachType.PAGE_SETTING:return c.a.docItemType.SETTING;case c.a.teachType.BIZ_HOT_LIST:return c.a.docItemType.MP;default:return""}},M_getBlockType:function(e){var t=e||this,a=t.block&&t.block.type||t.data&&t.data.type||0;return t.pageName!=o.f.HISTORY&&this.$route.name!=o.f.HISTORY||(a=c.a.teachType.HISTORY_IN_SINGLE_PAGE),a},M_getPageType:function(e){switch(e||this.$route.name){case o.f.HISTORY:return c.a.pageType.HISTORY;case o.f.SUG:return c.a.pageType.SUGGESTION;default:return c.a.pageType.TEACH}},disable26897:function(e){return this.M_getPageType(e)==c.a.pageType.HISTORY&&![o.e.HOME_TOP_ENTRY,o.e.LIVE_INNER_SEARCH].includes(u.b.scene)},getJumpParamFor25661:function(e,t){var a=e.jumpInfo||{},s=e.jumpType||a.jumpType||t-3e3,i=o.h.jumpType,n={};switch(s){case i.BIZ:n.bizUsername=a.userName||e.userName;break;case i.WE_APP:n.weappUsername=a.userName||a.username||e.userName||e.username,n.jumpPath=a.weappUrl||a.relativeURL||e.weappUrl||e.relativeURL;break;case i.H5:n.jumpUrl=a.jumpUrl||e.jumpUrl;break;case i.CALL_SPEC_API:n.apiName=a.api,n.apiParams=encodeURIComponent(a.apiParams)}var r=[i.VERTICAL,i.ALL_SEARCH];return m(m({},n),{},{jumpType:s,clickType:r.includes(s)?2:1,newSearchType:r.includes(s)?o.h.searchType.DOC_SEARCH:""})}}};t.a=d},921:function(e,t,a){},922:function(e,t,a){},923:function(e,t,a){},924:function(e,t,a){},925:function(e,t,a){},926:function(e,t,a){}}]);