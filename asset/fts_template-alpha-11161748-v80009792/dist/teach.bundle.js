(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{1210:function(t,e,i){},1212:function(t,e,i){},1270:function(t,e,i){},1280:function(t,e,i){},1411:function(t,e,i){},1412:function(t,e,i){"use strict";i(757)},1416:function(t,e,i){},1473:function(t,e,i){"use strict";i(853)},1474:function(t,e,i){"use strict";i(854)},1477:function(t,e,i){"use strict";i(857)},1478:function(t,e,i){"use strict";i(858)},1479:function(t,e,i){},1480:function(t,e,i){"use strict";i(860)},1481:function(t,e,i){"use strict";i(861)},1483:function(t,e,i){},1484:function(t,e,i){"use strict";i(864)},1485:function(t,e,i){"use strict";i(865)},1486:function(t,e,i){"use strict";i(866)},1487:function(t,e,i){"use strict";i(867)},1488:function(t,e,i){"use strict";i(868)},1489:function(t,e,i){"use strict";i(869)},1490:function(t,e,i){"use strict";i(870)},1491:function(t,e,i){"use strict";i(871)},1492:function(t,e,i){"use strict";i(872)},1493:function(t,e,i){"use strict";i(873)},1494:function(t,e,i){"use strict";i(874)},1495:function(t,e,i){"use strict";i(875)},1496:function(t,e,i){"use strict";i(876)},1497:function(t,e,i){"use strict";i(877)},1498:function(t,e,i){"use strict";i(878)},1499:function(t,e,i){"use strict";i(879)},1500:function(t,e,i){"use strict";i(880)},1501:function(t,e,i){"use strict";i(881)},1502:function(t,e,i){"use strict";i(882)},1504:function(t,e,i){"use strict";i(884)},1505:function(t,e,i){"use strict";i(885)},1508:function(t,e,i){"use strict";i(888)},1509:function(t,e,i){"use strict";i(889)},1510:function(t,e,i){"use strict";i(890)},1512:function(t,e,i){"use strict";i(892)},1513:function(t,e,i){"use strict";i(893)},1514:function(t,e,i){"use strict";i(894)},1515:function(t,e,i){"use strict";i(895)},1516:function(t,e,i){"use strict";i(896)},1517:function(t,e,i){"use strict";i(897)},1518:function(t,e,i){"use strict";i(898)},1519:function(t,e,i){"use strict";i(899)},1520:function(t,e,i){"use strict";i(900)},1522:function(t,e,i){"use strict";i(902)},1524:function(t,e,i){"use strict";i(904)},1525:function(t,e,i){"use strict";i(905)},1526:function(t,e,i){"use strict";i(906)},1528:function(t,e,i){"use strict";i(908)},1529:function(t,e,i){"use strict";i(909)},1530:function(t,e,i){"use strict";i(910)},1531:function(t,e,i){"use strict";i(911)},1532:function(t,e,i){"use strict";i(912)},1533:function(t,e,i){"use strict";i(913)},1534:function(t,e,i){"use strict";i(914)},1535:function(t,e,i){"use strict";i(915)},1536:function(t,e,i){"use strict";i(916)},1538:function(t,e,i){"use strict";i(918)},1539:function(t,e,i){"use strict";i(919)},1563:function(t,e,i){"use strict";i(785)},1658:function(t,e,i){"use strict";i(863)},1698:function(t,e,i){"use strict";i(1411)},1756:function(t,e,i){"use strict";i(1280)},1769:function(t,e,i){"use strict";i(1416)},1806:function(t,e,i){"use strict";i(1479)},1837:function(t,e,i){"use strict";i(1483)},1863:function(t,e,i){"use strict";i(1210)},1869:function(t,e,i){"use strict";i(1212)},1909:function(t,e,i){"use strict";i(1270)},2158:function(t,e,i){"use strict";i.r(e);var n=i(24),o=i.n(n),a=i(32),s=i.n(a),r=i(33),c=i.n(r),l=i(1),u=i.n(l),d=i(23),p=i.n(d),h=i(0),f=i(2);function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var b=4,_=5,v=6,y=7,g={props:["block","typePos"],data:function(){return{}},mixins:[h.m],methods:{_timeAbridge:function(t){return"number"!=typeof(t=+t)?0:Math.floor(t/1e3)},_report:function(t){var e="",i=t.optype,n=!1;try{e=JSON.parse(h.b.queryString.extInfo).globalId}catch(t){}if(i===b)e&&(n=this.block.items.some((function(t){return t.globalId===e})));else if(i===_){if(e)return;(e=h.d.getStore("globalId"))&&(n=this.block.items.some((function(t){return t.globalId===e})))}else n=!0;n&&this._reportCommon(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t))},_reportCommon:function(t){var e=Object.assign({searchreddotreport:1,nettype:h.b.netType,reddottype:0,reddotid:h.d.getStore("globalId"),reddotconsumets:0,optype:0,notshowreason:"",reddotts:h.d.getStore("globalIdTs")||this._timeAbridge(new Date)},t);h.g.reportCommon(h.g.object2params(e)),h.g.object2params(e)},_storeRedMark:function(){var t="";try{t=JSON.parse(h.b.queryString.extInfo).globalId}catch(t){}t&&(h.d.store("globalId",t),h.d.store("globalIdTs",this._timeAbridge(new Date)))},_detectRedMark:function(t){var e=h.d.getStore("globalId");return!(!e||e!==t)&&(this._report({optype:v,reddotid:e}),!0)},onTap:function(t,e){var i=this;t.optype===f.c.h5?i.M_startDetail({type:2,jumpUrl:t.jumpUrl}):t.optype===f.c.commonSearch?i.M_openSearchWebView({actionType:7,type:0,query:"",scene:t.scene,isSug:0,isHomePage:1,docID:""}):i.M_openSearchWebView({actionType:5,searchId:i.$store.state.teach.recommendId,query:"看一看",type:2,jumpUrl:"",tagPageType:1,extParams:JSON.stringify(Object.assign({tagName:t.hotword,tagId:t.channelId,navigationId:t.navigationId||""},t)),tagId:t.channelId,navigationId:t.navigationId||"",navBarColor:"#FFFFFF",statusBarStyle:"black",nativeConfig:{title:t.headTitle||""},topStoryScene:h.b.queryString.topStoryScene||0});var n=h.d.getStore("globalId");if(t.globalId===n){var o=e.currentTarget.querySelector(".rec-channel__item-inner");o.className=o.className.replace("red-mark",""),h.d.remove("globalId"),this._report({optype:y,reddotid:n,reddotconsumets:i._timeAbridge(new Date)})}h.f.teach.reportRecClick({channelid:t.channelId,navigationid:t.navigationId||"",guidetype:i.block.type,searchid:i.$store.state.teach.recommendId})}},created:function(){this._storeRedMark(),this._report({optype:b}),this._report({optype:_})}},I=(i(1473),i(4)),w=Object(I.a)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach-block rec-channel"},[i("p",{staticClass:"teach-block__title"},[t._v(t._s(t.block.title))]),i("ul",{staticClass:"rec-channel__list"},t._l(t.block.items,(function(e,n){return i("li",{key:n,attrs:{"data-expose-id":e.channelId+"_"+(e.navigationId||""),role:"button"}},[i("div",{staticClass:"rec-channel__item",on:{click:function(i){return t.onTap(e,i)}}},[i("span",{staticClass:"rec-channel__item-inner",class:{"teach__red-mark":t._detectRedMark(e.globalId)}},[t._v(t._s(e.hotword))])])])})),0)])}),[],!1,null,null,null).exports,k={mixins:[h.m],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},data:function(){return{showData:[],isShowAll:!1,isSceneRecommend:h.b.scene===f.e.RECOMMEND}},computed:{titleClass:function(){return this.isSceneRecommend?"teach-block__title":"teach__title"}},created:function(){this._handleData()},methods:{_handleData:function(){var t=this,e=t.block.items,i=e&&e.length,n=t.block.showNum||7;i&&(t.isSceneRecommend?(this.isShowAll=e.length>n,this.isShowAll?t.showData=e.slice(0,n):t.showData=e):t.showData=e)},onTap:function(t){var e=this,i={searchId:e.$store.state.teach.recommendId};t.jumpType||(t.jumpType=f.l.TOP_STORY),t.jumpType===f.l.TOP_STORY?i=Object.assign(i,{tagPageType:1,extParams:JSON.stringify(Object.assign({tagName:t.hotword,tagId:t.channelId,navigationId:t.navigationId||""},t)),tagId:t.channelId,navigationId:t.navigationId||"",nativeConfig:{title:t.headTitle||""},topStoryScene:h.b.queryString.topStoryScene||0}):t.jumpUrl&&(i.jumpUrl=e.M_composeUrl(t.jumpUrl,{fontRatio:+h.b.queryString.fontRatio||1})),e.M_go(Object.assign({},t,i)),h.f.teach.reportRecClick({channelid:t.channelId,navigationid:t.navigationId||"",guidetype:e.block.type,searchid:e.$store.state.teach.recommendId})},showALL:function(){var t=this;t.isShowAll?(t.showData=t.block.items,t.isShowAll=!1,h.f.teach.reportRecClick({channelid:0,navigationid:"",searchid:t.$store.state.teach.recommendId,guidetype:t.block.type,foldtype:1})):(t.showData=t.block.items.slice(0,t.block.showNum||7),t.isShowAll=!0,h.f.teach.reportRecClick({channelid:0,navigationid:"",searchid:t.$store.state.teach.recommendId,guidetype:t.block.type,foldtype:2})),t.$emit("handleBottomStyle")}}},C=(i(1474),Object(I.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach-block rec-category"},[i("p",{class:[t.titleClass]},[t._v("\n    "+t._s(t.block.title)+"\n  ")]),i("ul",{staticClass:"rec-category__ul"},t._l(t.showData,(function(e,n){return i("li",{key:n,staticClass:"rec-category__list",attrs:{"data-expose-id":e.channelId+"_"+(e.navigationId||""),role:"button"}},[i("div",{staticClass:"rec-category__item",attrs:{"data-index":n},on:{click:function(i){return t.onTap(e)}}},[t._v("\n        "+t._s(e.hotword)+"\n      ")])])})),0),t.isSceneRecommend?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowAll,expression:"isShowAll"}],staticClass:"rec-category__show arrow_down",attrs:{role:"button","aria-label":t.block.moreText},on:{click:t.showALL}},[t._v("\n      "+t._s(t.block.moreText)+"\n    ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowAll,expression:"!isShowAll"}],staticClass:"rec-category__show arrow_top",attrs:{role:"button","aria-label":t.block.foldText||"收起"},on:{click:t.showALL}},[t._v("\n      "+t._s(t.block.foldText||"收起")+"\n    ")])]):t._e()])}),[],!1,null,null,null).exports),O={components:{resultBiz:i(2094).default},mixins:[h.m,h.k],props:["typePos","block"],data:function(){return{}},created:function(){},methods:{}},x=(i(1477),Object(I.a)(O,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"big-avatar-biz"},[i("p",{staticClass:"teach__title teach__biz-title"},[t._v("\n    "+t._s(t.block.title||"公众号")+"\n  ")]),i("ul",{staticClass:"teach__list"},t._l(t.block.items,(function(e,n){return i("result-biz",{key:e.aliasName,attrs:{item:e,data:t.block,"type-pos":t.typePos+1,pos:n+1}})})),1)])}),[],!1,null,"77d369c8",null).exports),T=i(718),E=i(16),S=i(3),j=i(25),P=i(482),R=i(719);function D(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var N={components:{HistoryItem:T.a,HistoryClearItem:R.a},mixins:[h.m,h.k,P.a],props:["block","typePos"],data:function(){return{isIOS8:Global.os.ios&&parseInt(h.b.os.version)<9}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?D(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(j.c)({requestId:function(t){return t.teach.requestId}})),methods:{_convertDeletable:function(t){var e=h.g.object2params(t);return"ishistorydel=1&".concat(e)},onTap:function(t){var e=this,i=this.block.items[t],n=i.hotword;if(i.opType=i.optype||i.opType||f.c.search,h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:i.id,itemWord:i.hotword,itemExpand:i.expand,itemIndex:t+1}),h.f.teach.reportCommonNewClick({searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId&&this.block.vueBlockId.replace(/^block:/,"")||"",docInfo:i.vueItemId&&i.vueItemId.replace(/^item:/,"")||""}),this.M_clickReportFor26897(i,t+1,{actionId:{1:3004,4:3002}[parseInt(i.opType)]}),h.b.scene==f.e.HOME_TOP_ENTRY&&i.source&&Object.keys(i.source||{}).length)this.M_go(i.source);else if(1==i.opType){var o={crossExtReqParams:[{key:"parentSearchID",textValue:e.M_composeParentSid({t:f.p.TEACH_HISTORY,s:e.$store.state.teach.recommendId,did:i.hotword,rid:e.$store.state.index.requestId})}]};i.mixerCommonContext&&o.crossExtReqParams.push({key:"mixerCommonContext",textValue:i.mixerCommonContext}),e.M_checkSpecialSearchBeforeLaunchNewSearch({query:n,callback:function(){h.g.setSearchInputWord({query:n,isInputChange:!1}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:n,searchId:"",extReqParams:o.crossExtReqParams})},extParams:o})}else 4==i.opType&&e.M_startDetail({type:2,jumpUrl:i.jumpUrl});Object(E.h)(h.l.feature.teachHis),1024===h.b.type&&h.f.reportFictionClick({blockType:this.block.type,pos:t+1,word:i.hotword})},tapDelete:function(t){var e=this.block.items[t];if(h.g.reportRealTime({scene:h.b.scene,recommendId:this.$store.state.teach.recommendId,businessType:h.b.type,docId:e.hotword,docPos:t,typePos:this.typePos,isHomePage:0,sceneActionType:h.b.sceneActionType}),this.reportFeatureClick(5),this.M_clickReportFor26897(e,t+1,{actionId:f.g.CLICK_DELETE}),h.f.teach.reportCommonClick({isDelete:1,blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:e.id,itemWord:e.hotword,itemExpand:e.expand,itemIndex:t+1}),1024===h.b.type){var i={scene:h.b.scene,query:e.hotword,businesstype:h.b.type,id:e.id||"",clienttimestamp:(new Date).getTime()};h.g.reportCommon(this._convertDeletable(i)),h.f.reportFictionClick({blockType:this.block.type,pos:t+1,word:e.hotword,isDelete:1})}this.$store.commit("teach/deleteData",{dataIdx:this.typePos-1,itemIdx:t})},tapClear:function(){h.f.teach.reportCommonClick({isDelete:2,blockId:"删除所有历史",blockWord:this.block.deleteWord,blockExpand:this.block.expand,blockIndex:this.typePos}),this.reportFeatureClick(6),this.M_clickReportFor26897("",0,{actionId:f.g.CLICK_CLEAR}),this.$store.commit("teach/clearData",{isDelete:!1,dataIdx:this.typePos-1})},reportFeatureClick:function(t){h.f.teach.reportFeatureBtnClick({featureInfo:t,actionId:2,searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId.replace(/^block:/,""),businessType:h.b.type})}}},L=(i(1478),Object(I.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.block.items&&t.block.items.length?i("div",{staticClass:"history-box",attrs:{"data-teach-report-id":"his-"+t.block.vueBlockId}},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),i("div",{staticClass:"history-box__bd"},[t._l(t.block.items,(function(e,n){return i("history-item",{key:n,staticClass:"history-box__item",attrs:{title:e.hotword,tags:e.updateInfo?[{title:e.updateInfo,type:3}]:[],"data-expose-id":e.id,"data-teach-report-id":"his-"+e.vueItemId+"@"+t.block.vueBlockId,"data-new-teach-report-id":""+t.M_getItemReportId(e,n+1),"delete-icon-props":{"data-teach-report-id":"his-feature:5@"+t.block.vueBlockId}},on:{tap:function(e){return t.onTap(n)},"tap:delete":function(e){return t.tapDelete(n)}}})})),t.block.deleteWord?i("history-clear-item",{attrs:{title:t.block.deleteWord,"data-teach-report-id":"his-feature:6@"+t.block.vueBlockId},nativeOn:{click:function(e){return t.tapClear.apply(null,arguments)}}}):t._e()],2)]):t._e()}),[],!1,null,null,null).exports),H=i(17),A=i(8);function M(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var $,B=!1,F={props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},data:function(){return{title:"",path:"",height:"",iconHeight:"80px"}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?M(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({showTitle:{get:function(){return this.title||this.block.title},set:function(t){this.title=t}},showPath:{get:function(){return this.path||this.block.iconUrl},set:function(t){this.path=t}}},Object(j.c)({baseInfo:function(t){return t.teach.similar.baseInfo}})),created:function(){var t=this;h.a.$on("emoticonIsChosen",(function(e){t.showTitle="轻触更换表情",e.asyncDownload||(t.showPath=e.thumbPath,t.clearTeachData())})),h.a.$on(S.b.APP_VIEW_CHANGED,(function(e){e.page!==f.f.TEACH&&(t.showPath="")})),H.b.onImageReady((function(e){e[t.baseInfo.md5]&&(t.showPath=e[t.baseInfo.md5])})),h.f.teach.reportSimilarPlus({reportType:2,requestId:t.baseInfo.requestId,searchId:t.baseInfo.searchId}),window.addEventListener("scroll",t._scroll,!1)},mounted:function(){var t=this;this.height="".concat(this.$refs.button.offsetHeight,"px"),this.block.autoPop&&!B&&(this.$nextTick((function(){t.tap(!1)})),B=!0)},destroyed:function(){window.removeEventListener("scroll",this._scroll)},methods:{_touchStart:function(){$=window.scrollY},_scroll:function(){var t=this,e=window.scrollY,i=window.innerHeight||document.documentElement.clientHeight,n=(window.pageYOffset||document.documentElement.scrollTop)+i,o=t.$root.$el.scrollHeight;if(e<0)t.$refs.button.style.position="absolute";else if(n>o)t.$refs.button.style.position=o==i?"absolute":"fixed";else{var a;if(t.$refs.button.style.position="fixed",$&&(a=e-$),$=e,!a)return;var s=parseInt(t.iconHeight)-a/4,r=parseInt(t.height)-a/4;s=Math.min(s,80),s=Math.max(s,50),r=Math.min(r,180),r=Math.max(r,150),t.iconHeight="".concat(s,"px"),t.height="".concat(r,"px")}},clearTeachData:function(){var t=this.$store.state.teach.teachData;this.$store.dispatch("teach/updateData",{data:Object.assign({},t,{data:[Object.assign({},this.block,{iconUrl:this.showPath,title:"轻触更换表情"})]})})},tap:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;e.$store.dispatch("teach/similar/generateRid"),A.a.gotoEmoticonPad({requestId:e.baseInfo.requestId,sessionId:h.b.sessionId,scene:h.b.scene}),t&&h.f.teach.reportSimilarPlus({reportType:e.baseInfo.md5?3:1,requestId:e.baseInfo.requestId,searchId:e.baseInfo.searchId}),t&&Object(E.h)(h.l.feature.smiliarTapTeach)}}},W=(i(1412),Object(I.a)(F,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"similar-button-wrap",style:{height:t.height}},[i("div",{ref:"button",staticClass:"similar-button"},[i("div",{staticClass:"similar-button__info",attrs:{"aria-label":t.showTitle,role:"button"},on:{click:t.tap}},[i("div",{staticClass:"similar-button__icon-wrap",style:{height:t.iconHeight,width:t.iconHeight}},[t.showPath?i("div",{staticClass:"similar-button__sticker",style:{backgroundImage:"url("+t.showPath+")"}}):i("svg-icon",{staticClass:"similar-button__icon",attrs:{name:"stickers"}})],1),i("div",{staticClass:"similar-botton__title"},[t._v("\n        "+t._s(t.showTitle)+"\n      ")])])])])}),[],!1,null,null,null).exports),q=i(82);function U(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var G={album:1,albumSticker:2,single:3,custom:4},z={components:{clientImage:q.a},props:{emoticon:{type:Object,default:function(){return{}}},pos:{type:Number,default:0}},data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?U(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({clientImage:function(){var t=this.emoticon.type;return[G.albumSticker,G.single].indexOf(t)>-1}},Object(j.c)({baseInfo:function(t){return t.teach.similar.baseInfo}})),methods:{tap:function(){var t,e=this;h.h.openSticker(Object.assign({position:e.pos,docID:e.emoticon.docID,searchId:e.baseInfo.searchId,fromSearchType:2,pageType:f.o[null===(t=e.$route)||void 0===t?void 0:t.name]},e.emoticon)),h.f.teach.reportSimilarClick({clickMd5:e.emoticon.md5,queryMd5:e.baseInfo.md5,offset:e.baseInfo.offset,searchId:e.baseInfo.searchId,tab:e.baseInfo.tab,requestId:e.baseInfo.requestId,pos:e.pos}),Object(E.h)(h.l.feature.smiliarTapSticker)}}},Y=(i(1480),Object(I.a)(z,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"similar-item",attrs:{"data-expose-id":this.emoticon.md5,"aria-hidden":"true"},on:{click:this.tap}},[e("client-image",{staticClass:"similar-item__inner",attrs:{item:this.emoticon,mode:"sticker"}})],1)}),[],!1,null,null,null).exports),V=i(81);function K(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?K(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var X=!1,Q={components:{emoticon:Y,scroll:V.a},data:function(){return{show:!1,loading:""}},computed:Z(Z({},Object(j.c)({baseInfo:function(t){return t.teach.similar.baseInfo},emoticons:function(t){return t.teach.similar.emoticons},data:function(t){return t.teach.similar.data},teachObjList:function(t){return t.teach.teachData&&t.teach.teachData.data}})),{},{loadingWord:{get:function(){return this.loading||"加载中..."},set:function(t){this.loading=t}}}),watch:{data:function(t){t.nomoreText&&(this.loadingWord=t.nomoreText)}},created:function(){var t=this,e=this;h.a.$on("emoticonIsChosen",(function(i){t.teachObjList.filter((function(t){return 13===t.type})).length&&(e.emoticonReset(),e.show=!0,e.$store.commit({type:"teach/similar/updateBase",md5:i.md5,tab:i.tab,aesKey:i.aesKey,emojiUrl:i.emojiUrl}),e.getData({offset:0}))})),h.a.$on("onSimilarEmoticonReady",(function(t){X=!1,e.$store.dispatch({type:"teach/similar/dataReady",data:t})})),h.a.$on(S.b.APP_VIEW_CHANGED,(function(t){t.page!==f.f.TEACH&&(e.emoticonReset(),e.show=!1)}))},methods:{getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};X=!0;var e=this,i=e.baseInfo,n=i.md5,o=i.offset,a=i.searchId,s=i.requestId,r=i.tab,c=i.aesKey,l=i.emojiUrl,u=Object.assign({md5:n,offset:o,searchId:a,requestId:s,tab:r,aesKey:c,emojiUrl:l,scene:h.b.scene,sessionId:h.b.sessionId},t);A.a.getEmoticon(u)},emoticonReset:function(){this.$store.commit("teach/similar/emoticonReset"),this.loadingWord=""},scrollEnd:function(){X||!this.data.continueFlag&&this.data.items||(this.$store.dispatch("teach/similar/generateRid"),this.getData())},expose:function(t){if(t.length){var e=this,i=[];t.forEach((function(t){for(var n=0;n<e.emoticons.length;n++){var o=e.emoticons[n];if(o.md5===t){i.push(Object.assign({index:n+1},o));break}}})),h.f.teach.reportSimilarExpose({searchId:e.baseInfo.searchId,md5:e.baseInfo.md5,tab:e.baseInfo.tab,requestId:e.baseInfo.requestId,pos:i[0].index,md5Content:i.map((function(t){return t.md5})).join(";")})}}}},J=(i(1481),Object(I.a)(Q,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("scroll",{staticClass:"similar-list",attrs:{end:t.scrollEnd,expose:t.expose,on:t.show,"aria-hidden":"true"}},[i("div",{staticClass:"similar-list__box"},[t.data.resultWording?i("div",{staticClass:"similar-list__count"},[i("span",{staticClass:"similar-list__count-word"},[t._v(t._s(t.data.resultWording))])]):t._e(),i("div",{staticClass:"similar-list__list"},t._l(t.emoticons,(function(t,e){return i("emoticon",{key:t.docID,attrs:{emoticon:t,pos:e+1}})})),1)]),i("div",{staticClass:"similar-list__loading"},[t.loading?t._e():i("span",{staticClass:"similar-list_load-icon"}),i("span",[t._v(t._s(t.loadingWord))])])]):t._e()}),[],!1,null,null,null).exports),tt=i(19);function et(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function it(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?et(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):et(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var nt={mixins:[h.k,h.m,P.a],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0},displayPos:{type:Number,default:0}},data:function(){return{isBizUnionTopScene:h.b.isBizUnionTopScene,docItemType:tt.a.docItemType}},computed:{col:function(){var t=this.block.items.map((function(t){return h.g.strLen(t.hotword)}));return Math.max.apply(Math,s()(t))<10?3:2}},methods:{onTap:function(t,e){var i=this;h.g.fastClickCheck((function(){t.opType=t.optype||t.opType,h.f.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.title,blockExpand:i.block.expand,blockIndex:i.displayPos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),i.M_clickReportFor26897(it(it({},t),1==t.game_flag?{docType:i.docItemType.GAME_WORD}:{}),e+1,h.b.scene==f.e.BIZ_SPECIFIC?{actionId:3004}:{});var n=i.M_composeParentSid({t:f.p.HOT_WORD,s:i.$store.state.teach.recommendId,did:t.id||t.hotword,rid:i.$store.state.index.requestId});if(t.opType==f.c.search)h.h.setInputBar({query:t.hotword,isInputChange:!1}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:t.hotword,searchId:"",extReqParams:{key:"parentSearchID",textValue:n}});else{var o,a,s,r={};if(t.isForbidHistory||null!==(o=t.jumpInfo)&&void 0!==o&&o.forbidTeachData)r.extParams=Object.assign(t.isForbidHistory?{isForbidHistory:t.isForbidHistory}:{},null!==(s=t.jumpInfo)&&void 0!==s&&s.forbidTeachData?{forbidTeachData:t.jumpInfo.forbidTeachData}:{});i.M_go(it(it({},t),{},{jumpInfo:Object.assign(r,it(it({},(null==t?void 0:t.jumpInfo)||{}),{},{parentSearchID:(null==t||null===(a=t.jumpInfo)||void 0===a?void 0:a.parentSearchID)||n}))}))}Object(E.h)(h.l.feature.teachHot)}),2e3)}}},ot=(i(1869),Object(I.a)(nt,(function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return e.block.items&&e.block.items.length?n("div",{staticClass:"rows teach__box_outer",class:(t={},t["rows-with-style-"+e.block.showType]=e.block.showType>=0,t)},[e.block.title?n("p",{staticClass:"teach__title"},[e._v(e._s(e.block.title))]):e._e(),n("ui-column",{staticClass:"teach__main",attrs:{col:e.col,list:e.block.items},scopedSlots:e._u([{key:"default",fn:function(t){var i,o=t.item,a=t.index;return[n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"rows-word-wrapper active__link",class:(i={},i["style-"+o.showType]=o.showType,i),attrs:{"data-hotword":o.hotword,"data-index":a,"data-expose-id":o.id,"data-new-teach-report-id":""+e.M_getItemReportId(Object.assign({},o,1==o.game_flag?{docType:e.docItemType.GAME_WORD}:{}),a+1),role:"button"},on:{click:function(t){return e.onTap(o,a)}}},[n("span",{staticClass:"rows-word",domProps:{innerHTML:e._s(e.xss(o.hotword))}}),o.tags?n("ui-tags",{attrs:{flex:"",tags:o.tags,"aria-hidden":"true"}}):e._e()],1)]}}],null,!1,1984896194)}),n("div",{staticStyle:{"padding-top":"1px"}})],1):e._e()}),[],!1,null,"45c97a92",null).exports),at=i(14),st=i(12),rt=i(5);function ct(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var lt={mixins:[h.m,P.a],data:function(){return{title:this.block.title||at.a.L("经常搜索的公众号")}},props:["block","typePos","displayPos"],methods:{onTap:function(t,e){var i={userName:t.userName,isTeachPage:!0,opType:f.c.bizSession};h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.title,blockExpand:this.block.expand,blockIndex:this.displayPos,itemId:t.id,itemWord:t.nickName,itemExpand:t.expand,itemIndex:e+1}),this.M_clickReportFor26897(t,e+1,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ct(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},st.a.scene==f.e.S1S_VERTICAL&&st.a.type==rt.c.OFFICE_ACCOUNT?{actionId:f.g.BIZ}:{})),t.jumpInfo?this.M_go(t.jumpInfo):at.a.startSearchItemDetailPage(i),at.a.reportRealTime({scene:st.a.scene,recommendId:this.$store.state.teach.recommendId,businessType:+this.block.type,docId:t.userName||t.nickName,docPos:e+1,typePos:this.displayPos,isHomePage:0,sceneActionType:st.a.sceneActionType})}}},ut=(i(1563),Object(I.a)(lt,(function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.block.items&&e.block.items.length,expression:"block.items && block.items.length"}],staticClass:"official-a teach__box_outer",class:(t={},t["official-a-with-style-"+e.block.showType]=e.block.showType>=0,t)},[n("p",{staticClass:"teach__title"},[e._v(e._s(e.title))]),n("ul",{staticClass:"official-a__list teach__main"},[e._l(e.block.items,(function(t,i){return[i<8?n("li",{directives:[{name:"active",rawName:"v-active"}],key:i,staticClass:"active__mask official-a__wrap",attrs:{"data-new-teach-report-id":""+e.M_getItemReportId(t,i+1),"data-expose-id":t.id,role:"button"},on:{click:function(n){return e.onTap(t,i)}}},[n("div",{staticClass:"official-a__item"},[n("span",{staticClass:"biz__sug-thumb",style:{backgroundImage:"url("+(t.avatarUrl||t.iconUrl)+")"}}),n("p",[e._v(e._s(t.nickName))])])]):e._e()]}))],2)])}),[],!1,null,null,null).exports),dt=function(t){return"/page/detail/detail?q=".concat(encodeURIComponent(t.join(";")))},pt={filters:{formatNum:function(t){if(null==t)return"--";if(!/^(\+|-)?(\d+)(\.\d+)?$/.test(t))return t;var e=RegExp.$1,i=RegExp.$2,n=RegExp.$3,o=new RegExp;for(o.compile("(\\d)(\\d{3})(,|$)");o.test(i);)i=i.replace(o,"$1,$2$3");return"".concat(e).concat(i).concat(n)},formatRate:function(t){return null==t?"--":"".concat((100*Math.abs(t)).toFixed(2),"%")}},mixins:[h.k],props:{block:{type:Object,default:function(){return{}}}},computed:{items:function(){return(this.block.wxindex&&this.block.wxindex.group_list||[]).map((function(t){return{gid:t.gid,group_wxindex:(t.group_wxindex||[]).map((function(e){if(e.wxindex_str){for(var i=e.wxindex_str.split(","),n=i.length-1;n>=0;n-=1)if(-1!=i[n]){e.currentIndex=+i[n],n>0&&i[n-1]>0?e.rate=(i[n]-i[n-1])/i[n-1]:e.rate=1;break}n<0&&(t.currentIndex=void 0,t.rate=void 0)}else t.currentIndex=void 0,t.rate=void 0;return e}))}}))},showMoreLink:function(){return(this.block.wxindex&&this.block.wxindex.group_list||[]).length<(this.block.wxindex&&this.block.wxindex.total_cnt||0)}},created:function(){var t=this;H.b.onWebviewResume((function(){t.$emit("update")}))},methods:{onSlide:function(t,e,i,n){t>0?t>18&&n.dataset.moved&&(n.style.left="0px",delete n.dataset.moved):(t||e||i||(this.$refs.wxIndexItem||[]).forEach((function(t){t!==n&&(t.style.left="0px",delete t.dataset.moved)})),i?Math.abs(t)>=36?(n.style.left="".concat(-72,"px"),n.dataset.moved=!0):(n.style.left="0px",delete n.dataset.moved):Math.abs(t)>=18&&(n.dataset.moved?n.style.left="-".concat(80,"px"):n.style.left="".concat(Math.max(t,-72),"px")))},onView:function(t){(this.$refs.wxIndexItem||[]).forEach((function(t){t.style.left="0px",delete t.dataset.moved}));var e=this.items[t];if(e){var i=(e.group_wxindex||[]).map((function(t){return t.query}));h.f.teach.reportWxIndex({actionType:1,groupId:e.gid,content:i.join(",")}),this.M_go({jumpType:2,userName:"gh_935b85261f35@app",relativeURL:i.length?dt(i):"/page/index/index"})}},onDelete:function(t){var e=this.items[t];e&&(h.f.teach.reportWxIndex({actionType:2,groupId:e.gid,content:(e.group_wxindex||[]).map((function(t){return t.query})).join(",")}),h.h.commonCgi({cgiName:H.a.delWxIndex,data:{gid:e.gid,queryList:(e.group_wxindex||[]).map((function(t){return t.query}))}}))},onMore:function(){h.f.teach.reportWxIndex({actionType:3}),this.M_go({jumpType:2,userName:"gh_935b85261f35@app",relativeURL:"/page/index/index"})}}},ht=(i(1484),Object(I.a)(pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.items.length?i("div",{staticClass:"wx-index__bd"},[i("span",{staticClass:"ui-aria-hidden"},[t._v("微信指数")]),t._m(0),t._l(t.items,(function(e,n){return i("div",{key:e.gid,staticClass:"wx-index__item"},[e.group_wxindex&&e.group_wxindex.length>0?i("div",{directives:[{name:"slide",rawName:"v-slide:horizontal",value:t.onSlide,expression:"onSlide",arg:"horizontal"},{name:"active",rawName:"v-active"}],ref:"wxIndexItem",refInFor:!0,staticClass:"wx-index__box",on:{click:function(e){return t.onView(n)}}},t._l(e.group_wxindex,(function(n){return i("div",{key:e.gid+"###"+n.query,staticClass:"wx-index__tr"},[i("div",{staticClass:"wx-index__td"},[t._v("\n          "+t._s(n.query)+"\n        ")]),i("div",{staticClass:"wx-index__td",attrs:{role:"option"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("最新指数：")]),t._v("\n          "+t._s(t._f("formatNum")(n.currentIndex))+"\n        ")]),i("div",{staticClass:"wx-index__td wx-index__rate",class:{"wx-index__rate_up":n.rate>=0,"wx-index__rate_down":n.rate<0},attrs:{role:"option"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(n.rate>=0?"上升":"下降")+"：")]),t._v("\n          "+t._s(t._f("formatRate")(n.rate))+"\n        ")])])})),0):t._e(),i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"wx-index__box-delete",attrs:{role:"button"},on:{click:function(e){return t.onDelete(n)}}},[t._v("\n      删除\n    ")])])})),t.showMoreLink?i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"wx-index__link",attrs:{role:"button"},on:{click:t.onMore}},[t._v("\n    前往小程序获取完整历史\n  ")]):t._e()],2):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-index__tr wx-index__hd",attrs:{"aria-hidden":"true"}},[e("div",{staticClass:"wx-index__td"},[this._v("\n      最新查询\n    ")]),e("div",{staticClass:"wx-index__td"},[this._v("\n      最新指数\n    ")]),e("div",{staticClass:"wx-index__td"},[this._v("\n      日环比\n    ")])])}],!1,null,null,null).exports),ft=i(15),mt={components:{HistoryItem:T.a,HistoryClearItem:R.a,scroll:V.a},mixins:[h.k,h.m],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},data:function(){return{items:null}},computed:{show:function(){return this.items&&this.items.length}},watch:{block:function(){this.items=this.block.items.map((function(t){return t}))}},created:function(){this.items=this.block.items.map((function(t){return t}))},methods:{tap:function(t,e){var i=this,n=i.M_composeParentSid({t:f.p.HISTORY_MP,s:i.$store.state.teach.recommendId,did:t.docID,rid:i.$store.state.index.requestId});i.M_checkSpecialSearchBeforeLaunchNewSearch({query:t.title,callback:function(){h.g.setSearchInputWord({query:t.title,isInputChange:!1}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:t.title,searchId:"",extReqParams:{key:"parentSearchID",textValue:n}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:n}]}}),h.f.teach.mpTeachClick({searchId:i.$store.state.teach.recommendId,query:h.b.query,word:t.title,wordPos:e+1,docID:t.docID})},tapDelete:function(t,e){this.items.splice(e,1),Object(ft.f)({action:"biz",realaction:"delsearchhistory",docID:t.docID})},tapClear:function(){this.items=[],Object(ft.f)({action:"biz",realaction:"delsearchhistory"})},expose:function(t){if(t.length){var e=this,i=t.map((function(t){var i={};return Array.prototype.forEach.call(e.items,(function(e,n){t===e.docID&&(i=Object.assign({index:n+1},e))})),i})),n=[],o=[],a=[];i.forEach((function(t){n.push(t.title),o.push(t.index),a.push(t.docID)})),h.f.teach.mpTeachExpose({searchId:e.$store.state.teach.recommendId,query:h.b.query,word:n.join("|"),wordPos:o.join("|"),docID:a.join("|")})}}}},bt=Object(I.a)(mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("scroll",{staticClass:"history-box",attrs:{expose:t.expose}},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),i("div",{staticClass:"history-box__bd"},[t._l(t.items,(function(e,n){return i("history-item",{key:n,attrs:{title:e.title,"data-expose-id":e.docID},on:{tap:function(i){return t.tap(e,n)},"tap:delete":function(i){return t.tapDelete(e,n)}}})})),t.block.deleteWord?i("history-clear-item",{attrs:{title:t.block.deleteWord},nativeOn:{click:function(e){return t.tapClear.apply(null,arguments)}}}):t._e()],2)]):t._e()}),[],!1,null,null,null).exports,_t={props:["typePos","block","header"],computed:{renderHeader:function(){return this.header||this.block.header||{}}},methods:{onTapMore:function(){this.renderHeader.moreInfo&&this.renderHeader.moreInfo.jumpInfo&&(this.M_go(this.renderHeader.moreInfo.jumpInfo),h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.renderHeader.moreInfo.title,blockExpand:this.block.expand,blockIndex:this.typePos}))}}},vt=(i(1485),Object(I.a)(_t,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"default-header"},[i("h3",{attrs:{role:"option"},domProps:{innerHTML:t._s(t.xss(t.renderHeader.title))}}),t.renderHeader.moreInfo?i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"more-box active__opacity",on:{click:function(e){return e.stopPropagation(),t.onTapMore.apply(null,arguments)}}},[i("span",[t._v(t._s(t.renderHeader.moreInfo.title))]),i("ui-arrow")],1):t._e()])}),[],!1,null,"4c78d586",null).exports),yt={components:{defaultHeader:vt},props:["typePos","block"],data:function(){return{}},computed:{items:function(){return this.block.items}},methods:{onTapEntrance:function(t,e){var i=this;h.g.fastClickCheck((function(){i.M_go(t.jumpInfo),t.cgi&&t.cgi.name&&h.h.getCommonCgiData({cgiName:t.cgi.name,data:t.cgi.params}),h.f.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},gt=(i(1486),Object(I.a)(yt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"account-line"},[t.block.header?i("default-header",t._b({},"default-header",t.$props,!1)):t._e(),i("div",{staticClass:"account-line-body"},t._l(t.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:n,staticClass:"account-line-item active__mask",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapEntrance(e,n)}}},[i("ui-article",{attrs:{thumb:e.iconUrl,title:e.title,desc:e.desc}},[e.buttonInfo?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"button-box active__opacity",attrs:{slot:"outer-oprs","aria-hidden":"true"},slot:"outer-oprs"},[e.buttonInfo.iconUrl?i("ui-image",{staticClass:"button-icon",attrs:{url:e.buttonInfo.iconUrl,size:24}}):t._e(),i("p",[t._v(t._s(e.buttonInfo.title))])],1):t._e()])],1)})),0)],1)}),[],!1,null,"50845904",null).exports),It=i(736),wt={components:{reddotBadge:It.a,defaultHeader:vt},props:["typePos","block"],data:function(){return{}},computed:{items:function(){return this.block.items}},mounted:function(){this.reddotExposeTimeout=null,this.reddotExposeList=[]},methods:{onReddotExpose:function(t){var e=this;clearTimeout(this.reddotExposeTimeout),this.reddotExposeList.push({key:t.redDotInfo.key,type:1,action:1}),this.reddotExposeTimeout=setTimeout((function(){h.h.commonCgi({cgiName:H.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:e.reddotExposeList}})}),100)},onTapEntrance:function(t,e){var i=this;h.g.fastClickCheck((function(){if(i.M_go(t.jumpInfo),t.redDotInfo){var n=i.$refs["reddot-".concat(t.id)][0];n.isShow&&(n.onClick({delay:500}),h.h.commonCgi({cgiName:H.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:[{key:t.redDotInfo.key,type:1,action:2}]}}))}t.cgi&&t.cgi.name&&h.h.getCommonCgiData({cgiName:t.cgi.name,data:t.cgi.params}),h.f.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},kt=(i(1487),Object(I.a)(wt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"account-grid"},[t.block.header?i("default-header",t._b({},"default-header",t.$props,!1)):t._e(),i("div",{staticClass:"account-grid-body"},t._l(t.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:n,staticClass:"account-grid-item active__mask",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapEntrance(e,n)}}},[i("div",{staticClass:"icon-box"},[e.iconUrl?i("ui-image",{attrs:{url:e.iconUrl,size:32}}):t._e(),e.redDotInfo?i("reddot-badge",{ref:"reddot-"+e.id,refInFor:!0,staticClass:"reddot-badge",attrs:{id:e.redDotInfo.key,text:e.redDotInfo.text,expired:e.redDotInfo.expired,"related-id":e.id},on:{expose:function(i){return t.onReddotExpose(e)}}}):t._e()],1),e.title?i("h3",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(e.title))}}):t._e(),e.desc?i("p",{staticClass:"desc",attrs:{"aria-hidden":"true"},domProps:{innerHTML:t._s(t.xss(e.desc))}}):t._e()])})),0)],1)}),[],!1,null,"9b2b2b50",null).exports),Ct={props:["typePos","block"],data:function(){return{}},computed:{items:function(){return this.block.items}},methods:{onTapEntrance:function(t,e){var i=this;h.g.fastClickCheck((function(){i.M_go(t.jumpInfo),t.cgi&&t.cgi.name&&h.h.getCommonCgiData({cgiName:t.cgi.name,data:t.cgi.params}),h.f.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},Ot=(i(1488),Object(I.a)(Ct,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"strong-show-grid"},t._l(t.items,(function(e,n){return i("li",{key:n,staticClass:"grid-item",attrs:{"data-expose-id":e.id,role:"button"}},[i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"grid-item-inner active__mask",on:{click:function(i){return i.stopPropagation(),t.onTapEntrance(e,n)}}},[i("div",{staticClass:"icon-box"},[e.iconUrl?i("ui-image",{attrs:{url:e.iconUrl,size:40}}):t._e()],1),e.title?i("h3",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(e.title))}}):t._e(),e.desc?i("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.xss(e.desc))}}):t._e()])])})),0)}),[],!1,null,"73aa6811",null).exports),xt={components:{reddotBadge:It.a,defaultHeader:vt},props:["typePos","block"],data:function(){return{}},computed:{items:function(){return this.block.items}},mounted:function(){this.reddotExposeTimeout=null,this.reddotExposeList=[]},methods:{onReddotExpose:function(t){var e=this;clearTimeout(this.reddotExposeTimeout),this.reddotExposeList.push({key:t.redDotInfo.key,type:1,action:1}),this.reddotExposeTimeout=setTimeout((function(){h.h.commonCgi({cgiName:H.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:e.reddotExposeList}})}),100)},onTapEntrance:function(t,e){var i=this;h.g.fastClickCheck((function(){if(i.M_go(t.jumpInfo),t.redDotInfo){var n=i.$refs["reddot-".concat(t.id)][0];n.isShow&&(n.onClick({delay:500}),h.h.commonCgi({cgiName:H.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:[{key:t.redDotInfo.key,type:1,action:2}]}}))}t.cgi&&t.cgi.name&&h.h.getCommonCgiData({cgiName:t.cgi.name,data:t.cgi.params}),h.f.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},Tt=(i(1489),Object(I.a)(xt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap-box-grid"},[t.block.header?i("default-header",t._b({},"default-header",t.$props,!1)):t._e(),i("div",{staticClass:"wrap-box-grid-body"},t._l(t.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:n,staticClass:"wrap-box-grid-item active__mask",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapEntrance(e,n)}}},[i("div",{staticClass:"icon-box"},[e.iconUrl?i("ui-image",{attrs:{url:e.iconUrl,size:32}}):t._e(),e.redDotInfo?i("reddot-badge",{ref:"reddot-"+e.id,refInFor:!0,staticClass:"reddot-badge",attrs:{id:e.redDotInfo.key,text:e.redDotInfo.text,expired:e.redDotInfo.expired,"related-id":e.id},on:{expose:function(i){return t.onReddotExpose(e)}}}):t._e()],1),e.title?i("h3",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(e.title))}}):t._e(),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),e.desc?i("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.xss(e.desc))}}):t._e()])})),0)],1)}),[],!1,null,"3dadd61d",null).exports),Et={props:["typePos","block"],computed:{item:function(){return this.block.items[0]}},methods:{onTapEntrance:function(t,e){var i=this;h.g.fastClickCheck((function(){i.M_go(t.jumpInfo),h.f.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},St=(i(1490),Object(I.a)(Et,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"compact-entry active__mask",attrs:{"data-expose-id":t.item.id,role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapEntrance.apply(null,arguments)}}},[i("ui-tags",{attrs:{tags:t.item.tags,flex:""}}),t.item.title?i("div",{staticClass:"compact-entry-title"},[t._v(t._s(t.item.title))]):t._e(),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),t.item.desc?i("div",{staticClass:"compact-entry-desc"},[t._v(t._s(t.item.desc))]):t._e(),i("ui-arrow",{attrs:{gap:8,size:"big",align:"flex"}})],1)}),[],!1,null,"f187c058",null).exports);function jt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var Pt={components:{DefaultHeader:vt},mixins:[h.m,h.k],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):jt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({header:function(){return this.block.header?this.block.header:this.block.title?{title:this.block.title}:null}},Object(j.c)({baseInfo:function(t){return t.teach.similar.baseInfo}})),methods:{onTapOption:function(t){this.M_go(t.jumpInfo||t),h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:t+1})}}},Rt=(i(1491),Object(I.a)(Pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-list"},[t.header?i("default-header",t._b({attrs:{header:t.header}},"default-header",t.$props,!1)):t._e(),t._l(t.block.items,(function(e){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.title,staticClass:"option active__item",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapOption(e)}}},[e.iconUrl||e.picUrl?i("ui-image",{staticClass:"option-icon",attrs:{url:e.iconUrl||e.picUrl,size:40}}):t._e(),i("div",{staticClass:"option-text"},[i("div",{staticClass:"option-title",domProps:{innerHTML:t._s(t.xss(e.title))}}),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),i("div",{staticClass:"option-desc",domProps:{innerHTML:t._s(t.xss(e.desc))}})]),i("ui-arrow",{attrs:{size:"big"}})],1)}))],2)}),[],!1,null,"4544ce45",null).exports);function Dt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var Nt={components:{DefaultHeader:vt,clientImage:q.a},props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{header:function(){return this.block.header?this.block.header:this.block.title?{title:this.block.title}:null}},methods:{onTapSticker:function(t,e){var i;h.h.openSticker(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Dt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({position:e,scene:h.b.scene,searchId:h.b.searchId,pageType:f.o[null===(i=this.$route)||void 0===i?void 0:i.name]},t)),h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1})}}},Lt=(i(1492),Object(I.a)(Nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoticon-box"},[t.header?i("default-header",t._b({attrs:{header:t.header}},"default-header",t.$props,!1)):t._e(),i("div",{staticClass:"emoticon-box-content"},t._l(t.block.items,(function(e,n){return i("client-image",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e&&e.encryptUrl||n,staticClass:"emoticon-item active__mask",attrs:{"data-expose-id":e.id,mode:"sticker",role:"button",item:e},nativeOn:{click:function(i){return i.stopPropagation(),t.onTapSticker(e,n)}}})})),1)],1)}),[],!1,null,"17d42a27",null).exports),Ht={components:{DefaultHeader:vt,clientImage:q.a},props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{header:function(){return this.block.header?this.block.header:this.block.title?{title:this.block.title}:null}},methods:{onTapGridItem:function(t,e){this.M_go(t),h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.title||"",itemExpand:t.expand,itemIndex:e+1,listItemId:t.listItems.map((function(t){return t.id})).join("_")})}}},At=(i(1493),Object(I.a)(Ht,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoticon-grid"},[t.header?i("default-header",t._b({attrs:{header:t.header}},"default-header",t.$props,!1)):t._e(),i("div",{staticClass:"emoticon-grid-wrapper"},t._l(t.block.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.title,staticClass:"emoticon-grid-item active__item",attrs:{"data-expose-id":e.id,"aria-label":(e.title?e.title+"，":"")+(e.desc?e.desc+"，":"")+"搜索表情",role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapGridItem(e,n)}}},[t._l(e.listItems,(function(t){return i("client-image",{key:t.encryptUrl,staticClass:"emoticon",attrs:{item:t,mode:"sticker"}})})),i("div",{staticClass:"item-title",domProps:{innerHTML:t._s(t.xss(e.title))}}),e.desc?i("div",{staticClass:"item-desc",domProps:{innerHTML:t._s(t.xss(e.desc))}}):t._e()],2)})),0)],1)}),[],!1,null,"3a42318e",null).exports),Mt={mixins:[h.k,h.m],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},methods:{tap:function(t,e){if(h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),(t.opType||t.optype)==f.c.search){var i=this.M_composeParentSid({t:f.p.HOT_WORD,s:this.$store.state.teach.recommendId,did:t.id||t.hotword,rid:this.$store.state.index.requestId});this.M_openSearchWebView({actionType:3,jumpUrl:"",type:h.b.type,subType:h.b.subType,query:t.hotword,extParams:encodeURIComponent(JSON.stringify({isHomePage:0,crossExtReqParams:[{key:"parentSearchID",textValue:i}]}))})}else this.M_go(t)}}},$t=(i(1494),Object(I.a)(Mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach-hot"},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),i("div",{staticClass:"teach-hot__lines"},t._l(t.block.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.hotword,staticClass:"teach-hot__line active__item",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return t.tap(e,n)}}},[i("div",{staticClass:"teach-hot__line-inner"},[i("div",{staticClass:"teach-hot__wrap"},[i("div",{staticClass:"teach-hot__word"},[t._v("\n            "+t._s(e.hotword)+"\n          ")]),e.tags&&e.tags.length?i("ui-tags",{staticClass:"teach-hot__tag",attrs:{tags:e.tags,flex:"","no-bg":""}}):t._e()],1),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),e.recommendTags&&e.recommendTags.length?i("ui-tags",{staticClass:"teach-hot__recommend-tag",attrs:{tags:e.recommendTags,"no-bg":""}}):t._e()],1)])})),0)])}),[],!1,null,"e7f8de9e",null).exports),Bt={mixins:[h.k,h.m],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},methods:{tap:function(t,e){if(h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),(t.opType||t.optype)==f.c.search){var i=this.M_composeParentSid({t:f.p.HOT_WORD,s:this.$store.state.teach.recommendId,did:t.id||t.hotword,rid:this.$store.state.index.requestId});this.M_openSearchWebView({actionType:3,jumpUrl:"",type:h.b.type,subType:h.b.subType,query:t.hotword,extParams:encodeURIComponent(JSON.stringify({isHomePage:0,crossExtReqParams:[{key:"parentSearchID",textValue:i}]}))})}else this.M_go(t)}}},Ft=(i(1495),Object(I.a)(Bt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach-hot"},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),i("div",{staticClass:"teach-hot__lines"},t._l(t.block.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.hotword,staticClass:"teach-hot__line active__item",attrs:{"data-expose-id":e.id||e.hotword,role:"button"},on:{click:function(i){return t.tap(e,n)}}},[i("div",{staticClass:"teach-hot__wrap"},[i("ui-image",{staticClass:"teach-hot__thumb",attrs:{url:e.thumb}}),i("div",{staticClass:"teach-hot__word ellipsis_2"},[t._v("\n          "+t._s(e.hotword)+"\n        ")]),i("ui-arrow",{staticClass:"teach-hot__arrow",attrs:{size:"big",align:"flex",gap:""}})],1)])})),0)])}),[],!1,null,"357cf3ff",null).exports),Wt={mixins:[h.m,h.k],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{hasData:function(){return this.block&&this.block.items&&this.block.items.length}},created:function(){},methods:{tap:function(t,e){var i=this;t.jumpInfo?i.M_go(t.jumpInfo):i.M_go(Object.assign({},t,{jumpType:f.l.BIZ,isTeachPage:!0,opType:f.c.bizSession})),h.f.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id||"",blockWord:i.block.title,blockExpand:this.block.expand||"",blockIndex:i.typePos,itemId:t.id,itemWord:t.nickName,itemExpand:t.expand||"",itemIndex:e+1})},tapService:function(t,e,i,n){var o=this;o.M_go(t.jumpInfo||t),h.f.teach.reportCommonClick({blockType:o.block.type,blockId:o.block.id||"",blockWord:o.block.title,blockExpand:this.block.expand||"",blockIndex:o.typePos,itemId:i.id,itemWord:i.nickName,itemExpand:i.expand||"",itemIndex:n+1,listItemId:t.name,listItemExpand:"",listItemIndex:e+1,listItemWord:t.name})}}},qt=(i(1496),Object(I.a)(Wt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasData?i("div",{staticClass:"bws"},[i("p",{staticClass:"teach__title bws__title"},[t._v(t._s(t.block.title||"常搜公众号"))]),i("div",{staticClass:"bws__items"},t._l(t.block.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.userName,staticClass:"bws__item active__item",attrs:{"data-expose-id":e.id},on:{click:function(i){return t.tap(e,n)}}},[i("div",{staticClass:"bws__info",attrs:{role:"button"}},[i("ui-image",{staticClass:"bws__thumb",attrs:{size:32,url:e.avatarUrl}}),i("div",{staticClass:"bws__item-title"},[t._v("\n          "+t._s(e.nickName)+"\n        ")])],1),e.service?i("div",{staticClass:"bws__services"},t._l(e.service,(function(o,a){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:o.title,staticClass:"bws__service",attrs:{role:"button","aria-label":e.nickName+"的服务，"+o.name},on:{click:function(i){return i.stopPropagation(),t.tapService(o,a,e,n)}}},[i("span",{staticClass:"bws__service-inner"},[t._v("\n            "+t._s(o.name)+"\n          ")])])})),0):t._e()])})),0)]):t._e()}),[],!1,null,"057e9aa1",null).exports),Ut={mixins:[h.m,h.k],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{hasData:function(){return this.block&&this.block.items&&this.block.items.length}},created:function(){},methods:{tap:function(t,e){var i=this;t.jumpInfo?i.M_go(t.jumpInfo):i.M_go(Object.assign({},t,{jumpType:f.l.BIZ,isTeachPage:!0,opType:f.c.bizSession})),h.f.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.type||i.block.id||"",blockWord:i.block.title,blockExpand:this.block.expand||"",blockIndex:i.typePos,itemId:t.id,itemWord:t.nickName,itemExpand:t.expand||"",itemIndex:e+1})},tapService:function(t,e,i,n){var o=this;o.M_go(t.jumpInfo||t),h.f.teach.reportCommonClick({blockType:o.block.type,blockId:o.block.type||o.block.id||"",blockWord:o.block.title,blockExpand:this.block.expand||"",blockIndex:o.typePos,itemId:i.id,itemWord:i.nickName,itemExpand:i.expand||"",itemIndex:n+1,listItemId:t.id||t.name,listItemExpand:"",listItemIndex:e+1,listItemWord:t.name})}}},Gt=(i(1497),Object(I.a)(Ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasData?i("div",{staticClass:"bws"},[i("p",{staticClass:"teach__title bws__title"},[t._v(t._s(t.block.title||"常搜公众号"))]),i("div",{staticClass:"bws__items"},t._l(t.block.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.userName,staticClass:"bws__item active__item",attrs:{"data-expose-id":e.id},on:{click:function(i){return t.tap(e,n)}}},[i("div",{staticClass:"bws__info",attrs:{role:"button"}},[i("ui-image",{staticClass:"bws__thumb",attrs:{size:48,url:e.avatarUrl}})],1),i("div",{staticClass:"bws__content"},[i("div",{staticClass:"bws__item-title"},[t._v("\n          "+t._s(e.nickName)+"\n        ")]),e.service?i("div",{staticClass:"bws__services"},t._l(e.service,(function(o,a){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:o.title,staticClass:"bws__service",attrs:{role:"button","aria-label":e.nickName+"的服务，"+o.name},on:{click:function(i){return i.stopPropagation(),t.tapService(o,a,e,n)}}},[i("span",{staticClass:"bws__service-inner"},[t._v("\n              "+t._s(o.name)+"\n            ")])])})),0):t._e()])])})),0)]):t._e()}),[],!1,null,"49b06bf4",null).exports),zt={name:"Banner",mixins:[h.m],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{item:function(){return this.block.items&&this.block.items[0]||null},button:function(){return this.item.button||null},buttonType:function(){if(this.button)return this.button&&void 0!==this.button.buttonType?this.button.buttonType:null}},methods:{tapHandler:function(){var t=this;h.g.fastClickCheck((function(){t.M_go(t.item.jumpInfo),h.f.teach.reportCommonClick({blockType:t.block.type,blockId:t.block.id,blockWord:t.block.header&&t.block.header.title,blockExpand:t.block.expand,blockIndex:t.typePos,itemId:t.item.id,itemWord:t.item.title,itemExpand:t.item.expand,itemIndex:1})}),1e3)},onTapBanner:function(){this.tapHandler()},onTapButton:function(){this.tapHandler()}}},Yt=(i(1498),Object(I.a)(zt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item?i("div",{staticClass:"banner",attrs:{"data-expose-id":t.item.id}},[i("div",{directives:[{name:"image",rawName:"v-image:plain",value:t.item.picUrl,expression:"item.picUrl",arg:"plain"},{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"banner-inner active__mask",attrs:{"aria-label":t.item.ariaLabel||"活动入口"},on:{click:function(e){return e.stopPropagation(),t.onTapBanner.apply(null,arguments)}}},[t.button?i("ui-button",{staticClass:"activity-button",class:null===t.buttonType?"special-button-background":"",attrs:{type:t.button.buttonType||5},on:{click:function(e){return e.stopPropagation(),t.onTapButton.apply(null,arguments)}}},[t._v("\n      "+t._s(t.button.title)+"\n    ")]):t._e()],1)]):t._e()}),[],!1,null,"3002ba1d",null).exports),Vt={components:{"v-mask":i(480).a},mixins:[h.m],props:{pos:{type:Number,default:0},typePos:{type:Number,default:0},block:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},methods:{tap:function(){var t=this;t.M_go(t.item),h.f.teach.reportCommonClick({blockType:t.block.type,blockId:t.block.id||"",blockWord:t.block.title,blockExpand:t.block.expand||"",blockIndex:t.typePos,itemId:t.item.id,itemWord:t.item.title,itemExpand:t.item.expand||"",itemIndex:t.pos+1})}}},Kt=(i(1499),{components:{thisVideo:Object(I.a)(Vt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"teach__video active__mask",attrs:{"data-expose-id":t.item.id},on:{click:t.tap}},[i("ui-image",{staticClass:"image",attrs:{url:t.item.imageData&&t.item.imageData.url||t.item.image}}),i("v-mask",{attrs:{text:t.item.likeNum||t.item.duration,size:36,like:!!t.item.likeNum,"no-icon":t.item.noPlayIcon}}),i("div",{staticClass:"gradient"}),i("div",{staticClass:"title ellipsis_2",attrs:{role:"link"}},[i("span",{attrs:{role:"option"},domProps:{innerHTML:t._s(t.xss(t.item.title))}})])],1)}),[],!1,null,"0f8aef27",null).exports,horizontalScroll:i(814).a},props:{block:{type:Object,default:function(){return{}}},blockList:{type:Array,default:function(){return[]}},type:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{collapse:!1}},computed:{hasLive:function(){return this.blockList.filter((function(t){return!!(t.type===tt.a.teachType.LIVE_SUBSCRIBE&&t.items&&t.items.length>0)})).length>0}},mounted:function(){this.hasLive&&(this.collapse=!0)},methods:{scroll:function(){this.$emit("scroll")},onClickCollapse:function(){var t=this;this.collapse=!this.collapse,setTimeout((function(){t.$emit("scroll")}),100)}}}),Zt=(i(1500),Object(I.a)(Kt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vs",class:t.collapse?"collapse":""},[t.block.title?i("p",{staticClass:"teach__title"},[i("span",[t._v(t._s(t.block.title))]),i("span",{staticClass:"collapse-btn",on:{click:t.onClickCollapse}},[i("ui-arrow",{attrs:{size:"big"}})],1)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.collapse,expression:"!collapse"}],staticClass:"videos"},[i("horizontalScroll",{attrs:{list:t.block.items,gap:8,width:"42%"},on:{scroll:t.scroll},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,o=e.index;return[i("thisVideo",{attrs:{block:t.block,item:n,pos:o,"type-pos":t.typePos}})]}}])})],1)])}),[],!1,null,"151d698c",null).exports),Xt={name:"SectionHeader",props:{config:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{}},Qt=(i(1501),Object(I.a)(Xt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-header"},[e("span",{staticClass:"section-header-title",attrs:{role:"option"}},[this._v(this._s(this.config.title))]),this._t("default")],2)}),[],!1,null,"638ff048",null).exports),Jt={name:"Arrow",props:{direction:{type:String,default:"right"},size:{type:[Number,String],default:""},gap:{type:[Number,Boolean],default:!1},align:{type:String,default:"inline"},ariaHidden:{type:Boolean,default:!0}},computed:{scaleRatio:function(){switch(!0){case"number"==typeof this.size:return this.size/24;case"big"===this.size:return 1;case"small"===this.size:return 16/24;default:return 20/24}},arrowClass:function(){return{"local-arrow-align-inline":"inline"===this.align,"local-arrow-align-flex":"flex"===this.align}},arrowGap:function(){if(!1===this.gap)return null;var t=!0===this.gap?4:this.gap;return"inline"===this.align?t-3:t}},methods:{}},te=(i(1502),Object(I.a)(Jt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"arrow-wrap"},["up"===t.direction||"down"===t.direction?i("div",{staticClass:"local-arrow",class:t.arrowClass,style:{marginLeft:t.arrowGap+"px",width:1.5*t.scaleRatio+"rem",height:.75*t.scaleRatio+"rem"},attrs:{"aria-hidden":t.ariaHidden}},[i("svg",{staticClass:"local-arrow-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 12"}},[i("path",{attrs:{d:"M17.42 2.454l1.06 1.06-5.779 5.78a.996.996 0 01-1.413 0L5.51 3.514l1.061-1.06 5.425 5.425 5.424-5.425z",transform:"up"===t.direction?"rotate(180 12 6)":"",fill:"currentColor","fill-rule":"evenodd"}})])]):i("div",{staticClass:"local-arrow",class:t.arrowClass,style:{marginLeft:t.arrowGap+"px",width:.75*t.scaleRatio+"rem",height:t.scaleRatio+"rem"},attrs:{"aria-hidden":t.ariaHidden}},[i("svg",{staticClass:"local-arrow-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 16"}},[i("path",{attrs:{d:"M2.454 2.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061L7.88 8.005 2.454 2.581z",transform:"left"===t.direction?"rotate(180 6 8)":"",fill:"currentColor","fill-rule":"evenodd"}})])])])}),[],!1,null,"923ab852",null).exports),ee={components:{Arrow:te},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:-1},isEditting:{type:Boolean,default:!1},isShowClockIcon:{type:Boolean,default:!1}},data:function(){return{}},methods:{onTapItem:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(this.$el),this.isEditting?this.$emit.apply(this,["tap-delete"].concat(e)):this.$emit.apply(this,["tap-search"].concat(e))}}};i(1698);function ie(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ne(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ie(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var oe={components:{SectionHeader:Qt,HistoryItem:Object(I.a)(ee,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history__item",class:{"edit-mask":t.isEditting,active__mask:!t.isEditting,active__item:t.isEditting},attrs:{role:t.isEditting?"button":"link"},on:{click:function(e){return e.stopPropagation(),function(e){return t.onTapItem(t.item,t.index,e)}.apply(null,arguments)}}},[i("svg-icon",{staticClass:"history__item__icon",attrs:{name:"clock"}}),i("span",{staticClass:"history__item__text",class:{delete:t.isEditting}},[t._v(t._s(t.item.hotword))]),t.isEditting?i("div",{staticClass:"history__item__delete",attrs:{"aria-hidden":"true"}},[i("i",{staticClass:"weui-icon-close-thin history__item__delete-icon"})]):t.item.hideArrow?t._e():i("arrow",{attrs:{direction:"right",size:12,gap:4,align:"flex"}})],1)}),[],!1,null,"60634632",null).exports,Arrow:te},mixins:[h.m,h.k,P.a],props:["block","typePos"],data:function(){return{historys:[],showCount:6,isCompletd:!1,isEditHistory:!1,isFold:!0,isShowEmpty:!1,histroySubscripttionsIsHideKey:tt.a.teachPermanentKeyEnum.histroySubscripttionsIsHideKey,isHide:!1}},computed:ne(ne({},Object(j.c)({requestId:function(t){return t.teach.requestId}})),{},{historyItems:function(){return this.isFold&&!this.isEditHistory?this.historys.slice(0,this.showCountConfig):this.historys},isWhiteBgStyle:function(){return 1==this.block.style},showCountConfig:function(){return this.block.showCountConfig?this.block.showCountConfig:6},isBizUnionTop:function(){return h.b.scene==f.e.BIZ_UNION_TOP},isHideFeedbackIcon:function(){return h.b.scene==f.e.HOME_TOP_ENTRY},emptyText:function(){return h.b.scene==f.e.HOME_TOP_ENTRY?"没有搜索历史内容":"没有最近在搜内容"}}),watch:{block:{handler:function(t){if(t){this.showCount=this.showCountConfig;var e=t.items||[];this.historys=e,this.isFold=e.length>this.showCountConfig,this.isEditHistory=!1,this.isShowEmpty=!1,this.isCompletd=!0}},immediate:!0}},created:function(){this.checkIsHide()},methods:{onTap:function(t,e,i){try{var n=this,o=t.hotword;t.opType=t.optype||t.opType||f.c.search,h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),h.f.teach.reportCommonNewClick({searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId.replace(/^block:/,""),docInfo:t.vueItemId.replace(/^item:/,"")}),Object(E.b)(h.l.subscriptions.historyClick,{rate:1}),this.M_clickReportFor26897(t,e+1,{actionId:{1:3004,4:3002}[parseInt(t.opType)]});var a=n.M_composeParentSid({t:n.block.parenttype||f.p.TEACH_SUBSCRIPTIONS_HISTORY,s:n.$store.state.teach.recommendId,did:t.hotword,rid:n.requestId});if(n.block.jumpInfo){var s={};n.block.jumpInfo.forbidTeachData&&(s.extParams=Object.assign(s.extParams||{},{forbidTeachData:n.block.jumpInfo.forbidTeachData})),this.M_go({jumpInfo:Object.assign(s,ne(ne({},n.block.jumpInfo),{},{query:o,parentSearchID:a}))})}else 1==t.opType?n.M_checkSpecialSearchBeforeLaunchNewSearch({query:o,callback:function(){h.g.setSearchInputWord({query:o,isInputChange:!1}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:o,searchId:"",extReqParams:{key:"parentSearchID",textValue:a}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:a}]}}):4==t.opType&&n.M_startDetail({type:2,jumpUrl:t.jumpUrl})}catch(t){}},tapDelete:function(t,e,i){h.g.reportRealTime({scene:h.b.scene,recommendId:this.$store.state.teach.recommendId,businessType:h.b.type,docId:t.hotword,docPos:e,typePos:this.typePos,isHomePage:0,sceneActionType:h.b.sceneActionType}),this.reportFeatureClick(5),this.M_clickReportFor26897(t,e+1,{actionId:f.g.CLICK_DELETE}),this.$store.commit("teach/deleteData",{dataIdx:this.typePos-1,itemIdx:e}),this.checkIsEmptyForDel()},checkIsEmptyForDel:function(){h.b.scene!=f.e.FINDER_INNER_SEARCH&&(this.isShowEmpty=!this.historys.length)},tapClear:function(t){h.f.teach.reportCommonClick({isDelete:2,blockId:"删除所有历史",blockWord:this.block.deleteWord,blockExpand:this.block.expand,blockIndex:this.typePos}),this.reportFeatureClick(6),this.M_clickReportFor26897("",0,{actionId:f.g.CLICK_CLEAR}),this.$store.commit("teach/clearData",{isDelete:!1,dataIdx:this.typePos-1}),this.checkIsEmptyForDel()},onTapExpand:function(t){var e=this.isFold;this.reportFeatureClick(this.isFold?7:8),this.isFold=!this.isFold,this.M_clickReportFor26897("",0,{actionId:e?f.g.CLICK_UNFOLD:f.g.CLICK_FOLD})},onTapEditHistory:function(){this.isEditHistory=!0,this.showCount=this.historys.length,this.M_clickReportFor26897("",0,{actionId:f.g.CLICK_EDIT})},onTapFinish:function(){this.isEditHistory=!1,this.isFold&&this.historys.length>this.showCountConfig&&(this.showCount=this.showCountConfig),this.M_clickReportFor26897("",0,{actionId:f.g.CLICK_EDIT_FINISH})},checkIsHide:function(){var t=this;return c()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.b.scene!=f.e.FINDER_INNER_SEARCH){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h.e.get({key:t.histroySubscripttionsIsHideKey});case 4:t.isHide=e.sent;case 5:case"end":return e.stop()}}),e)})))()},onTapHide:function(t){this.reportFeatureClick(9),this.isHide=!0,this.$refs.popOver.hide(),h.e.set({key:this.histroySubscripttionsIsHideKey,value:1}),this.M_clickReportFor26897("",0,{actionId:f.g.CONFIRM_CHANGE_CODE})},reportFeatureClick:function(t){h.f.teach.reportFeatureBtnClick({featureInfo:t,actionId:2,searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId.replace(/^block:/,""),businessType:h.b.type})},handleShowPop:function(){this.M_clickReportFor26897("",0,{actionId:f.g.CLICK_SHOW_DIALOG}),this.reportFeatureClick(12)}}},ae=(i(1504),Object(I.a)(oe,(function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return e.isHide||!e.isShowEmpty&&!e.historys.length?e._e():n("div",{staticClass:"history-subscriptions-box",class:{"white-bg":e.isWhiteBgStyle,biz_union_top:e.isBizUnionTop},attrs:{"data-teach-report-id":"his-"+e.block.vueBlockId}},[n("section-header",{attrs:{config:{title:e.block.title}}},[e.historys.length?n("div",{staticClass:"history-header"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditHistory,expression:"!isEditHistory"}],staticClass:"history-header__action"},[e.historys.length>e.showCountConfig?[n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"fold-wrap active__mask",attrs:{role:"button","data-teach-report-id":"his-feature:"+(e.isFold?7:8)+"@"+e.block.vueBlockId},on:{click:function(t){return t.stopPropagation(),e.onTapExpand.apply(null,arguments)}}},[n("span",[e._v(e._s(e.isFold?"展开":"收起"))]),n("arrow",{attrs:{direction:e.isFold?"down":"up",size:16,align:"flex"}})],1),n("div",{staticClass:"split-line"})]:e._e(),n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history-header__action__icon active__mask",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.onTapEditHistory.apply(null,arguments)}}},[n("svg-icon",{staticClass:"delete-icon",attrs:{name:"trashcan"}})],1)],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditHistory,expression:"isEditHistory"}],staticClass:"history-header__action editing-mode"},[n("span",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history-header__action__link active__link",attrs:{role:"button","data-teach-report-id":"his-feature:6@"+e.block.vueBlockId},on:{click:function(t){return t.stopPropagation(),e.tapClear.apply(null,arguments)}}},[e._v("清空")]),n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history-header__action__button",class:(t={},t["style-"+e.block.editBtnStyle]=e.block.editBtnStyle,t),attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.onTapFinish.apply(null,arguments)}}},[e._v("完成")])])]):e.isShowEmpty&&!e.isHideFeedbackIcon?n("PopOver",{ref:"popOver",staticClass:"feedback-wrap history-subscriptions-feedback-wrap",attrs:{"class-name":"history-subscriptions-feedback-pop-over","dialog-style":{background:"transparent"},"spacing-h":16,"spacing-v":8},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history-header__action__icon feedback active__mask",attrs:{"data-teach-report-id":"his-feature:12@"+e.block.vueBlockId},on:{click:e.handleShowPop}},[n("svg-icon",{staticClass:"negative-btn",attrs:{name:"negative-btn"}})],1)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"pop-content",attrs:{"data-teach-report-id":"his-feature:9@"+e.block.vueBlockId},on:{click:function(t){return t.stopPropagation(),e.onTapHide.apply(null,arguments)},touchmove:function(t){t.preventDefault()}}},[e._v("\n          不再展示\n        ")])]},proxy:!0}],null,!1,3385759999)}):e._e()],1),e.historys.length?n("div",{staticClass:"history-list"},e._l(e.historyItems,(function(t,i){return n("history-item",{key:i,staticClass:"history-list-item",attrs:{"data-index":i,"data-new-teach-report-id":""+e.M_getItemReportId(t,i+1),"data-teach-report-id":e.isEditHistory?"his-feature:5@"+e.block.vueBlockId:"his-"+t.vueItemId+"@"+e.block.vueBlockId,"is-show-clock-icon":e.isBizUnionTop,"is-editting":e.isEditHistory,item:t,index:i},on:{"tap-search":e.onTap,"tap-delete":e.tapDelete}})})),1):n("div",{staticClass:"history-empty"},[n("p",[e._v(e._s(e.emptyText))])])],1)}),[],!1,null,null,null).exports),se={components:{Arrow:te},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:-1}},methods:{onTapItem:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(this.$el),this.$emit.apply(this,["tap-search"].concat(e))}}};i(1505);function re(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ce(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?re(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):re(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var le={name:"RecommendBlock",components:{SectionHeader:Qt,RecommendItem:Object(I.a)(se,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"rmd__item active__mask",attrs:{role:"link"},on:{click:function(e){return e.stopPropagation(),t.onTapItem(t.item,t.index)}}},[t.item.showText?i("span",{staticClass:"rmd__item__text",domProps:{innerHTML:t._s(t.item.showText)}}):i("span",{staticClass:"rmd__item__text"},[t._v(t._s(t.item.hotword))]),t.item.tags&&t.item.tags.length?i("ui-tags",{staticClass:"rmd__item__tags",attrs:{tags:t.item.tags}}):t._e(),t.item.hideArrow?t._e():i("arrow",{attrs:{direction:"right",size:12,gap:4,align:"flex"}})],1)}),[],!1,null,"258240b3",null).exports},mixins:[h.m,h.k,P.a],props:["block","typePos"],data:function(){return{}},computed:ce(ce({},Object(j.c)({requestId:function(t){return t.teach.requestId}})),{},{items:function(){return this.items||[]},isWhiteBgStyle:function(){return 1==this.block.style}}),watch:{},created:function(){var t=this;h.b.scene==f.e.BIZ_UNION_TOP&&S.a.$on(S.b.TEACH_NEW_EXPOSE,(function(e){var i=e.reportMap,n=void 0===i?{}:i;e.isCache||Object.keys(n).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=e.split("|"),a=o()(i,3),s=(a[0],a[1]),r=void 0===s?"":s;a[2];if(r==tt.a.teachType.RECOMMEND_BOX){var c=(n[e]||[]).map((function(t){var e=t.split("|"),i=o()(e,3),n=(i[0],i[1],i[2]);return{hotword:decodeURIComponent(void 0===n?"":n),timestamp:Date.now(),type:"expose"}}));t.$store.commit("teach/updateHotwordActionsMap",c)}}))}))},methods:{buildReportItem:function(t){return ce(ce({},t),{},{docPullType:t.source||""})},onTapSearch:function(t,e,i){if(this.M_clickReportFor26897(this.buildReportItem(t),e+1,{actionId:3004}),h.b.scene==f.e.BIZ_UNION_TOP){var n=this.M_getItemReportId(this.buildReportItem(t),e+1,{actionId:3004}).split("$$"),a=o()(n,2),s=(a[0],a[1]),r=null==s?void 0:s.split("|")[2];this.$store.commit("teach/updateHotwordActionsMap",[{hotword:decodeURIComponent(r),timestamp:Date.now(),type:"click"}])}var c=[{key:"parentSearchID",textValue:this.M_composeParentSid({t:this.block.parenttype||f.p.TEACH_SUBSCRIPTIONS_RECOMMEND,s:this.$store.state.teach.recommendId,did:t.id||t.hotword,rid:this.requestId})}];t.mixerCommonContext&&c.push({key:"mixerCommonContext",textValue:t.mixerCommonContext}),h.h.setInputBar({query:t.hotword,isInputChange:!1}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:t.hotword,searchId:"",isForbidHistory:h.b.scene==f.e.BIZ_UNION_TOP,extReqParams:c}),Object(E.b)(h.l.subscriptions.recommendClick,{rate:1}),h.f.teach.reportCommonNewClick({searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId.replace(/^block:/,""),docInfo:t.vueItemId.replace(/^item:/,"")})}}},ue=(i(1863),Object(I.a)(le,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.block&&t.block.items.length?i("div",{staticClass:"recommend-box",class:{"white-bg":t.isWhiteBgStyle},attrs:{"data-teach-report-id":"rmd-"+t.block.vueBlockId}},[t.block.title?i("section-header",{attrs:{config:{title:t.block.title}}}):t._e(),i("div",{staticClass:"recommend-list"},t._l(t.block.items,(function(e,n){return i("recommend-item",{key:e.id,staticClass:"recommend-list-item",attrs:{"data-teach-report-id":"rmd-"+e.vueItemId+"@"+t.block.vueBlockId,"data-new-teach-report-id":""+t.M_getItemReportId(t.buildReportItem(e),n+1),item:e,index:n},on:{"tap-search":t.onTapSearch}})})),1)],1):t._e()}),[],!1,null,"725eea14",null).exports);function de(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function pe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?de(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):de(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var he={components:{SectionHeader:Qt},mixins:[h.k,h.m,P.a],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},computed:pe(pe({},Object(j.c)({requestId:function(t){return t.teach.requestId}})),{},{useOtherBgImage:function(){return this.block.bgImage&&"https://res.wx.qq.com/t/fed_upload/875b4503-d33b-4319-b8e2-2e2e78554e53/ershida_light.png"!=this.block.bgImage?this.block.bgImage:""}}),methods:{tap:function(t,e){if(h.f.teach.reportCommonNewClick({searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId.replace(/^block:/,""),docInfo:t.vueItemId.replace(/^item:/,"")}),t.mixerCommonContext){this.M_clickReportFor26897(t,e+1,{actionId:3004});var i=[{key:"parentSearchID",textValue:this.M_composeParentSid({t:this.block.parenttype||f.p.FINDER_GUIDE_HOT_WORD,s:this.$store.state.teach.recommendId,did:t.id||t.hotword,rid:this.requestId})},{key:"mixerCommonContext",textValue:t.mixerCommonContext}];h.h.setInputBar({query:t.hotword,isInputChange:!1}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:t.hotword,searchId:"",extReqParams:i,isForbidHistory:!0})}else this.M_clickReportFor26897(t,e+1,{actionId:3009}),h.h.openFinderSearchView({allSearchWord:this.block.items.map((function(t){return{action_type:1,hotword_id:t.id,hotword_text:t.hotword,session_buffer:t.finderSessionBuffer}})),selectIndex:e,scene:"0",reportInfo:""})}}},fe=(i(1658),Object(I.a)(he,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"finder-hot-list",class:{"fade-line":!!t.block.bgImage},attrs:{"data-teach-report-id":"finder-"+t.block.vueBlockId}},[t.useOtherBgImage?i("div",{directives:[{name:"image",rawName:"v-image:raw",value:t.useOtherBgImage,expression:"useOtherBgImage",arg:"raw"}],staticClass:"bg"}):t.block.bgImage?i("div",{staticClass:"bg static"}):t._e(),t.block.title?i("section-header",{attrs:{config:{title:t.block.title}}}):t._e(),i("div",{staticClass:"hot-list"},t._l(t.block.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.hotword,staticClass:"hot-item",attrs:{"data-expose-id":e.hotword,role:"button","data-teach-report-id":"finder-"+e.vueItemId+"@"+t.block.vueBlockId,"data-new-teach-report-id":""+t.M_getItemReportId(e,n+1)},on:{click:function(i){return t.tap(e,n)}}},[i("div",{staticClass:"hot-item__word"},[t._v("\n        "+t._s(e.hotword)+"\n      ")]),e.tags&&e.tags.length?i("ui-tags",{staticClass:"hot-item__tag",attrs:{tags:e.tags,flex:"","no-bg":""}}):t._e()],1)})),0)],1)}),[],!1,null,"66a03b06",null).exports);function me(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var be={components:{SectionHeader:Qt},mixins:[h.k,h.m,P.a],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{recommendTagMap:{}}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?me(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):me(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(j.c)({requestId:function(t){return t.teach.requestId},isCache:function(t){return t.teach.teachData.isCache}})),watch:{"block.items":{handler:function(){this.getRecommendTags()},immediate:!0}},created:function(){Object(E.b)(h.l.subscriptions.bizHotListExpose,{rate:1,isSessionOnly:!0})},methods:{tap:function(t,e){this.M_clickReportFor26897(t,e+1),Object(E.b)(h.l.subscriptions.bizHotListClick,{rate:1}),this.M_go(t)},getRecommendTags:function(){var t=this;this.isCache||h.h.getCommonCgiData({cgiName:H.a.getMPRecommendReason,data:{items:this.block.items.map((function(t){return{bizuin:t.bizuin,msgid:t.msgid,idx:t.idx}}))}}).then((function(e){var i=e.items,n=void 0===i?[]:i;n.length&&(t.recommendTagMap=n.reduce((function(t,e){return t["".concat(e.bizuin,"_").concat(e.msgid,"_").concat(e.idx)]=[e.recommend_reason],t}),{}))})).catch((function(t){return console.error(t)}))},renderRecommendTags:function(t){var e="".concat(t.bizuin,"_").concat(t.msgid,"_").concat(t.idx);return this.recommendTagMap[e]||[]}}},_e=(i(1508),Object(I.a)(be,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"biz-hot-list"},[t.block.title?i("section-header",{attrs:{config:{title:t.block.title}}}):t._e(),i("div",{staticClass:"hot-list"},t._l(t.block.items,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.hotword_id,staticClass:"hot-item active__item",attrs:{"data-expose-id":e.hotword_id,role:"button","data-new-teach-report-id":""+t.M_getItemReportId(e,n+1)},on:{click:function(i){return t.tap(e,n)}}},[i("div",{staticClass:"hot-item__word"},[t._v("\n        "+t._s(e.hotword)+"\n      ")]),i("div",{staticClass:"source-wrap"},[e.source?i("ui-source",{attrs:{title:e.source.title}}):t._e(),t.renderRecommendTags(e).length?i("ui-tags",{staticClass:"hot-item__tag",attrs:{tags:t.renderRecommendTags(e),"no-bg":"",flex:""}}):t._e()],1)])})),0)],1)}),[],!1,null,"91ce3e92",null).exports);function ve(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ye(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ve(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ge,Ie,we={props:["block"],data:function(){return{}},computed:{items:function(){return this.block.items}},methods:{onTap:function(t,e){var i={};t.ftsNeedHideKeyBoard&&(i.ftsNeedHideKeyBoard=t.ftsNeedHideKeyBoard),this.M_go(ye(ye({},this.item),{},{jumpInfo:ye({jumpType:f.h.jumpType.VERTICAL,type:t.businessType,newSearchType:f.h.searchType.TAB,isHomePage:1,scene:f.h.scene.VERTICAL},i)}))}}},ke=(i(1509),Object(I.a)(we,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hotsearchivew-entries-wrap"},[i("div",{staticClass:"title"},[t._v("搜索指定内容")]),t.items.length?i("div",{staticClass:"list"},t._l(t.items,(function(e,n){return i("label",{key:e.hotword,staticClass:"item",attrs:{"data-expose-id":"__vertEntries__$"+e.businessType+"$"+n+"$"+e.hotword,role:"button"},on:{click:function(i){return t.onTap(e,n+1)}}},[t._v("\n      "+t._s(e.hotword)+"\n    ")])})),0):t._e()])}),[],!1,null,"4497ef1a",null).exports),Ce=i(652);function Oe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function xe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Te=[(new Date).getFullYear(),-1,-1],Ee={mixins:[h.m,h.k,P.a],props:["block","typePos"],data:function(){return{datePicker:null,startYear:(new Date).getFullYear()-2,endYear:(new Date).getFullYear(),bizFilterisHideReadFilterKey:"BIZ_FILTER_IS_HIDE_READ_FILTER_KEY"}},computed:xe(xe({},Object(j.c)({requestId:function(t){return t.teach.requestId}})),{},{items:function(){return 1===this.block.switchStatus?[{hotword:"指定发布时间",value:"dateFilter"}]:[{hotword:"最近读过",value:"readFilter"},{hotword:"指定发布时间",value:"dateFilter"}]}}),created:function(){ge=+new Date,A.b.onInputChange(this.hide),A.b.onInputConfirm(this.hide),S.a.$on(S.b.REAL_SWITCH_TAB,this.hide),S.a.$on(S.b.APP_VIEW_CHANGED,this.hide)},methods:{_reset:function(){this.$store.commit({type:"result/sift/updateFilter",filter:{}}),this.$store.commit({type:"clearFilterExt"})},onTap:function(t,e){switch(t.value){case"readFilter":this.handleSelectRead(t,e);break;case"dateFilter":this.handleSelectDate(t,e)}},handleSelectRead:function(t,e){this.M_clickReportFor26897(t,e,{actionId:3004}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:"EMPTY_QUERY_PLACEHOLDER",searchId:h.b.searchId,extReqParams:{key:"parentSearchID",textValue:this.M_composeParentSid({t:f.p.BIZ_FILER,s:"",did:"filter",rid:""})},filter:[{key:"docSuperType",textValue:JSON.stringify(["3"])}]})},handleSelectDate:function(t,e){this._showTimePicker(t,e)},hide:function(){Ie&&Ie.hide()},_showTimePicker:function(t,e){var i=this;i.M_clickReportFor26897(t,e,{actionId:3406}),Ie=Object(Ce.a)({id:ge,defaultValue:Te,canNoLimit:[0,1,1],className:"biz-filters-picker",onClose:function(){i.M_clickReportFor26897(t,e,{actionId:3405})},onConfirm:function(n){var o;if(i.M_clickReportFor26897(t,e,{actionId:3404}),h.f.reportJumpType({subType:i.M_getBlockType(),pageType:f.o.TEACH,docId:encodeURIComponent(t.hotword),clickType:2,jumpType:4,newSearchType:f.t.DOC_SEARCH}),n&&-1!=n[0].value){var a,s,r=n[0].value,c=n[1].value,l=n[2].value;-1==c?(a=new Date(r,0).getTime()/1e3,s=(new Date(r+1,0).getTime()-1)/1e3):-1==l?(a=new Date(r,c).getTime()/1e3,s=(new Date(r,c+1).getTime()-1)/1e3):(a=new Date(r,c,l).getTime()/1e3,s=(new Date(r,c,l+1).getTime()-1)/1e3),o={from:a,to:s},S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:"EMPTY_QUERY_PLACEHOLDER",searchId:h.b.searchId,extReqParams:{key:"parentSearchID",textValue:i.M_composeParentSid({t:f.p.BIZ_FILER,s:"",did:"filter",rid:""})},filter:[{key:"docPubTime",textValue:"".concat(o.from,",").concat(Number(o.to).toFixed(0))}]})}else i.$store.commit({type:"updateFilterExt",extReqParams:[{key:"docPubTime",textValue:""}]}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:"EMPTY_QUERY_PLACEHOLDER",searchId:h.b.searchId,extReqParams:{key:"parentSearchID",textValue:i.M_composeParentSid({t:f.p.BIZ_FILER,s:"",did:"filter",rid:""})}})}});var n=document.querySelector(".biz-filters-picker");n&&n.addEventListener("touchmove",(function(t){t.stopPropagation(),t.preventDefault()}))}}},Se=(i(1510),Object(I.a)(Ee,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"biz-filters"},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),i("ui-column",{attrs:{col:2,list:t.items},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,o=e.index;return[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"biz-filters-wrapper active__link",attrs:{"data-hotword":n.hotword,"data-index":o,role:"button","data-new-teach-report-id":""+t.M_getItemReportId(n,o+1)},on:{click:function(e){return t.onTap(n,o+1)}}},[i("span",{staticClass:"biz-filter-item",domProps:{innerHTML:t._s(t.xss(n.hotword))}})])]}}])})],1)}),[],!1,null,"054377e5",null).exports);function je(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Pe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?je(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):je(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Re={components:{HistoryClearItem:R.a,HistoryItem:T.a,Arrow:te},mixins:[h.m,h.k,P.a],props:["block","typePos"],data:function(){return{historys:[],showCount:10,isFold:!0,hiddenItemIdx:0,isRender:!0}},computed:Pe(Pe({},Object(j.c)({requestId:function(t){return t.teach.requestId}})),{},{historyItems:function(){return this.isFold?this.historys.slice(0,this.showCountConfig):this.historys},isShowFoldBtn:function(){return!!this.hiddenItemIdx},isWhiteBgStyle:function(){return!0},showCountConfig:function(){return this.block.showCountConfig?this.block.showCountConfig:10}}),watch:{block:{handler:function(t){var e=this;if(t){this.showCount=this.showCountConfig;var i=t.items||[];this.historys=i,1===this.historys.length&&(this.isFold=!1),this.$nextTick((function(){e.autoFold()}))}},immediate:!0}},created:function(){this.historys.length&&Object(E.b)(h.l.subscriptions.historyExpose,{rate:1,isSessionOnly:!0})},mounted:function(){},methods:{autoFold:function(){var t=this;if(this.isFold){var e=this.$el.querySelector(".history-list-fold-wrap");e&&(this.hiddenItemIdx=0,this.isRender=!0,this.$nextTick((function(){t.hiddenItemIdx=function(t){var e=0,i=t.getBoundingClientRect().right,n=void 0===i?0:i,o=document.querySelectorAll(".history__item")||[];if(o.length)for(var a=0;a<o.length;a++){var s=o[a].getBoundingClientRect().right,r=void 0===s?0:s;if("right: ".concat(r,", wrapRight: ").concat(n),r+16>n){e=a;break}}return e}(e),t.isRender=!1})))}},isEllipsis:function(t,e){return e>0&&t.length>2},buildHotWord:function(t,e){return t.length>7?"".concat(t.slice(0,6),"..."):t},buildReportItem:function(t){return Pe(Pe({},t),{},{docType:this.isFold?"fold_title":"title"})},onTap:function(t,e){try{var i=this,n=t.hotword;if(t.opType=t.optype||t.opType||f.c.search,Object(E.b)(h.l.subscriptions.historyClick,{rate:1}),this.M_clickReportFor26897(this.buildReportItem(t),e+1,{actionId:{1:3004,4:3002}[parseInt(t.opType)]}),1==t.opType){var o=i.M_composeParentSid({t:i.block.parenttype||f.p.TEACH_SUBSCRIPTIONS_HISTORY,s:i.$store.state.teach.recommendId,did:t.hotword,rid:i.requestId});i.M_checkSpecialSearchBeforeLaunchNewSearch({query:n,callback:function(){h.g.setSearchInputWord({query:n,isInputChange:!1}),S.a.$emit(S.b.GOTO,{page:f.f.RESULT,query:n,searchId:"",extReqParams:{key:"parentSearchID",textValue:o}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:o}]}})}else 4==t.opType&&i.M_startDetail({type:2,jumpUrl:t.jumpUrl})}catch(t){}},tapDelete:function(t,e){h.g.reportRealTime({scene:h.b.scene,recommendId:this.$store.state.teach.recommendId,businessType:h.b.type,docId:t.hotword,docPos:e,typePos:this.typePos,isHomePage:0,sceneActionType:h.b.sceneActionType}),this.M_clickReportFor26897(this.buildReportItem(t),e+1,{actionId:f.g.CLICK_DELETE}),this.$store.commit("teach/deleteData",{dataIdx:this.typePos-1,itemIdx:e}),this.historyItems.length||this.$store.commit("teach/clearData",{isDelete:!0,dataIdx:this.typePos-1})},onTapExpand:function(t){var e=this,i=this.isFold;this.isFold=!this.isFold,this.$nextTick((function(){e.autoFold()})),this.M_clickReportFor26897("",0,{actionId:i?f.g.CLICK_UNFOLD:f.g.CLICK_FOLD})}}},De=(i(1909),Object(I.a)(Re,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.historys.length?i("div",{staticClass:"mini-history-box",class:{"white-bg":t.isWhiteBgStyle}},[t.historys.length&&t.isFold?i("div",{staticClass:"history-list"},[i("div",{staticClass:"history-list-wrap"},[i("div",{staticClass:"history-list-fold-wrap"},t._l(t.historyItems,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:n,staticClass:"history__item active__mask",class:{},style:{display:t.hiddenItemIdx&&n>t.hiddenItemIdx-1?"none":"",opacity:t.isRender&&n>1?0:1},attrs:{"data-new-teach-report-id":""+t.M_getItemReportId(t.buildReportItem(e),n+1),role:"link"},on:{click:function(i){return i.stopPropagation(),function(i){return t.onTap(e,n,i)}.apply(null,arguments)}}},[i("svg-icon",{staticClass:"history__item__icon",attrs:{name:"clock"}}),i("span",{staticClass:"history__item__text"},[t._v(t._s(t.buildHotWord(e.hotword,n)))])],1)})),0),i("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"history__item__fold active__mask",on:{click:t.onTapExpand}},[t._v("展开\n        "),i("arrow",{staticClass:"history__item__fold-arrow",attrs:{direction:"down",size:20,gap:4}})],1)])]):t._e(),t.historys.length&&!t.isFold?i("div",{staticClass:"history-box__bd"},[t._l(t.block.items,(function(e,n){return i("history-item",{key:n,staticClass:"history-box__item",attrs:{title:e.hotword,"has-delete":!!e.deletable,"data-index":n,"data-expose-id":e.id,"data-new-teach-report-id":""+t.M_getItemReportId(e,n+1)},on:{tap:function(i){return t.onTap(e,n)},"tap:delete":function(i){return t.tapDelete(e,n)}}})})),t.block.items.length>1?i("history-clear-item",{attrs:{"hide-clear-icon":"",title:"收起"},nativeOn:{click:function(e){return t.onTapExpand.apply(null,arguments)}}},[i("arrow",{attrs:{direction:"up",size:20,gap:4}})],1):t._e()],2):t._e()]):t._e()}),[],!1,null,"d5a19c8e",null).exports),Ne=i(59);function Le(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function He(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Le(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ae={mixins:[h.k,h.m,P.a],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0},displayPos:{type:Number,default:0}},data:function(){return{gEnum:f.h}},computed:Object(j.c)({data:function(t){return t.teach.teachData}}),methods:{onTap:function(t,e){h.f.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id||"",blockWord:this.block.title,blockExpand:this.block.expand||"",blockIndex:this.displayPos,itemId:t.id,itemWord:t.appname,itemExpand:t.expand||"",itemIndex:e+1}),this.M_clickReportFor26897(He(He({},t),{},{jumpType:f.h.jumpType.WE_APP}),e+1),this.M_go({jumpInfo:{startWeAppScene:t.game_flag?1233:null,userName:t.userName||t.username||"",jumpType:2,gameFlag:t.game_flag}})}}},Me=(i(1512),Object(I.a)(Ae,(function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return e.block.games&&e.block.games.length?n("div",{staticClass:"popular-game teach__box_outer",class:(t={},t["popular-game-with-style-"+e.block.showType]=e.block.showType>=0,t)},[n("p",{staticClass:"teach__title"},[e._v(e._s(e.block.title))]),n("div",{staticClass:"popular-game-list teach__main"},e._l(e.block.games,(function(t,i){var o;return n("div",{directives:[{name:"active",rawName:"v-active"}],key:i,staticClass:"active__mask popular-game-list__item",class:(o={},o["game_item_with_style_"+(t.showType||e.block.showType)]=t.showType||e.block.showType,o),attrs:{"data-expose-id":t.appname||t.id||i,"data-new-teach-report-id":""+e.M_getItemReportId(Object.assign({},t,{jumpType:e.gEnum.jumpType.WE_APP}),i+1),role:"button"},on:{click:function(n){return e.onTap(t,i)}}},[t.icon_url?n("span",{staticClass:"thumb",style:{backgroundImage:"url("+t.icon_url+")"}}):e._e(),n("div",{staticClass:"info"},[t.appname?n("div",{staticClass:"info_name"},[e._v(e._s(t.appname))]):e._e(),t.label?n("div",{staticClass:"info_label"},[n("ui-tags",{attrs:{flex:"","align-vertical":"",tags:[t.label]}})],1):e._e()])])})),0)]):e._e()}),[],!1,null,"792b5f8b",null).exports),$e={props:{source:{type:Object,default:function(){return{}}}}},Be=(i(1513),Object(I.a)($e,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.source?i("div",{staticClass:"wefunc_source"},[i("div",{staticClass:"wefunc_source_info"},[t.source.appicon?i("span",{staticClass:"wefunc_source_info_thumb",style:{backgroundImage:"url("+t.source.appicon+")"}}):t._e(),t.source.appname?i("div",{staticClass:"wefunc_source_info_title"},[t._v(t._s(t.source.appname))]):t._e()]),i("div",{staticClass:"wefunc_source_operation"},[t._t("default")],2)]):t._e()}),[],!1,null,"5ed5759a",null).exports),Fe={props:{wefunc:{type:Object,default:function(){return{}}}}},We=(i(1514),Object(I.a)(Fe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"add-operation",class:{center:!t.wefunc.func_icon_list||!t.wefunc.func_icon_list.length}},[t.wefunc.add_icon?i("ui-image",{staticClass:"icon",attrs:{url:t.wefunc.add_icon}}):t._e(),t.wefunc.add_text?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.add_text))]):t._e(),t.wefunc.func_icon_list&&t.wefunc.func_icon_list.length?i("div",{staticClass:"list"},t._l(t.wefunc.func_icon_list,(function(t,e){return i("ui-image",{key:e,attrs:{url:t}})})),1):t._e(),t.wefunc.desc_text||t.wefunc.func_text?i("div",{staticClass:"desc"},[t.wefunc.func_text?i("div",{staticClass:"desc_name"},[t._v(t._s(t.wefunc.func_text))]):t._e(),t.wefunc.desc_text?i("div",{staticClass:"desc_count"},[t._v(t._s(t.wefunc.desc_text))]):t._e()]):t._e()],1):t._e()}),[],!1,null,"743e2c87",null).exports),qe={props:{wefunc:{type:Object,default:function(){return{}}}}},Ue=(i(1515),Object(I.a)(qe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"pure-text"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),t.wefunc.abstract?i("div",{staticClass:"abstract",class:{"has-desc":t.wefunc.desc}},[t._v(t._s(t.wefunc.abstract))]):t._e(),t.wefunc.desc?i("div",{staticClass:"desc"},[t._v(t._s(t.wefunc.desc))]):t._e()]):t._e()}),[],!1,null,"5cd19b9d",null).exports),Ge={props:{wefunc:{type:Object,default:function(){return{}}}}},ze=(i(1516),Object(I.a)(Ge,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"pure-text-with-icon"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),i("div",{staticClass:"info"},[t.wefunc.icon?i("ui-image",{staticClass:"info_icon",attrs:{url:t.wefunc.icon,mode:"plain",type:"img"}}):t._e(),t.wefunc.subtitle?i("div",{staticClass:"info_subtitle"},[t._v(t._s(t.wefunc.subtitle))]):t._e()],1),t.wefunc.desc?i("div",{staticClass:"desc"},[t._v(t._s(t.wefunc.desc))]):t._e()]):t._e()}),[],!1,null,"79b392b4",null).exports),Ye={props:["button"]},Ve=(i(1517),Object(I.a)(Ye,(function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return e.button&&e.button.type?n("div",{staticClass:"wefunc-button",class:(t={},t["button_with_style_"+e.button.type]=e.button.type,t)},[n("div",{staticClass:"wefunc-button_title"},[e._v(e._s(e.button.title))])]):e._e()}),[],!1,null,"1341ff46",null).exports),Ke={components:{wefuncButton:Ve},props:{wefunc:{type:Object,default:function(){return{}}}}},Ze=(i(1518),Object(I.a)(Ke,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"icon-title-with-action"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),i("div",{staticClass:"info"},[t.wefunc.icon?i("ui-image",{staticClass:"info_icon",attrs:{url:t.wefunc.icon,type:"img"}}):t._e(),t.wefunc.subtitle?i("div",{staticClass:"info_subtitle"},[t._v(t._s(t.wefunc.subtitle))]):t._e()],1),i("wefunc-button",{staticClass:"action",attrs:{button:t.wefunc.button}})],1):t._e()}),[],!1,null,"b8967ed6",null).exports),Xe={props:{wefunc:{type:Object,default:function(){return{}}}}},Qe=(i(1519),Object(I.a)(Xe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"pure-text-with-icon"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),i("div",{staticClass:"info"},[t.wefunc.icon?i("ui-image",{staticClass:"info_icon",attrs:{url:t.wefunc.icon,mode:"plain",type:"img"}}):t._e(),t.wefunc.subtitle?i("div",{staticClass:"info_subtitle"},[t._v(t._s(t.wefunc.subtitle))]):t._e()],1),t.wefunc.desc?i("div",{staticClass:"desc"},[t._v(t._s(t.wefunc.desc))]):t._e()]):t._e()}),[],!1,null,"0942060f",null).exports),Je={props:{colorfulText:{type:Object,default:function(){return{}}},fontSize:{type:Number,default:20},isBold:{type:Boolean,default:!1}},computed:{textStyle:function(){var t,e="var(--FG-0)";switch((null===(t=this.colorfulText)||void 0===t?void 0:t.type)||0){case 1:e="var(--RED)";break;case 2:e="var(--ORANGE)";break;case 3:e="var(--INDIGO)";break;case 4:e="var(--YELLOW)";break;case 5:e="var(--TEXTGREEN)"}return"font-size: ".concat(this.fontSize,"px; color: ").concat(e,";")}}},ti=(i(1520),Object(I.a)(Je,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.colorfulText&&null!=(t.colorfulText.title||t.colorfulText.value)?i("div",{staticClass:"wefunc-colorful-text",class:{bold:t.isBold},style:t.textStyle},[i("span",[t._v(t._s(t.colorfulText.title||t.colorfulText.value))]),t.colorfulText.withIcon?i("div",{staticClass:"wefunc-colorful-text__icon"},[t.colorfulText.descIcon?i("ui-image",{staticClass:"icon",attrs:{url:t.wefunc.descIcon,type:"img"}}):1==t.colorfulText.type?i("ui-image",{staticClass:"icon up",attrs:{url:"https://res.wx.qq.com/t/fed_upload/2544d6da-72a5-423b-bb54-d2de976d57f6/up.svg",type:"icon"}}):5==t.colorfulText.type?i("ui-image",{staticClass:"icon down",attrs:{url:"https://res.wx.qq.com/t/fed_upload/2e001c64-9344-43a1-ae27-7546138079d1/down.svg",type:"icon"}}):t._e()],1):t._e()]):t._e()}),[],!1,null,"a4dd0db0",null).exports),ei={components:{colorfulText:ti},props:{wefunc:{type:Object,default:function(){return{}}}},computed:{columnItemStyle:function(){var t;return null!==(t=this.wefunc.items)&&void 0!==t&&t.length?"width: calc(100% / ".concat(this.wefunc.items.length,");"):""}}},ii=(i(1769),Object(I.a)(ei,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"text-with-columns"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),t.wefunc.items&&t.wefunc.items.length?i("div",{staticClass:"columns"},t._l(t.wefunc.items,(function(e,n){return i("div",{key:n,staticClass:"columns-item",style:t.columnItemStyle},[i("colorful-text",{attrs:{"colorful-text":e,"is-bold":!0}}),e.desc?i("div",{staticClass:"columns-item-desc"},[t._v(t._s(e.desc))]):t._e()],1)})),0):t._e(),t.wefunc.desc?i("div",{staticClass:"desc"},[t._v(t._s(t.wefunc.desc))]):t._e()]):t._e()}),[],!1,null,"2c0bfca8",null).exports),ni={components:{wefuncButton:Ve},props:{wefunc:{type:Object,default:function(){return{}}}}},oi=(i(1522),Object(I.a)(ni,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"grey-title-with-action"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),i("div",{staticClass:"info"},[t.wefunc.subtitle?i("div",{staticClass:"info_subtitle"},[t._v(t._s(t.wefunc.subtitle))]):t._e()]),t.wefunc.desc?i("div",{staticClass:"desc"},[t._v(t._s(t.wefunc.desc))]):t._e(),i("wefunc-button",{staticClass:"action",attrs:{button:t.wefunc.button}})],1):t._e()}),[],!1,null,"e074c2fa",null).exports),ai={props:{wefunc:{type:Object,default:function(){return{}}}}},si=(i(1806),Object(I.a)(ai,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"title-with-big-icon"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),t.wefunc.icon?i("div",{staticClass:"info"},[i("div",{staticClass:"info_inner"},[i("div",{staticClass:"info_inner_icon"},[i("ui-image",{attrs:{url:t.wefunc.icon,type:"img"}})],1)])]):t._e()]):t._e()}),[],!1,null,"292c3ccc",null).exports),ri={props:{wefunc:{type:Object,default:function(){return{}}}}},ci=(i(1524),Object(I.a)(ri,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"title-with-icon-line"},[t.wefunc.subtitle?i("div",{staticClass:"subtitle"},[t._v(t._s(t.wefunc.subtitle))]):t._e(),t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),t.wefunc.items&&t.wefunc.items.length?i("div",{staticClass:"info"},t._l(t.wefunc.items,(function(e,n){return i("div",{key:n,staticClass:"info_item"},[e.icon?i("ui-image",{attrs:{url:e.icon,type:"img"}}):t._e(),e.title?i("div",{staticClass:"info_item_title"},[t._v(t._s(e.title))]):t._e()],1)})),0):t._e()]):t._e()}),[],!1,null,"1bed7450",null).exports),li={props:{wefunc:{type:Object,default:function(){return{}}}}},ui=(i(1525),Object(I.a)(li,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"icon-desc-list"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),t.wefunc.items&&t.wefunc.items.length?i("div",{staticClass:"info"},t._l(t.wefunc.items,(function(e,n){return i("div",{key:n,staticClass:"info_item"},[e.withIndex?i("div",{staticClass:"info_item_index"},[t._v(t._s(n+1))]):t._e(),e.icon?i("ui-image",{attrs:{url:e.icon,type:"icon"}}):t._e(),e.title?i("div",{staticClass:"info_item_title"},[t._v(t._s(e.title))]):t._e(),e.value?i("div",{staticClass:"info_item_desc"},[t._v(t._s(e.value))]):t._e()],1)})),0):t._e()]):t._e()}),[],!1,null,"6ffcbc5b",null).exports),di={components:{wefuncButton:Ve,colorfulText:ti},props:{wefunc:{type:Object,default:function(){return{}}}}},pi=(i(1526),Object(I.a)(di,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"icon-title-with-action"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),t.wefunc.items&&t.wefunc.items.length?i("div",{staticClass:"info"},t._l(t.wefunc.items,(function(t,e){return i("div",{key:e,staticClass:"info_item"},[i("colorful-text",{attrs:{"colorful-text":t,"font-size":17,"is-bold":!0}})],1)})),0):t._e(),i("wefunc-button",{staticClass:"action",attrs:{button:t.wefunc.button}})],1):t._e()}),[],!1,null,"1552c699",null).exports),hi={components:{colorfulText:ti,wefuncButton:Ve},props:{wefunc:{type:Object,default:function(){return{}}}},data:function(){return{isSingle:!1,styleReady:!1}},watch:{wefunc:{handler:function(t,e){this.setStyle()},deep:!0,immediate:!0}},mounted:function(){this.setStyle()},methods:{setStyle:function(){var t,e=window.screen.width||0,i=document.querySelectorAll(".list_item_info");if(1==this.wefunc.items.length&&this.wefunc.button)return this.isSingle=!1,void(this.styleReady=!0);if((null===(t=this.wefunc.items)||void 0===t?void 0:t.length)<=1||e<360)return this.isSingle=!0,void(this.styleReady=!0);if(i&&i.length)for(var n=0;n<i.length;n++){var o,a,s,r=i[n],c=(null===(o=r.getBoundingClientRect())||void 0===o?void 0:o.width)||0,l=r.querySelector(".list_item_info_value"),u=(null==l||null===(a=l.getBoundingClientRect())||void 0===a?void 0:a.width)||0,d=r.querySelector(".list_item_info_desc"),p=(null==d||null===(s=d.getBoundingClientRect())||void 0===s?void 0:s.width)||0;this.isSingle=u+p>c}this.styleReady=!0}}},fi=(i(1756),Object(I.a)(hi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"number-ratio-index-list",class:{show:t.styleReady}},[t.wefunc.items&&t.wefunc.items.length?i("div",{staticClass:"list"},[t._l(t.wefunc.items,(function(e,n){return[!t.isSingle||t.isSingle&&0==n?i("div",{key:n,staticClass:"list_item",class:{single:t.isSingle}},[e.title?i("div",{staticClass:"list_item_title"},[t._v(t._s(e.title))]):t._e(),null!=e.number?i("div",{staticClass:"list_item_info"},[i("colorful-text",{staticClass:"list_item_info_value",attrs:{"colorful-text":e.number,"is-bold":!0,"font-size":t.isSingle?20:17}}),i("colorful-text",{staticClass:"list_item_info_desc",attrs:{"colorful-text":e.desc,"is-bold":!0,"font-size":14}})],1):t._e()]):t._e()]}))],2):t._e(),i("wefunc-button",{staticClass:"action",attrs:{button:t.wefunc.button}})],1):t._e()}),[],!1,null,"3aec492c",null).exports),mi={props:{wefunc:{type:Object,default:function(){return{}}}}},bi=(i(1528),Object(I.a)(mi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.wefunc?i("div",{staticClass:"double-column-info"},[t.wefunc.title?i("div",{staticClass:"title"},[t._v(t._s(t.wefunc.title))]):t._e(),t.wefunc.items&&t.wefunc.items.length?i("div",{staticClass:"list"},t._l(t.wefunc.items,(function(e,n){return i("div",{key:n,staticClass:"list_item"},[e.title?i("div",{staticClass:"list_item_title"},[t._v(t._s(e.title))]):t._e(),e.value?i("div",{staticClass:"list_item_value"},[t._v(t._s(e.value))]):t._e()])})),0):t._e()]):t._e()}),[],!1,null,"167b776b",null).exports),_i=i(10);function vi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function yi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?vi(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):vi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var gi=new _i.a({NOTHING:0,REFRESH:1,ERROR:2}),Ii={components:{wefuncSource:Be,addOperation:We,pureText:Ue,pureTextWithIcon:ze,iconTitleWithAction:Ze,textWithMicroTitle:Qe,textWithColumns:ii,greyTitleWithAction:oi,titleWithBigIcon:si,titleWithIconLine:ci,iconDescList:ui,colorListWithAction:pi,numberRatioIndexList:fi,doubleColumnInfo:bi},mixins:[h.k,h.m,P.a],props:{block:{type:Object,default:function(){return{}}},typePos:String},data:function(){var t,e=tt.a.wefuncType;return{wefuncMap:(t={},u()(t,e.PURE_TEXT,"pure-text"),u()(t,e.PURE_TEXT_WITH_ICON,"pure-text-with-icon"),u()(t,e.ICON_TITLE_WITH_ACTION,"icon-title-with-action"),u()(t,e.TEXT_WITH_MICRO_TITLE,"text-with-micro-title"),u()(t,e.TEXT_WITH_COLUMNS,"text-with-columns"),u()(t,e.GREY_TITLE_WITH_ACTION,"grey-title-with-action"),u()(t,e.ADD_OPERATION,"add-operation"),u()(t,e.TITLE_WITH_BIG_ICON,"title-with-big-icon"),u()(t,e.TITLE_WITH_ICON_LINE,"title-with-icon-line"),u()(t,e.ICON_DESC_LIST,"icon-desc-list"),u()(t,e.COLOR_LIST_WITH_ACTION,"color-list-with-action"),u()(t,e.NUMBER_RATIO_INDEX_LIST,"number-ratio-index-list"),u()(t,e.DOUBLE_COLUMN_INFO,"double-column-info"),t),wefuncHandlerType:gi,refreshInterval:null,scaleFactor:1,androidStyle:""}},computed:{showInfo:function(){try{var t,e;return JSON.parse(null===(t=this.block.show)||void 0===t?void 0:t.show_json),JSON.parse(null===(e=this.block.show)||void 0===e?void 0:e.show_json)}catch(t){return null}}},watch:{block:{handler:function(t,e){var i,n,o,a,s=this;(null===(i=this.block)||void 0===i||null===(n=i.wefunc_handler)||void 0===n?void 0:n.type)!=gi.NOTHING&&null!==(o=this.block)&&void 0!==o&&null!==(a=o.wefunc_handler)&&void 0!==a&&a.refresh_time&&t!=e&&(this.refreshInterval=setTimeout((function(){s.$emit("refresh:item",s.block)}),1e3*this.block.wefunc_handler.refresh_time))},deep:!0,immediate:!0}},created:function(){},beforeDestroy:function(){clearTimeout(this.refreshInterval),this.refreshInterval=null},mounted:function(){Global.os.android&&this.resetFontSize()},methods:{onClickWefunc:function(){var t,e,i;this.block.type==tt.a.teachType.WEFUNC_ADD_OPERATION?(this.$emit("tap:item"),this.M_clickReportFor26897(this.showInfo,1,{actionId:f.g.CLICK_SHOW_DIALOG})):null!==(t=this.showInfo)&&void 0!==t&&t.jumpInfo?(this.M_go(this.showInfo),this.M_clickReportFor26897(this.showInfo,1)):null!==(e=this.block)&&void 0!==e&&null!==(i=e.base)&&void 0!==i&&i.jumpInfo&&(this.M_go(this.block.base),this.M_clickReportFor26897(yi(yi({},this.showInfo),{},{jumpInfo:this.block.base.jumpInfo}),1))},resetFontSize:function(){var t=document.createElement("div");t.style="font-size:15px;",document.body.appendChild(t);var e=parseInt(window.getComputedStyle(t,null).getPropertyValue("font-size"));document.body.removeChild(t),this.scaleFactor=15/e,this.androidStyle=["width: calc((50vw - 12px) / ".concat(this.scaleFactor,");"),"height: calc((50vw - 12px) / ".concat(this.scaleFactor,");"),"transform: scale(".concat(this.scaleFactor,");"),"transform-origin: left top;"].join("")}}},wi=(i(1529),Object(I.a)(Ii,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"basic-wefunc",style:t.androidStyle,attrs:{"data-new-teach-report-id":""+t.M_getItemReportId(t.showInfo,1)},on:{click:t.onClickWefunc}},[t.block.base&&t.block.base.appuin?i("wefunc-source",t._b({},"wefunc-source",{source:t.block.base,scaleFactor:t.scaleFactor},!1),[t._t("source")],2):t._e(),t.block.wefunc_handler&&t.block.wefunc_handler.type==t.wefuncHandlerType.ERROR?[i("div",{staticClass:"basic-wefunc-error"},[i("div",{staticClass:"basic-wefunc-error__title"},[t._v(t._s(t.block.wefunc_handler&&t.block.wefunc_handler.err_title||"暂未获取到数据"))]),i("div",{staticClass:"basic-wefunc-error__desc"},[t._v(t._s(t.block.wefunc_handler&&t.block.wefunc_handler.err_desc||"请稍后再试"))])])]:[t.showInfo?i("div",{staticClass:"basic-wefunc-main"},[t.showInfo.type>=0?i(t.wefuncMap[t.showInfo.type],t._b({tag:"component"},"component",Object.assign({},t.$props,{wefunc:t.showInfo}),!1)):t._e()],1):t._e()]],2)}),[],!1,null,"5047ac4b",null).exports);function ki(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ci(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ki(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ki(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Oi={components:{basicWefunc:wi},mixins:[P.a],props:{block:{type:Object,default:function(){return{}}},typePos:String},computed:{showInfo:function(){try{var t;return JSON.parse(null===(t=this.block.show)||void 0===t?void 0:t.show_json)}catch(t){return null}}},methods:{onTapShow:function(){var t;null!==(t=this.$refs.negativePop)&&void 0!==t&&t.show&&(this.$refs.negativePop.show(),this.M_clickReportFor26897(this.showInfo,1,{actionId:f.g.CLICK_SHOW_DIALOG}))},onFeedback:function(){var t,e,i,n,o=this;null!==(t=this.block)&&void 0!==t&&null!==(e=t.base)&&void 0!==e&&e.wefunc_id&&null!==(i=this.block)&&void 0!==i&&null!==(n=i.base)&&void 0!==n&&n.appuin&&(this.showToast(1),h.h.getCommonCgiData({cgiName:"EditWeFunc",data:{sessionid:h.b.sessionId||"",edit_action:{type:tt.a.wefuncEditActionType.EDIT_ACTION_TYPE_DEL,wefunc_id:this.block.base.wefunc_id,appuin:this.block.base.appuin},location:h.b.currentLocation||{}},version:h.b.version}).then((function(t){if(0==t.code){var e=Object.assign({},o.$store.state.teach.teachData),i=(e.data||[]).find((function(t){return t.type==tt.a.teachType.WEFUNC}))||{},n=(e.data||[]).indexOf(i),a=((null==i?void 0:i.wefunc_list)||[]).findIndex((function(t){var e,i;return(null==t||null===(e=t.base)||void 0===e?void 0:e.wefunc_id)==o.block.base.wefunc_id&&(null==t||null===(i=t.base)||void 0===i?void 0:i.appuin)==o.block.base.appuin}));a>=0&&n>=0&&(i.wefunc_list.splice(a,1),e.data[n]=i,o.$store.dispatch("teach/updateData",{data:e})),S.a.$emit(S.b.TEACH_UPDATE_WEFUNC_LIST),o.showToast(0,{text:"已移除"})}else o.showToast();o.$refs.negativePop&&o.$refs.negativePop.hide()})).catch((function(t){o.$refs.negativePop&&o.$refs.negativePop.hide(),o.showToast()})),this.M_clickReportFor26897(this.showInfo,1,{actionId:f.g.CLICK_DELETE}))},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S.a.$emit(S.b.showToast,Ci(Ci({action:t},3==t?{text:"请求失败，请稍后再试"}:{}),e))},onRefreshItem:function(){this.$emit.apply(this,["refresh:item"].concat(Array.prototype.slice.call(arguments)))}}},xi=(i(1530),Object(I.a)(Oi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("basic-wefunc",t._b({staticClass:"wefunc-added",on:{"refresh:item":t.onRefreshItem}},"basic-wefunc",Object.assign({},t.$props),!1),[i("div",{staticClass:"wefunc-added-source__operation",attrs:{slot:"source"},slot:"source"},[i("pop-over",{ref:"negativePop",staticClass:"negative_wrap",attrs:{"mask-style":{backgroundColor:"transparent"},"class-name":"negative_wrap_prop","spacing-v":8,"spacing-h":16},scopedSlots:t._u([{key:"trigger",fn:function(){return[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"negative_wrap_btn active__mask",on:{click:function(e){return e.stopPropagation(),t.onTapShow.apply(null,arguments)}}},[i("ui-image",{attrs:{type:"icon",url:"https://res.wx.qq.com/t/fed_upload/40f6f63c-5174-4fcc-9345-a2108ca3d9db/more.svg"}})],1)]},proxy:!0},{key:"content",fn:function(){return[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"negative_wrap_content",on:{click:function(e){return e.stopPropagation(),t.onFeedback.apply(null,arguments)},touchmove:function(t){return t.stopPropagation(),t.preventDefault(),function(){}.apply(null,arguments)}}},[t._v("移除")])]},proxy:!0}])})],1)])}),[],!1,null,"0bd6ef73",null).exports),Ti={components:{basicWefunc:wi},props:{block:{type:Object,default:function(){return{}}},typePos:String,wefuncCandidateList:{type:Array,default:function(){return[]}}},methods:{onAdd:function(){S.a.$emit(S.b.TEACH_SHOW_HALF_SCREEN,{pop:{title:"可添加的小功能",type:2,canScroll:!0,wefuncCandidateList:this.wefuncCandidateList}})}}},Ei=(i(1531),Object(I.a)(Ti,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wefunc-add-operation"},[e("basic-wefunc",this._b({on:{"tap:item":this.onAdd}},"basic-wefunc",Object.assign({},this.$props),!1))],1)}),[],!1,null,"60409c22",null).exports),Si=new _i.a({ADDED_LIST:0,CANDIDATE_LIST:1}),ji=new _i.a({NOTHING:0,REFRESH:1,ERROR:2}),Pi={components:{wefuncAdded:xi,wefuncAddOperation:Ei},mixins:[h.k,h.m,P.a],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0},displayPos:{type:Number,default:0}},data:function(){var t,e=tt.a.teachType;return{componentMap:(t={},u()(t,e.WEFUNC_ADDED,"wefunc-added"),u()(t,e.WEFUNC_ADD_OPERATION,"wefunc-add-operation"),t),refreshItemQueue:[],refreshInterval:null,wefuncCandidateList:[]}},watch:{refreshItemQueue:{deep:!0,handler:function(){var t=this;this.refreshItemQueue.length&&!this.refreshInterval&&(this.refreshInterval=setInterval((function(){t.refreshList(),clearInterval(t.refreshInterval),t.refreshInterval=null,t.refreshItemQueue=[]}),1e3))}}},created:function(){var t=this;this.block.wefunc_list&&this.block.wefunc_list.length&&(h.h.getCurrentLocation(),H.b.onCurrentLocationReady((function(e){try{var i=JSON.parse(e.json||"");h.b.setValue({currentLocation:{Latitude:parseFloat(i.latitude||0),Longitude:parseFloat(i.longitude||0),Precision:parseInt(i.precision||0),MacAddr:(i.macAddr||"").toString(),CellId:(i.cellId||"").toString(),GPSSource:parseInt(i.gpssource||0),Address:(i.address||"").toString()}}),t.onRefreshWefuncList(Si.CANDIDATE_LIST)}catch(e){t.onRefreshWefuncList(Si.CANDIDATE_LIST)}}))),S.a.$on(S.b.TEACH_UPDATE_WEFUNC_LIST,this.onUpdateWefuncList),S.a.$on("updateCandidateList",this.updateCandidateList)},beforeDestroy:function(){S.a.$off(S.b.TEACH_UPDATE_WEFUNC_LIST,this.onUpdateWefuncList),clearInterval(this.refreshInterval),this.refreshInterval=null,this.refreshItemQueue=[]},methods:{onRefreshItem:function(t){var e,i;if(null!=t&&null!==(e=t.base)&&void 0!==e&&e.appuin&&null!=t&&null!==(i=t.base)&&void 0!==i&&i.wefunc_id){var n="".concat(t.base.appuin,"||").concat(t.base.wefunc_id);this.refreshItemQueue.includes(n)||this.refreshItemQueue.push(n)}},refreshList:function(){var t=this;this.refreshItemQueue.length&&h.h.getCommonCgiData({cgiName:"BatchGetWeFunc",data:{sessionid:h.b.sessionId||"",box_type:tt.a.teachType.WEFUNC_ADDED,get_list:this.refreshItemQueue.map((function(t){var e,i;return{appuin:parseInt((null==t||null===(e=t.split("||"))||void 0===e?void 0:e[0])||0),wefunc_id:parseInt((null==t||null===(i=t.split("||"))||void 0===i?void 0:i[1])||0)}})),location:h.b.currentLocation||{}},version:h.b.version}).then((function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=i&&null!==(e=i.wefunc_list)&&void 0!==e&&e.length){var n,o=Object.assign({},t.$store.state.teach.teachData),a=(o.data||[]).find((function(t){return t.type==tt.a.teachType.WEFUNC}))||{},s=(o.data||[]).indexOf(a);null!=a&&null!==(n=a.wefunc_list)&&void 0!==n&&n.length&&i.wefunc_list.forEach((function(t){var e,i,n=a.wefunc_list.findIndex((function(e){var i,n;return(null==e||null===(i=e.base)||void 0===i?void 0:i.wefunc_id)==t.base.wefunc_id&&(null==e||null===(n=e.base)||void 0===n?void 0:n.appuin)==t.base.appuin}));n>=0&&null!=t&&null!==(e=t.show)&&void 0!==e&&e.show_json&&(null==t||null===(i=t.wefunc_handler)||void 0===i?void 0:i.type)!=ji.ERROR&&(a.wefunc_list[n]=t)})),s>=0&&(o.data[s]=a,t.$store.dispatch("teach/updateData",{data:o}),t.$forceUpdate())}})).catch((function(e){t.refreshItemQueue}))},getMixPos:function(t){var e=parseInt(t/2)+1,i=parseInt(t%2)+1;return"".concat(this.displayPos,"#").concat(e,"-").concat(i)},getWefuncAppname:function(t){var e;return(null==t||null===(e=t.base)||void 0===e?void 0:e.appname)||""},onUpdateWefuncList:function(){this.onRefreshWefuncList(Si.ADDED_LIST,!0),this.onRefreshWefuncList(Si.CANDIDATE_LIST)},onRefreshWefuncList:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];h.h.getCommonCgiData({cgiName:"GetWeFuncList",data:{sessionid:h.b.sessionId||"",req_type:t,offset:0,location:h.b.currentLocation||{}},version:h.b.version}).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t==Si.ADDED_LIST&&n.wefunc_list.length){var o=Object.assign({},e.$store.state.teach.teachData),a=(o.data||[]).find((function(t){return t.type==tt.a.teachType.WEFUNC}))||{},s=(o.data||[]).indexOf(a);i?(a.wefunc_list||[]).forEach((function(t,e){t.type==tt.a.teachType.WEFUNC_ADD_OPERATION&&(a.wefunc_list[e]=n.wefunc_list.find((function(t){return t.type==tt.a.teachType.WEFUNC_ADD_OPERATION})))})):a.wefunc_list=n.wefunc_list||[],s>=0&&(o.data[s]=a,e.$store.dispatch("teach/updateData",{data:o}),e.$forceUpdate())}else t==Si.CANDIDATE_LIST&&(e.wefuncCandidateList=n.wefunc_list||[])}))},updateCandidateList:function(t){t&&t.length&&(this.wefuncCandidateList=t)}}},Ri=(i(1532),Object(I.a)(Pi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.block.wefunc_list&&t.block.wefunc_list.length?i("div",{staticClass:"wefunc teach__box_outer"},[i("p",{staticClass:"teach__title"},[t._v(t._s(t.block.title))]),i("div",{staticClass:"wefunc-list teach__main"},t._l(t.block.wefunc_list,(function(e,n){return i("div",{key:n,staticClass:"wefunc-item"},[i(t.componentMap[e.type],t._b({tag:"component",staticClass:"wefunc-item-inner",on:{"refresh:item":t.onRefreshItem}},"component",{block:Object.assign({},e,{title:t.getWefuncAppname(e)}),typePos:t.getMixPos(n),wefuncCandidateList:t.wefuncCandidateList},!1))],1)})),0)]):t._e()}),[],!1,null,"4bc96425",null).exports);function Di(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ni(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Di(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Di(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Li={mixins:[h.k,h.m,P.a],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0},displayPos:{type:Number,default:0}},methods:{onTap:function(){var t=this;return c()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.block.pop&&S.a.$emit(S.b.TEACH_SHOW_HALF_SCREEN,{pop:Ni(Ni({},t.block.pop),{},{type:1}),extInfo:{block:t.block,typePos:t.displayPos}}),t.M_clickReportFor26897(void 0,0,{actionId:f.g.CLICK_SHOW_DIALOG});case 2:case"end":return e.stop()}}),e)})))()}}},Hi=(i(1533),Object(I.a)(Li,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.block.title&&t.block.pop&&t.block.pop.items&&t.block.pop.items.length?i("div",{staticClass:"page-setting",attrs:{id:"js-page-setting","data-new-teach-report-id":""+t.M_getBlockReportId(void 0,t.block.type)}},[i("div",{staticClass:"page-setting-title active__link",on:{click:t.onTap}},[t._v(t._s(t.block.title))])]):t._e()}),[],!1,null,"52abb8a8",null).exports);function Ai(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Mi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ai(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ai(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var $i={mixins:[P.a],props:{pop:{type:Object,default:function(){return{}}},block:Object,typePos:Number},data:function(){return{sPop:{}}},created:function(){var t=this;this.pop.items.length&&(this.sPop=Mi(Mi({},this.pop),{},{items:(this.pop.items||[]).map((function(e){return Mi(Mi({},e||{}),{},{ariaLabel:t.getAriaLabel(e),id:e.type,word:e.title,isDisplay:e.checked?1:0})}))}),this.M_exposeReportFor26897(this.sPop.items.map((function(e,i){return t.M_getItemReportId(e,i+1)}))))},methods:{onSwitch:function(t,e){var i=this;t&&t.type&&(t.checked=!t.checked,t.switchLabel=t.checked?"打开":"关闭",t.ariaLabel=this.getAriaLabel(t),t.onChecked&&t.onChecked(t),this.sPop.items[e]=t,this.M_clickReportFor26897(t,e+1,{actionId:t.checked?f.g.CONFIRM_CHANGE_CODE:f.g.CANCEL_CHANGE_CODE}),setTimeout((function(){t.switchLabel="",t.ariaLabel=i.getAriaLabel(t)}),500))},getAriaLabel:function(t){return t.switchLabel||"".concat(t.title,"，切换按钮，").concat(t.checked?"打开":"关闭","，轻点两下来切换设置")}}},Bi=(i(1534),Object(I.a)($i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pagesetting-dialog-wrap"},[t.sPop.desc?i("div",{staticClass:"desc"},[t._v(t._s(t.sPop.desc))]):t._e(),t.sPop.items&&t.sPop.items.length?i("div",{staticClass:"switch-list"},t._l(t.sPop.items,(function(e,n){return i("div",{key:e.type,staticClass:"cell",attrs:{role:"option",tabindex:"-1","aria-label":e.ariaLabel}},[i("span",{staticClass:"cell__title"},[t._v(t._s(e.title))]),i("div",{staticClass:"cell__switch",class:{active:e.checked},on:{click:function(i){return i.stopPropagation(),t.onSwitch(e,n,i)}}})])})),0):t._e()])}),[],!1,null,"29220f0b",null).exports);function Fi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Wi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Fi(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Fi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var qi={components:{basicWefunc:wi},mixins:[P.a],props:{block:{type:Object,default:function(){return{}}},typePos:String},data:function(){return{}},computed:{showInfo:function(){try{var t;return JSON.parse(null===(t=this.block.show)||void 0===t?void 0:t.show_json)}catch(t){return null}}},methods:{onAdd:function(){var t,e,i,n,o=this;null!==(t=this.block)&&void 0!==t&&null!==(e=t.base)&&void 0!==e&&e.wefunc_id&&null!==(i=this.block)&&void 0!==i&&null!==(n=i.base)&&void 0!==n&&n.appuin&&!this.block.isAdded&&(this.showToast(1),h.h.getCommonCgiData({cgiName:"EditWeFunc",data:{sessionid:h.b.sessionId||"",edit_action:{type:tt.a.wefuncEditActionType.EDIT_ACTION_TYPE_ADD,wefunc_id:this.block.base.wefunc_id,appuin:this.block.base.appuin},location:h.b.currentLocation||{}},version:h.b.version}).then((function(t){if(0==t.code){var e=Wi(Wi({},o.block||{}),{},{type:tt.a.teachType.WEFUNC_ADDED}),i=Object.assign({},o.$store.state.teach.teachData),n=(i.data||[]).find((function(t){return t.type==tt.a.teachType.WEFUNC}))||{},a=(i.data||[]).indexOf(n),s=(n.wefunc_list||[]).findIndex((function(t){return t.type==tt.a.teachType.WEFUNC_ADD_OPERATION}));s>=0?n.wefunc_list=n.wefunc_list.slice(0,s).concat(e).concat(n.wefunc_list[s]):n.wefunc_list.push(e),a>=0&&(i.data[a]=n,o.$store.commit("teach/updateData",{data:i})),S.a.$emit(S.b.TEACH_UPDATE_WEFUNC_LIST),o.$emit("add",o.block),o.showToast(0,{text:"已添加"})}else o.showToast();o.$refs.negativePop&&o.$refs.negativePop.hide()})).catch((function(t){o.$refs.negativePop&&o.$refs.negativePop.hide(),o.showToast()})),this.M_clickReportFor26897(this.showInfo,1,{actionId:f.g.CLICK_ADD}))},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S.a.$emit(S.b.showToast,Wi(Wi({action:t},3==t?{text:"请求失败，请稍后再试"}:{}),e))},onRefreshItem:function(){this.$emit.apply(this,["refresh:item"].concat(Array.prototype.slice.call(arguments)))}}},Ui=(i(1535),Object(I.a)(qi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("basic-wefunc",t._b({staticClass:"wefunc-unadd",on:{"refresh:item":t.onRefreshItem}},"basic-wefunc",Object.assign({},t.$props),!1),[i("div",{staticClass:"wefunc-unadd-source__operation",attrs:{slot:"source"},slot:"source"},[t.block.isAdded?[i("span",{staticClass:"added-text"},[t._v("已添加")])]:i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],on:{click:function(e){return e.stopPropagation(),t.onAdd.apply(null,arguments)}}},[i("ui-image",{attrs:{type:"icon",url:"https://res.wx.qq.com/t/fed_upload/31fef590-603d-4ce5-b5c2-5d39b60ee1a2/add.svg"}})],1)],2)])}),[],!1,null,"a5474864",null).exports);function Gi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function zi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gi(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Yi=new _i.a({NOTHING:0,REFRESH:1,ERROR:2}),Vi={components:{scroll:V.a,wefuncUnadd:Ui},mixins:[P.a],props:{pop:{type:Object,default:function(){return{}}},extInfo:{type:Object,default:function(){return{}}}},data:function(){return{wefuncCandidateList:[],refreshItemQueue:[],refreshInterval:null,wefuncDataReady:!1}},watch:{refreshItemQueue:{deep:!0,handler:function(){var t=this;this.refreshItemQueue.length&&!this.refreshInterval&&(this.refreshInterval=setInterval((function(){t.refreshList(),clearInterval(t.refreshInterval),t.refreshInterval=null,t.refreshItemQueue=[]}),1e3))}},"pop.wefuncCandidateList":function(){this.wefuncCandidateList=this.pop.wefuncCandidateList||[]}},created:function(){var t=this;return c()(p.a.mark((function e(){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wefuncCandidateList=(null===(i=t.pop)||void 0===i?void 0:i.wefuncCandidateList)||[],t.wefuncDataReady=!0,t.wefuncCandidateList.length){e.next=8;break}return t.showToast(1),e.next=6,t.reqList();case 6:S.a.$emit(S.b.hideToast),t.wefuncDataReady=!0;case 8:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;setTimeout((function(){t.$refs.wefuncDialogScroll&&t.$refs.wefuncDialogScroll._analysis()}),200)},beforeDestroy:function(){clearInterval(this.refreshInterval),this.refreshInterval=null,this.refreshItemQueue=[]},methods:{reqList:function(){var t=this;return c()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.h.getCommonCgiData({cgiName:"GetWeFuncList",data:{sessionid:h.b.sessionId||"",req_type:1,offset:0,location:h.b.currentLocation||{}},version:h.b.version}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.wefuncCandidateList=e.wefunc_list||[],S.a.$emit("updateCandidateList",t.wefuncCandidateList)}));case 2:case"end":return e.stop()}}),e)})))()},onAddWefunc:function(t){var e;if(t&&null!=t&&null!==(e=t.base)&&void 0!==e&&e.wefunc_id){var i=this.wefuncCandidateList.findIndex((function(e){var i,n;return(null==e||null===(i=e.base)||void 0===i?void 0:i.wefunc_id)==(null==t||null===(n=t.base)||void 0===n?void 0:n.wefunc_id)}));this.$set(this.wefuncCandidateList,i,zi(zi({},t),{},{isAdded:!0}))}},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;S.a.$emit(S.b.showToast,zi({action:t},3==t?{text:"请求失败，请稍后再试"}:{}))},onRefreshItem:function(t){var e,i;if(null!=t&&null!==(e=t.base)&&void 0!==e&&e.appuin&&null!=t&&null!==(i=t.base)&&void 0!==i&&i.wefunc_id){var n=this.getRefreshId(t);this.refreshItemQueue.includes(n)||this.refreshItemQueue.push(n)}},getRefreshId:function(t){return"".concat(t.base.appuin,"||").concat(t.base.wefunc_id,"||").concat(t.isAdded?1:0)},refreshList:function(){var t=this;if(this.refreshItemQueue.length){var e=this.refreshItemQueue.slice();h.h.getCommonCgiData({cgiName:"BatchGetWeFunc",data:{sessionid:h.b.sessionId||"",box_type:tt.a.teachType.WEFUNC_UNADD,get_list:e.map((function(t){var e,i;return{appuin:parseInt((null==t||null===(e=t.split("||"))||void 0===e?void 0:e[0])||0),wefunc_id:parseInt((null==t||null===(i=t.split("||"))||void 0===i?void 0:i[1])||0)}})),location:h.b.currentLocation||{}},version:h.b.version}).then((function(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.wefuncCandidateList.slice();null!=n&&null!==(i=n.wefunc_list)&&void 0!==i&&i.length&&o.length&&(n.wefunc_list.forEach((function(i){var n,a;if(null!=i&&null!==(n=i.show)&&void 0!==n&&n.show_json&&(null==i||null===(a=i.wefunc_handler)||void 0===a?void 0:a.type)!=Yi.ERROR){var s=o.findIndex((function(t){var e,n;return(null==t||null===(e=t.base)||void 0===e?void 0:e.wefunc_id)==i.base.wefunc_id&&(null==t||null===(n=t.base)||void 0===n?void 0:n.appuin)==i.base.appuin}));if(s>=0){var r,c=e.find((function(e){return e==t.getRefreshId(i)}));o[s]=zi(zi({},i),{},{isAdded:1==parseInt((null==c||null===(r=c.split("||"))||void 0===r?void 0:r[2])||0)})}}})),t.wefuncCandidateList=o,S.a.$emit("updateCandidateList",t.wefuncCandidateList))})).catch((function(e){t.refreshItemQueue}))}},getMixPos:function(t){var e=parseInt(t/2)+1,i=parseInt(t%2)+1;return"1#".concat(e,"-").concat(i)},getWefuncAppname:function(t){var e;return(null==t||null===(e=t.base)||void 0===e?void 0:e.appname)||""}}},Ki=(i(1536),Object(I.a)(Vi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wefunc-dialog-wrap"},[i("scroll",{ref:"wefuncDialogScroll",attrs:{attr:"data-new-teach-report-id",expose:t.M_exposeReportFor26897}},[t.wefuncCandidateList&&t.wefuncCandidateList.length?i("div",{staticClass:"wefunc-list"},t._l(t.wefuncCandidateList,(function(e,n){return i("div",{key:n,staticClass:"wefunc-list-item"},[i("wefunc-unadd",t._b({staticClass:"wefunc-list-item__inner",on:{add:t.onAddWefunc,"refresh:item":t.onRefreshItem}},"wefunc-unadd",{block:Object.assign({},e,{title:t.getWefuncAppname(e)}),typePos:t.getMixPos(n)},!1))],1)})),0):t.wefuncDataReady?i("div",{staticClass:"empty"},[t._v("\n      暂无可添加的小功能\n    ")]):t._e()])],1)}),[],!1,null,"22d2218b",null).exports);function Zi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var Xi=new _i.a({PAGE_SETTING:1,WEFUNC_COLLECTION:2}),Qi={components:{pageSettingDialog:Bi,wefuncDialog:Ki},mixins:[P.a],data:function(){var t;return{pop:null,extInfo:null,halfScreenContentMap:(t={},u()(t,Xi.PAGE_SETTING,"page-setting-dialog"),u()(t,Xi.WEFUNC_COLLECTION,"wefunc-dialog"),t)}},created:function(){S.a.$on(S.b.TEACH_SHOW_HALF_SCREEN,this.show),S.a.$on(S.b.TEACH_HIDE_HALF_SCREEN,this.hide)},beforeDestroy:function(){S.a.$off(S.b.TEACH_SHOW_HALF_SCREEN,this.show),S.a.$off(S.b.TEACH_HIDE_HALF_SCREEN,this.hide)},methods:{show:function(t){var e=t.pop,i=void 0===e?{}:e,n=t.extInfo,o=void 0===n?{}:n;this.pop=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Zi(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Zi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({type:0,canScroll:!1},i),this.extInfo=o,this.pop.type&&this.$refs.teachHalfScreen&&this.$refs.teachHalfScreen.show()},hide:function(){this.$refs.teachHalfScreen&&this.$refs.teachHalfScreen.hide()}}},Ji=(i(1837),Object(I.a)(Qi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ui-half-screen",{ref:"teachHalfScreen",attrs:{"can-scroll":t.pop&&t.pop.canScroll,"class-name":"teach-halfscreen"},on:{"tap:mask":t.hide}},[i("div",{staticClass:"teach-halfscreen-header",attrs:{slot:"header"},slot:"header"},[i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.hide.apply(null,arguments)}}},[i("ui-image",{staticClass:"icon",attrs:{url:"https://res.wx.qq.com/t/fed_upload/36b9bf7f-b445-499f-bdba-0d898ac13517/arrow.svg"}})],1),t.pop&&t.pop.title?i("div",{staticClass:"title"},[t._v(t._s(t.pop.title))]):t._e(),i("div",{staticClass:"placeholder"})]),t.pop&&t.pop.type?i("div",{staticClass:"teach-halfscreen-wrap"},[i(t.halfScreenContentMap[t.pop.type],t._b({tag:"component"},"component",Object.assign({},t.extInfo,{pop:t.pop}),!1))],1):t._e()])}),[],!1,null,"4971458a",null).exports),tn={name:"DropShowLogo"},en=(i(1538),Object(I.a)(tn,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"drop-show-logo"},[e("ui-image",{attrs:{url:"https://res.wx.qq.com/t/fed_upload/0f3c9bc4-ea5d-47a7-8879-5d958f1cbd65/search.svg",type:"svg",color:"var(--ALPHA-10)",size:40}})],1)}),[],!1,null,"4fd37ad0",null).exports),nn=i(54);function on(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function an(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?on(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):on(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var sn,rn,cn=i(50),ln={data:function(){var t,e=tt.a.teachType;return{ComponentMap:(t={},u()(t,e.HOTWORD,"rows"),u()(t,e.GUIDEWORD,"history"),u()(t,e.HISTORY,"history"),u()(t,e.FAVORITE_BIZ,"official"),u()(t,e.CHANNEL,"recommend-channel"),u()(t,e.WORLD_CUP,"recommend-channel"),u()(t,e.NAVIGATION,"recommend-category"),u()(t,e.BIZ,"big-avatar-biz"),u()(t,e.SIMILAR_EMOTICON,"similar-button"),u()(t,e.HISTORY_MP,"history-mp"),u()(t,e.WX_INDEX,"wx-index"),u()(t,e.ACCOUNT_LINE,"account-line"),u()(t,e.ACCOUNT_GRID,"account-grid"),u()(t,e.STRONG_SHOW_GRID,"strong-show-grid"),u()(t,e.WRAP_BOX_GRID,"wrap-box-grid"),u()(t,e.COMPACT_ENTRY,"compact-entry"),u()(t,e.OPTION_LIST,"option-list"),u()(t,e.EMOTICON_BOX,"emoticon-box"),u()(t,e.EMOTICON_GRID,"emoticon-grid"),u()(t,e.HOTWORD_CROSS_LINE,"hotwordCrossLine"),u()(t,e.MOMENT_SPEC_SEARCH,"momentSpecSearch"),u()(t,e.BIZ_WITH_SERVICE,"bizWithService"),u()(t,e.ACTIVITY_ENTRY,"activity-entry"),u()(t,e.VIDEO_SCROLL,"videoScroll"),u()(t,e.LIVE_SUBSCRIBE,"live-subscribe"),u()(t,e.BIZ_WITH_SERVICE_V2,"bizWithServiceV2"),u()(t,e.HISTORY_SUBSCRIPTIONS,"history-subscriptions"),u()(t,e.RECOMMEND_BOX,"recommend-box"),u()(t,e.HOTSEARCHVIEW_ENTRIES,"hotsearchview-entries"),u()(t,e.BIZ_FILTERS,"biz-filters"),u()(t,e.POPULAR_GAME,"popular-game"),u()(t,e.FINDER_HOT_LIST,"finder-hot-list"),u()(t,e.PAGE_SETTING,"page-setting"),u()(t,e.BIZ_HOT_LIST,"biz-hot-list"),u()(t,e.MINI_HISTORY,"mini-history"),u()(t,e.WEFUNC,"wefunc"),t),teachType:e,isGlobalTabBizScene:h.b.isGlobalTabBizScene,isShowBottom:!1,bottomStyle:{},isSceneRecommend:h.b.scene===f.e.RECOMMEND,teachPart3data:null,BIZ_UNION_TOP_PERMANENT_KEY:"BIZ_UNION_TOP_PERMANENT_KEY",FINDER_INNER_SEARCH_PERMANENT_KEY:"FINDER_INNER_SEARCH_PERMANENT_KEY",HOME_TOP_ENTRY_PERMANENT_KEY_PREFIX:"HOME_TOP_ENTRY_PERMANENT_KEY_V3",GRID_VERTIAL_SEARCH_PERMANENT_KEY_PREFIX:"GRID_VERTIAL_SEARCH_PERMANENT_KEY",homeTopEntryCacheData:null,canTeachReport:!1,isHideKeyboard:!1,forbidBlockCache:[]}},mixins:[h.m,P.a],components:{bigAvatarBiz:x,bizWithServiceV2:Gt,official:ut,rows:ot,history:L,recommendChannel:w,recommendCategory:C,similarButton:W,similarList:J,historyMp:bt,wxIndex:ht,accountLine:gt,accountGrid:kt,strongShowGrid:Ot,wrapBoxGrid:Tt,compactEntry:St,optionList:Rt,emoticonBox:Lt,emoticonGrid:At,hotwordCrossLine:$t,momentSpecSearch:Ft,bizWithService:qt,activityEntry:Yt,videoScroll:Zt,dropShowLogo:en,historySubscriptions:ae,recommendBox:ue,finderHotList:fe,bizHotList:_e,exposureBlock:nn.a,hotsearchviewEntries:ke,BizFilters:Se,popularGame:Me,pageSetting:Hi,teachHalfScreen:Ji,miniHistory:De,wefunc:Ri},computed:Object(j.c)({teachObjList:function(t){if(t.teach.teachData)return h.b.scene==f.e.RECOMMEND?this.recommendExpose():this.commonExpose(),t.teach.teachData.data},tips:function(t){var e=+localStorage.getItem("teachTipsShowTime")||0;return+e>2?"":t.teach.teachData&&t.teach.teachData.tips?(localStorage.setItem("teachTipsShowTime","".concat(++e)),t.teach.teachData.tips||""):""},isServiceSearch:function(t){return t.teach.teachData&&t.teach.teachData.businessType===rt.c.YIQING_SERVICE},requestId:function(t){return t.teach.requestId},hasPageSetting:function(t){var e,i,n,o,a=null===(e=t.teach.teachData)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.find((function(t){return t.type==tt.a.teachType.PAGE_SETTING}));return a&&(null==a?void 0:a.title)&&(null==a||null===(n=a.pop)||void 0===n||null===(o=n.items)||void 0===o?void 0:o.length)}}),watch:{teachObjList:function(t){h.b.scene===f.e.RECOMMEND&&this.handleBottomStyle(),h.b.scene==f.e.FINDER_INNER_SEARCH&&h.e.set({key:this.FINDER_INNER_SEARCH_PERMANENT_KEY,value:t.map((function(t){return t.type==tt.a.teachType.HISTORY_SUBSCRIPTIONS?an(an({},t),{},{items:[]}):t}))}),h.b.scene==f.e.HOME_TOP_ENTRY&&h.e.set({key:this.getHomeTopEntryCacheKey(),value:this.$store.state.teach.teachData})},$route:function(t){t.name===f.f.TEACH?(this.reset(),this.tryGetData()):t.name===f.f.INDEX&&this.reset()}},methods:{getHomeTopEntryCacheKey:function(){return"".concat(this.HOME_TOP_ENTRY_PERMANENT_KEY_PREFIX,"_").concat(h.b.type,"_").concat(h.b.scene)},componentScroll:h.g.throttle((function(){this.expose.analysis()}),100),handleBottomStyle:function(){var t=this;t.isShowBottom=!1,t.$nextTick((function(){var e=window.innerHeight||document.documentElement.clientHeight,i=30;t.$el.offsetHeight+30+30+16<e&&(i=e-t.$el.offsetHeight-46),t.bottomStyle={marginTop:"".concat(i,"px")},t.isShowBottom=!0}))},reset:function(){this.$store.dispatch("teach/updateData",{data:{data:[]}})},handleFromUrlData:function(){var t=this.$router.currentRoute.params.option||{};t.mpData&&(this.teachPart3data=t.mpData)},tapTip:function(){h.f.teach.reportCommonClick({isDelete:3,blockId:"search_teach_tip",blockWord:this.tips});var t=Object.assign({},this.$store.state.teach.teachData);t.tips="",this.$store.commit("teach/updateData",{data:t}),localStorage.setItem("teachTipsShowTime","3")},tryGetData:function(){var t=this;return c()(p.a.mark((function e(){var i,n,o,a,s,r,c,l,u,d,m,b,_,v,y,g,I,w,k,C,O,x,T,E,S,j,P,R,D,N;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=(i=t).teachPart3data)){e.next=21;break}if(!n.data||!n.data.length){e.next=18;break}if((o=n.data.find((function(t){return t.type==tt.a.teachType.HOTWORD})))&&(o.showType=2),-1===n.data.findIndex((function(t){return t.type==tt.a.teachType.HISTORY}))&&n.data.push({deleteWord:"清除历史",title:"搜索历史",type:tt.a.teachType.HISTORY,items:[]}),a=n.data.findIndex((function(t){return t.type==tt.a.teachType.BIZ_FILTERS})),h.b.scene!=f.e.BIZ_SPECIFIC||-1!==a){e.next=18;break}return e.next=12,h.h.getCommonCgiData({cgiName:H.a.getUserSwitch,data:{switch_type:1}});case 12:s=e.sent,r=s.ret,void 0===r?-1:r,c=s.switch_status,l=void 0===c?0:c,n.data.unshift({title:"搜索文章",type:tt.a.teachType.BIZ_FILTERS,switchStatus:l,items:[]});case 18:i.$store.dispatch("teach/updateData",{data:{data:n.data,searchID:n.id}}),e.next=109;break;case 21:if(h.b.scene!=f.e.BIZ_SPECIFIC&&(h.b.scene!=f.e.VERTICAL||"7"!=h.b.queryString.type)){e.next=36;break}if(u=[{deleteWord:"清除历史",title:"搜索历史",type:tt.a.teachType.HISTORY,itemtype:8,items:[]}],h.b.scene!=f.e.BIZ_SPECIFIC){e.next=32;break}return e.next=26,h.h.getCommonCgiData({cgiName:H.a.getUserSwitch,data:{switch_type:1}});case 26:d=e.sent,m=d.ret,void 0===m?-1:m,b=d.switch_status,_=void 0===b?0:b,u.unshift({title:"搜索文章",type:tt.a.teachType.BIZ_FILTERS,switchStatus:_,items:[]});case 32:i.$store.dispatch("teach/updateData",{data:{data:u,searchID:"bizProfile"}}),t.canTeachReport=!0,e.next=109;break;case 36:if((h.b.scene!==f.e.VERTICAL||"99991"!=h.b.queryString.type)&&h.b.scene!==f.e.GLOBAL_ENTRIES){e.next=43;break}h.b.scene===f.e.VERTICAL&&"99991"==h.b.queryString.type&&h.b.setValue({scene:f.e.GLOBAL_ENTRIES,queryString:an(an({},h.b.queryString),{},{scene:f.e.GLOBAL_ENTRIES,isHomePage:1}),isHomePage:1}),h.b,setTimeout((function(){Ne.a.configNavBar({ftsNeedHideKeyBoard:1})}),500),i.$store.dispatch("teach/updateData",{data:{data:[{type:tt.a.teachType.HOTSEARCHVIEW_ENTRIES,items:tt.a.hotSearchEntriesItems}],searchID:"hotsearchEntries"}}),e.next=109;break;case 43:if(h.b.scene!=f.e.BIZ_UNION_TOP){e.next=63;break}return e.next=46,h.e.get({key:t.BIZ_UNION_TOP_PERMANENT_KEY});case 46:if(e.t0=e.sent,e.t0){e.next=49;break}e.t0={};case 49:v=e.t0,y=v.data,g=void 0===y?[]:y,I=v.searchID,w=void 0===I?"bizSearch":I,k=[tt.a.teachType.MINI_HISTORY,tt.a.teachType.HISTORY_SUBSCRIPTIONS,tt.a.teachType.BIZ_HOT_LIST],C=g.filter((function(t){return k.includes(t.type)})),(O=C.find((function(t){return t.type===tt.a.teachType.RECOMMEND_BOX})))&&(O.items=O.items.filter((function(t){return 1!=t.source||Date.now()<t.expiredTimestamp}))),t.canTeachReport=!1,i.$store.dispatch("teach/updateData",{data:{data:C,searchID:w,isCache:!0}}),i.getTeachSearchData(),e.next=109;break;case 63:if(![f.e.HOME_TOP_ENTRY,f.e.VERTICAL,f.e.S1S_VERTICAL].includes(h.b.scene)||h.b.type!=rt.c.MINI_PRGM){e.next=81;break}return e.next=66,h.e.get({key:t.getHomeTopEntryCacheKey()});case 66:if(e.t1=e.sent,e.t1){e.next=69;break}e.t1=null;case 69:if(S=e.t1,t.homeTopEntryCacheData=S,null==S||null===(x=S.data)||void 0===x||!x.length||h.b.queryString.forbidTeachData||null!==(T=h.b.extParams)&&void 0!==T&&T.forbidTeachData||h.b.type==rt.c.MINI_PRGM&&3==h.b.subType){e.next=78;break}return S.data=S.data.filter((function(t){var e;return(null==t||null===(e=t.box_handler)||void 0===e?void 0:e.cache_time)&&(null==t?void 0:t.data_time)&&Date.now()/1e3<t.data_time+t.box_handler.cache_time})),e.next=75,t.forbidBlock(S.data);case 75:S.data=e.sent,S.data.length&&i.$store.dispatch("teach/updateData",{data:an(an({},S),{},{isCache:!0})}),h.b.setValue({goHistoryInTeach:S.isShowHistory||!1});case 78:h.b.type==rt.c.MINI_PRGM&&3==h.b.subType||h.b.queryString.forbidTeachData||null!==(E=h.b.extParams)&&void 0!==E&&E.forbidTeachData||i.getTeachSearchData(),e.next=109;break;case 81:if(![f.e.VERTICAL,f.e.S1S_VERTICAL].includes(h.b.scene)||[rt.c.MINI_PRGM,rt.c.STICKERS_ALL].includes(h.b.type)){e.next=92;break}return e.next=84,h.e.get({key:"".concat(t.GRID_VERTIAL_SEARCH_PERMANENT_KEY_PREFIX,"_").concat(h.b.type,"_").concat(h.b.scene)});case 84:if(e.t2=e.sent,e.t2){e.next=87;break}e.t2=null;case 87:(j=e.t2)&&Date.now()<j.expiredTimestamp&&(t.canTeachReport=!1,i.$store.dispatch("teach/updateData",{data:an(an({},j),{},{isCache:!0})})),i.getTeachSearchData(),e.next=109;break;case 92:if(h.b.scene!=f.e.FINDER_INNER_SEARCH){e.next=108;break}return e.next=95,h.e.get({key:t.FINDER_INNER_SEARCH_PERMANENT_KEY});case 95:if(e.t3=e.sent,e.t3){e.next=98;break}e.t3=[];case 98:P=e.t3,R=[14,15].includes(+h.b.type),D=R?[tt.a.teachType.HISTORY_SUBSCRIPTIONS,tt.a.teachType.MINI_HISTORY,tt.a.teachType.FINDER_HOT_LIST]:[tt.a.teachType.HISTORY_SUBSCRIPTIONS,tt.a.teachType.MINI_HISTORY],R&&t.didGetTeachData&&D.push(tt.a.teachType.RECOMMEND_BOX),N=P.filter((function(t){return D.includes(t.type)})),t.canTeachReport=!1,i.$store.dispatch("teach/updateData",{data:{data:N.map((function(t){return t.type==tt.a.teachType.FINDER_HOT_LIST&&t.items.find((function(t){return t.session_buffer}))?{type:t.type,title:t.title,itemtype:t.itemtype,items:t.items.map((function(t){return{id:t.id,hotword:t.hotword,tags:t.tags,finderSessionBuffer:t.session_buffer}}))}:t})),searchID:"finderInnerSearch",isCache:!0}}),i.getTeachSearchData(),e.next=109;break;case 108:i.getTeachSearchData();case 109:setTimeout((function(){window.scrollTo(0,0)}),50);case 110:case"end":return e.stop()}}),e)})))()},_getBizService:function(t){var e=this;if(t){var i=t.data;if(i&&i.length){var n=i.find((function(t){return t.type==tt.a.teachType.FAVORITE_BIZ})).items||[];if(n.length){var o=n.map((function(t){return t.userName}));h.f.reportEventTrack({requestId:e.requestId,actionType:203}),h.h.getTeach(an(an({},h.b.getBase()),{},{requestId:e.requestId,ignoreCache:!0,type:h.b.guideType||h.b.type||h.b.getBase().type,guideInfo:JSON.stringify(o)}),{requestId:e.requestId}).then((function(i){h.f.reportEventTrack({requestId:e.requestId,actionType:208}),i.privacySwitch?h.h.log({key:"[获取公众号服务数据]",msg:"关闭了个性化推荐"}):i&&i.data&&i.data.length?e.teachSearchDataReadyCallback(i):(h.h.log({key:"[获取公众号服务数据]",msg:"没有本地数据"}),console.warn("[获取公众号服务数据] 没有本地数据"),e.teachSearchDataReadyCallback(t))}))}}}else setTimeout((function(){h.f.reportEventTrack({requestId:e.requestId,actionType:209,query:"local"})}),0)},getTeachSearchData:function(t){var e=this,i=(h.b.scene==f.e.VERTICAL||h.b.scene==f.e.S1S_VERTICAL)&&1==h.b.type;this.$store.commit("teach/getSearchRid");var n=Object.assign(an(an({},h.b.getBase()),{},{type:h.b.guideType||h.b.type||h.b.getBase().type,ignoreCache:!0,guideInfo:""}),t);if(h.b.scene==f.e.FINDER_INNER_SEARCH&&(n.guideInfo=JSON.stringify({video_play_history:h.b.thirdExtParamFinderInfo,referrer_feed_id:h.b.thirdExtParamReferrerFeedId})),h.b.scene==f.e.BIZ_UNION_TOP){var o=this.$store.state.teach.hotwordActionsMap,a=Object.values(o);a.length&&(n.guideInfo=JSON.stringify({hotwordActions:a}))}i?(h.f.reportEventTrack({requestId:e.requestId,actionType:203,query:"local"}),h.h.getTeach(Object.assign(n,{requestType:tt.a.requestType.local})).then((function(t){h.f.reportEventTrack({requestId:e.requestId,actionType:208,query:"local"}),e._getBizService(t)}))):(h.f.reportEventTrack({requestId:e.requestId,actionType:203}),h.h.getTeach(Object.assign(n,{requestType:tt.a.requestType.net,requestId:e.requestId}),{requestId:e.requestId}).then((function(t){h.f.reportEventTrack({requestId:e.requestId,searchId:t&&t.searchID,actionType:208}),e.teachSearchDataReadyCallback(t)}))),clearTimeout(rn),rn=setTimeout((function(){Object(E.d)(11,{rate:1}),Object(ft.d)(2,"getTeachSearchData:empty-data")}),3e3),Object(E.i)(h.l.overview.general.getData,{rate:.01}),Object(E.i)(h.l.overview.teach.getData,{rate:.01})},hideKeyBoard:function(t){Global.os.ios&&h.b.clientVersion<806e4||!t&&Global.os.android?h.h.openView({actionType:1,opType:2,userName:"",nickName:""}):Global.os.ios&&Ne.a.configNavBar({ftsNeedHideKeyBoard:2})},teachSearchDataReadyCallback:spy(function(){var t=c()(p.a.mark((function t(e){var i,n,o,a,r,c,l,u,d,m,b,_,v,y,g,I,w,k,C=this;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this,clearTimeout(rn),setTimeout((function(){h.f.reportEventTrack({requestId:i.requestId,actionType:209})}),0),h.h.log({msg:"".concat(n),level:"info",key:"teachCallback"}),n=e||{},this.isHideKeyboard||(this.isHideKeyboard=n.isHideKeyboard,n.isHideKeyboard&&this.hideKeyBoard()),h.b.setValue({goHistoryInTeach:n.isShowHistory||!1}),void 0!==n.preSearchSwitch&&h.b.setValue({preSearchSwitch:n.preSearchSwitch}),void 0!==n.searchID&&h.b.setValue({searchId:n.searchID}),n.placeholder&&(Ne.a.configNavBar({recommendSearchQuery:n.placeholder}),this.$nextTick((function(){h.f.teach.reportCommonNewExpose({searchId:h.b.searchId,requestId:C.requestId,itemInfo:"0|11|".concat(encodeURIComponent("底纹词")),docInfo:"0|0|".concat(encodeURIComponent(n.placeholder),"|").concat(encodeURIComponent(n.placeholder),"|1|")}),h.f.teach.commonTeachReport({itemInfo:"0|".concat(tt.a.teachType.FINDER_PLACEHOLDER,"|").concat(encodeURIComponent("底纹词")),docInfo:"0|0|".concat(encodeURIComponent(n.placeholder),"|").concat(encodeURIComponent(n.placeholder),"|1|"),pageType:tt.a.pageType.TEACH,actionId:f.g.EXPOSE_DOC,isCache:!1})}))),0!=n.businessType){t.next=13;break}return t.abrupt("return");case 13:if(o=[],a="",this.canTeachReport=!0,this.didGetTeachData=!0,n.data&&n.data.length){t.next=19;break}return t.abrupt("return");case 19:if(h.b.scene!=f.e.BIZ_UNION_TOP){t.next=28;break}return t.next=23,h.e.get({key:tt.a.teachPermanentKeyEnum.histroySubscripttionsIsHideKey});case 23:r=t.sent,c=[tt.a.teachType.RECOMMEND_BOX,tt.a.teachType.HISTORY_SUBSCRIPTIONS,tt.a.teachType.MINI_HISTORY,tt.a.teachType.BIZ_HOT_LIST],l=s()(n.data).filter((function(t){return c.includes(t.type)})).map((function(t){var e=Object.assign({},t);return t.type===tt.a.teachType.RECOMMEND_BOX&&e.items.forEach((function(t){1==t.source&&(t.expiredTimestamp=Date.now()+6e5)})),e})),h.e.set({key:this.BIZ_UNION_TOP_PERMANENT_KEY,value:{data:l,searchID:n.searchID}}),r&&(n.data=n.data.filter((function(t){return t.type!==tt.a.teachType.HISTORY_SUBSCRIPTIONS})));case 28:if(![f.e.HOME_TOP_ENTRY,f.e.VERTICAL,f.e.S1S_VERTICAL].includes(h.b.scene)||h.b.type!=rt.c.MINI_PRGM){t.next=35;break}return(null==n||null===(u=n.data)||void 0===u?void 0:u.length)&&n.data.forEach((function(t){return t.data_time=n.timestamp})),null!=n&&null!==(d=n.data)&&void 0!==d&&d.length&&null!==(m=this.homeTopEntryCacheData)&&void 0!==m&&null!==(b=m.data)&&void 0!==b&&b.length&&n.data.forEach((function(t,e){var i;if((null==t||null===(i=t.box_handler)||void 0===i?void 0:i.type)==tt.a.boxHandlerType.BOX_HANDLER_TYPE_ERROR){var o,a=C.homeTopEntryCacheData.data.find((function(e){return e.type==t.type&&e.title==t.title}));a&&a.data_time&&null!==(o=a.box_handler)&&void 0!==o&&o.cache_time&&Date.now()/1e3<a.data_time+a.box_handler.cache_time&&(n.data[e]=a)}})),t.next=33,this.forbidBlock(n.data);case 33:n.data=t.sent,h.e.set({key:this.getHomeTopEntryCacheKey(),value:an({},n)});case 35:[f.e.HOME_TOP_ENTRY,f.e.VERTICAL,f.e.S1S_VERTICAL].includes(h.b.scene)&&h.b.type!=rt.c.MINI_PRGM&&h.e.set({key:"".concat(this.GRID_VERTIAL_SEARCH_PERMANENT_KEY_PREFIX,"_").concat(h.b.type,"_").concat(h.b.scene),value:an(an({},n),{},{expiredTimestamp:Date.now()+1296e6})}),i.$store.dispatch("teach/updateData",{data:n}),_=0,v=n.data.length;case 38:if(!(_<v)){t.next=48;break}if(y=n.data[_].type||0,o.push(y),a+=_>0?";":"",n.data[_].items){t.next=44;break}return t.abrupt("continue",45);case 44:for(g=0,I=n.data[_].items.length;g<I;g++)w=n.data[_].items[g],k="".concat(w.userName||w.id||w.hotword||""),a+=(g>0?"|":"")+k.replace(/,/g,"_").replace(/\|/g,"#");case 45:_++,t.next=38;break;case 48:setTimeout((function(){i.$refs.exposureBlock&&i.$refs.exposureBlock.length&&i.$refs.exposureBlock.forEach((function(t){t&&t.analysisExpose()}))}),10),setTimeout((function(){i.$refs.newExposureBlock&&i.$refs.newExposureBlock.length&&i.$refs.newExposureBlock.forEach((function(t){t&&(t.resetExposeId(),t.analysisExpose())}))}),10),h.g.reportShowTeachKV({logId:12098,scene:h.b.scene,version:h.b.version,isCacheData:e.isCacheData,searchId:n.searchID,businessType:h.b.type,guideType:o.join(";"),result:a});case 51:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()),tapFeedback:function(){var t="https://support.weixin.qq.com/cgi-bin/mmsupport-bin/readtemplate?t=feedback/index&",e=h.b.queryString,i={deviceName:e.deviceName||"",imei:e.imei||"",deviceBrand:e.deviceBrand||"",deviceModel:e.deviceModel||"",from:"看一看小助手",uin:h.b.sessionId&&h.b.sessionId.split("_")[1],version:e.wechatVersion||"",lang:e.lang||"zh_CN",ostype:e.ostype||"",scene:h.b.scene,timeZone:-(new Date).getTimezoneOffset()/60};t+="".concat(h.g.object2params(i),"#/list/4155"),this.M_startDetail({type:2,jumpUrl:t})},recommendExpose:function(){var t=this;sn||(sn=new cn.Expose((function(e){if(e.length){var i={blockType:[],cid:[],nid:[]};t.teachObjList.forEach((function(t){var n={cid:[],nid:[]};t.items.forEach((function(o){var a="".concat(o.channelId,"_").concat(o.navigationId||"");-1!==e.indexOf(a)&&(-1==i.blockType.indexOf(t.type)&&i.blockType.push(t.type),n.cid.push(o.channelId||""),n.nid.push(o.navigationId||""))})),n.cid.length&&i.cid.push(n.cid.join("_")),n.nid.length&&i.nid.push(n.nid.join("_"))})),h.f.reportCommonKv(15775,[i.blockType.join(";"),i.cid.join(";"),i.nid.join(";")])}}),{container:document.querySelector(".teach__box")})),t.$nextTick((function(){sn.analysis()}))},addFormatDataToReportObj:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t["".concat(e,"Ids")]&&t["".concat(e,"Ids")].push(i.id||""),t["".concat(e,"Words")]&&t["".concat(e,"Words")].push(i.word||""),t["".concat(e,"Indexs")]&&t["".concat(e,"Indexs")].push(i.index||""),t["".concat(e,"Expands")]&&t["".concat(e,"Expands")].push(i.expand||"")},commonExpose:function(){var t=this;this.expose||(this.expose=new cn.Expose((function(e){if(e.length){var i={};t.teachObjList.forEach((function(t,n){t.items&&t.items.length&&t.items.forEach((function(o,a){if(e.indexOf(o.id)>-1){var s=t.id?"id":"type";i[t[s]]||(i[t[s]]={id:t[s],type:t.type,word:t.title||t.header&&t.header.title||"",index:n+1,expand:t.expand||"",items:{}});var r=i[t[s]].items;r[o.id]||(r[o.id]={id:o.id,word:o.title||o.hotword||o.nickName||"",index:a+1,expand:o.expand||"",listItems:{}});var c=r[o.id].listItems,l=o.list||o.listItems||o.service;l&&l.length&&l.forEach((function(t,e){c[t.id]={id:t.id,word:t.title||t.name||"",index:e+1,expand:t.expand||""}}))}}))})),e.indexOf("search_teach_tip")>-1&&(i.search_teach_tip={id:"search_teach_tip",index:0,items:{search_teach_tip:{id:"search_teach_tip",word:t.tips,index:0}}}),Object.keys(i).forEach((function(e){var n={oldBlockTypes:[],oldBlockIndexs:[],oldItemIds:[],oldItemWords:[],oldItemIndexs:[],newBlockIds:[],newBlockWords:[],newBlockIndexs:[],newBlockExpands:[],newItemIds:[],newItemWords:[],newItemIndexs:[],newItemExpands:[],newListItemIds:[],newListItemWords:[],newListItemIndexs:[],newListItemExpands:[]},o=i[e],a=[],s=[],r=[];Object.keys(o.items).forEach((function(e){var i=o.items[e];a.push(i.id),s.push(i.word),r.push(i.index),Object.keys(i.listItems).length?Object.keys(i.listItems).forEach((function(e){t.addFormatDataToReportObj(n,"newBlock",o),t.addFormatDataToReportObj(n,"newItem",i),t.addFormatDataToReportObj(n,"newListItem",i.listItems[e])})):(t.addFormatDataToReportObj(n,"newBlock",o),t.addFormatDataToReportObj(n,"newItem",i),t.addFormatDataToReportObj(n,"newListItem",{}))})),n.oldBlockTypes.push(o.type),n.oldBlockIndexs.push(o.index),n.oldItemIds.push(a.join("_")),n.oldItemWords.push(s.join("_")),n.oldItemIndexs.push(r.join("_")),h.f.teach.reportCommonExpose(n)}))}}),{container:document.querySelector(".teach__box")})),t.$nextTick((function(){this.expose.analysis()}))},onNewTeachExpose:function(t){this.M_exposeReportFor26897(t)},onTeachExpose:function(t){var e=this;try{var i=t.filter((function(t){return t.includes("26897_report_")}));if(i.length&&this.M_exposeReportFor26897(i),t=t.filter((function(t){return!t.includes("26897_report_")})),!this.canTeachReport)return void(this.$refs.exposureBlock&&this.$refs.exposureBlock.length&&this.$refs.exposureBlock.forEach((function(t){t&&t.resetExposeId()})));var n={},a={requestId:"",itemInfo:"",featureInfos:[]},s=function(t,e){n[t]||(n[t]={itemInfo:t,docInfos:[]}),e&&n[t].docInfos.push(e)},r=function(t,e){t.forEach((function(t){try{if(/^block:/.test(t)){var e=t.split("@"),i=o()(e,1)[0];s(i.match(/^block:(.*)/)[1])}else if(/^item:/.test(t)){var n=t.split("@"),r=o()(n,2),c=r[0],l=r[1];s(l.match(/^block:(.*)/)[1],c.match(/^item:(.*)/)[1])}else if(/^feature:/.test(t)){var u=t.split("@"),d=o()(u,2),p=d[0],h=d[1];a.itemInfo=h.match(/^block:(.*)/)[1],a.featureInfos.push(p.match(/^feature:(.*)/)[1])}}catch(t){}}))},c=t.filter((function(t){return/^his-/.test(t)})).map((function(t){return t.replace(/^his-/,"")})),l=t.filter((function(t){return/^rmd-/.test(t)})).map((function(t){return t.replace(/^rmd-/,"")})),u=t.filter((function(t){return/^finder-/.test(t)})).map((function(t){return t.replace(/^finder-/,"")}));c.length&&(r(c),Object(E.b)(h.l.subscriptions.historyExpose,{rate:1,isSessionOnly:!0})),l.length&&(r(l),Object(E.b)(h.l.subscriptions.recommendExpose,{rate:1,isSessionOnly:!0})),u.length&&r(u),a.itemInfo&&h.f.teach.reportFeatureBtnClick({actionId:1,searchId:h.b.searchId,requestId:this.requestId,itemInfo:a.itemInfo,featureInfo:a.featureInfos.join("#"),businessType:h.b.type}),Object.keys(n).forEach((function(t){var i=n[t];h.f.teach.reportCommonNewExpose({searchId:h.b.searchId,requestId:e.requestId,itemInfo:i.itemInfo,docInfo:i.docInfos.join("#")})})),n={}}catch(t){}},onInputChange:function(t){if(h.b.scene==f.e.HOME_TOP_ENTRY&&h.b.goHistoryInTeach&&!this.__goOtherPage&&!t.query){if(!t.isCancelButtonClick&&!this.__cancelButtonClick){if(h.n.isSupportCtrlKeyboardWhenOpenView){if(Global.os.android)h.h.isSupportFeature({feature:"clearSearchBarFocus",version:0,scene:h.b.scene})&&h.h.clearSearchBarFocus();this.M_openSearchWebView(an(an({},h.b.getBase()),{},{actionType:f.j.OpenSearchFromSearch,extParams:encodeURIComponent(JSON.stringify({toViewType:f.f.HISTORY,goHistoryInTeach:!0})),businessType:h.b.type,ftsNeedHideKeyBoard:1}))}else this.data=an(an({},this.data||{}),{},{type:h.b.type}),S.a.$emit(S.b.GOTO,{page:f.f.HISTORY});this.__goOtherPage=!0}this.__cancelButtonClick=t.isCancelButtonClick}},getForbidBlockCacheKey:function(){return"".concat(tt.a.teachPermanentKeyEnum.TEACH_BLOCK_SWITCH_PERMANENT_KEY,"_").concat(h.b.scene,"_").concat(h.b.type)},forbidBlock:function(){var t=arguments,e=this;return c()(p.a.mark((function i(){var n,o,a,s,r;return p.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:[],!((s=a.findIndex((function(t){return t.type==tt.a.teachType.PAGE_SETTING})))<0)&&a.length){i.next=4;break}return i.abrupt("return",a);case 4:if(e.forbidBlockCache.length){i.next=11;break}return i.next=7,h.e.get({key:e.getForbidBlockCacheKey()});case 7:if(i.t0=i.sent,i.t0){i.next=10;break}i.t0=[];case 10:e.forbidBlockCache=i.t0;case 11:return e.forbidBlockCache.length&&e.forbidBlockCache.forEach((function(t){var e=a.findIndex((function(e){return e.type==t.type}));t&&!1===t.checked&&e>=0&&(a[e].forbid=!0)})),(r=Object.assign(a[s],{})).pop=an(an({},r.pop||{}),{},{items:null!==(n=r.pop)&&void 0!==n&&null!==(o=n.items)&&void 0!==o&&o.length?r.pop.items:e.forbidBlockCache}),r.pop.items.forEach((function(t){var i=e.forbidBlockCache.find((function(e){return e.type==t.type}));t.checked=!i||i.checked,t.onChecked=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.$store.state.teach.teachData.data,n=i.findIndex((function(e){return e.type==t.type}));i[n]=an(an({},i[n]),{},{forbid:!t.checked}),r.pop.items.forEach((function(e){e.type==t.type&&(e.checked=t.checked)})),i[s]=r,e.setForbidBlockCache(r),e.$store.dispatch("teach/updateData",{data:{data:i}}),h.e.set({key:e.getHomeTopEntryCacheKey(),value:e.$store.state.teach.teachData})}})),a[s]=r,e.setForbidBlockCache(r),i.abrupt("return",a);case 18:case"end":return i.stop()}}),i)})))()},setForbidBlockCache:function(t){this.forbidBlockCache=t.pop.items.map((function(t){return{type:t.type,title:t.title,checked:t.checked}})),h.e.set({key:this.getForbidBlockCacheKey(),value:this.forbidBlockCache})},getDisplayPos:function(t){var e=(this.teachObjList||[]).filter((function(t){var e,i=t.games||t.wefunc_list||t.items||[],n=null===(e=t.box_handler)||void 0===e?void 0:e.type;return!(t.forbid||n==tt.a.boxHandlerType.BOX_HANDLER_TYPE_ERROR&&!i.length)})).findIndex((function(e){return e.type==t.type}));return e>=0?e+1:0},initHotwordActionsMap:function(){var t=this;return c()(p.a.mark((function e(){var i,n,o,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=100,e.next=4,h.e.get({key:tt.a.teachPermanentKeyEnum.HOTWORD_ACTION_MAP_PERMANENT_KEY});case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:n=e.t0,o=Object.values(n).filter((function(t){t.word;var e=t.exposeTime;t.clickTime;return Date.now()/1e3-e<4320})).sort((function(t,e){return e.exposeTime-t.exposeTime})),a=o.slice(0,i).reduce((function(t,e){return t[e.word]=an({},e),t}),{}),console.warn("init hotwordActionsMap",a),t.$store.commit("teach/initHotwordActionsMap",a),e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),e.t1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()}},created:function(){var t=this;return c()(p.a.mark((function e(){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t,t.expose=null,H.b.onWebviewResume((function(){t.__goOtherPage=!1,t.isHideKeyboard&&t.hideKeyBoard(!0)})),H.b.onInputChange((function(t){i.onInputChange(t),S.a.$emit(S.b.TEACH_HIDE_HALF_SCREEN)})),S.a.$on(S.b.RESET_QUERY_STRING,(function(){this.isGlobalTabBizScene=h.b.isGlobalTabBizScene})),S.a.$on(S.b.HIS_MODIFIED,(function(){i.$store.commit("teach/historyModified")})),S.a.$on(S.b.TEACH_EXPOSE,(function(){t.expose.analysis()})),S.a.$on(S.b.TEACH_PLACEHOLDER_SEARCH,(function(e){h.f.teach.reportCommonNewClick({searchId:h.b.searchId,requestId:t.requestId,itemInfo:"0|11|".concat(encodeURIComponent("底纹词")),docInfo:"0|0|".concat(encodeURIComponent(e.query),"|").concat(encodeURIComponent(e.query),"|1|")}),h.f.teach.commonTeachReport({itemInfo:"0|".concat(tt.a.teachType.FINDER_PLACEHOLDER,"|").concat(encodeURIComponent("底纹词")),docInfo:"0|0|".concat(encodeURIComponent(e.query),"|").concat(encodeURIComponent(e.query),"|1|"),pageType:tt.a.pageType.TEACH,actionId:f.g.VERTICAL,isCache:!1})})),i.handleFromUrlData(),H.b.onCommonCgiReady((function(t){t.cgiName===H.a.delWxIndex&&t.json&&0===t.json.retcode&&t.json.gid&&i.$store.commit("teach/deleteWxIndex",{gid:t.json.gid})})),h.b.scene!=f.e.BIZ_UNION_TOP){e.next=14;break}return i.$store.commit("teach/initHotwordActionsMap"),e.next=14,i.initHotwordActionsMap();case 14:i.tryGetData(),Object(E.i)(h.l.overview.general.visitTeach,{rate:.05});case 16:case"end":return e.stop()}}),e)})))()}},un=(i(1539),Object(I.a)(ln,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach__box",class:{"teach_service-search":t.isServiceSearch,"fix-page":t.hasPageSetting},attrs:{id:"js_teach_page"}},[i("drop-show-logo"),t.tips?i("div",{staticClass:"teach__tip",attrs:{"data-expose-id":"search_teach_tip"}},[i("div",{staticClass:"teach__tip-text"},[t._v("\n      "+t._s(t.tips)+"\n    ")]),i("span",{staticClass:"teach__tip-icon",on:{click:t.tapTip}})]):t._e(),t._l(t.teachObjList,(function(e,n){return i("div",{key:n,class:[t.isSceneRecommend?"teach__recommend":"teach__wrap","teach-"+t.ComponentMap[e.type],e.showType>=0?"teach-style-with-"+e.showType:""]},[i("exposureBlock",{ref:"newExposureBlock",refInFor:!0,attrs:{attr:"data-new-teach-report-id"},on:{expose:t.onNewTeachExpose}},[i("exposureBlock",{ref:"exposureBlock",refInFor:!0,attrs:{attr:"data-teach-report-id"},on:{expose:t.onTeachExpose}},[e.forbid?t._e():i(t.ComponentMap[e.type],{tag:"components",attrs:{"type-pos":n+1,"display-pos":t.getDisplayPos(e),"block-list":t.teachObjList,block:e},on:{update:t.getTeachSearchData,handleBottomStyle:t.handleBottomStyle,scroll:t.componentScroll}})],1)],1)],1)})),t.isShowBottom?i("div",{staticClass:"teach__bottom",style:t.bottomStyle},[i("p",{staticClass:"teach__feedback",on:{click:t.tapFeedback}},[t._v("\n      意见反馈\n    ")])]):t._e(),i("similar-list"),i("teach-half-screen")],2)}),[],!1,null,null,null));e.default=un.exports},469:function(t,e,i){},480:function(t,e,i){"use strict";var n=i(493),o=i(0),a={mixins:[o.k,o.m],props:{useUiSource:{type:Boolean,default:!1},text:{type:[String,Number],default:""},size:{type:Number,default:32},iconUrl:{type:String,default:"https://res.wx.qq.com/a/fed_upload/658e7c8d-708d-499b-8d41-4cca1d510d03/play.svg"},ts:{type:Number,default:0},liveWatch:{type:Boolean,default:!1},like:{type:Boolean,default:!1},isHot:{type:Boolean,default:!1},duration:{type:Boolean,default:!1},durationAtLeftBottom:{type:String,default:""},isTop:{type:Boolean,default:!1},noIcon:{type:Boolean,default:!1},dateTime:{type:String,default:""},tag:{type:Object,default:function(){}},tags:{type:Array,default:function(){return[]}},liveEnd:{type:Boolean,default:!1},tapSourceAlone:{type:Boolean,default:!1},tapTextAlone:{type:Boolean,default:!1},title:{type:String,default:""},desc:{type:String,default:""},source:{type:Object,default:function(){return{}}},friendInfo:{type:Object,default:function(){return{}}},showGradient:{type:Boolean,default:!1},gradientPadding:{type:Number,default:8},maskType:{type:Number,default:1},tagDate:{type:String,default:""},tagTitle:{type:String,default:""},specialShadow:{type:Boolean,default:!1},hotComment:{type:Object,default:function(){return{}}}},computed:{maskTypeText:function(){return{1:"视频",2:"文章"}[this.maskType]},showAdvancedSpecialShadow:function(){return(!!this.dateTime||!!this.source||!!this.ts||this.text)&&(!!this.friendInfo&&!!this.friendInfo.avatars&&this.friendInfo.avatars.length>0||!!this.title||!!this.desc)&&!this.hotComment}},methods:{decodeEmoji:function(t){if(t){var e=t.replace(/\\n/gi," ");return Object(n.decode)(e)}return""},tapSource:function(t){this.$emit("tap:source",t,this.M_getItemPos(t))},tapHotComment:function(t){this.hotComment.jumpInfo&&(t.stopPropagation(),this.M_go(this.hotComment.jumpInfo),this.M_clickReport({clickZone:1,itemPos:this.M_getItemPos(this.hotComment),reportItem:this.reportItem},this.hotComment))}}},s=(i(583),i(484),i(4)),r=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"play-mask",attrs:{role:"option"}},[t.tag?i("ui-tag",{staticClass:"mask-tag",attrs:{title:t.tag.title,type:t.tag.type}}):t._e(),t.tags?i("ui-tags",{staticClass:"mask-tag",attrs:{tags:t.tags}}):t._e(),i("div",{staticClass:"mask-tag scene-tag"},[t.tagDate?i("div",{staticClass:"scene-tag__date"},[i("span",[t._v(t._s(t.tagDate))])]):t._e(),t.tagTitle?i("div",{staticClass:"scene-tag__title"},[i("span",[t._v(t._s(t.tagTitle))])]):t._e()]),i("div",{staticClass:"extra-wrap",class:{"linear-gradient":t.showGradient&&!t.specialShadow},style:{padding:t.gradientPadding+"px"}},[t.specialShadow?i("div",{class:{"special-shadow":!0,"special-shadow--advanced":t.showAdvancedSpecialShadow,"special-shadow--hot-comment":!!t.hotComment}}):t._e(),t.hotComment&&t.hotComment.content&&t.hotComment.content.trim()?i("ui-clamp",{directives:[{name:"active",rawName:"v-active.stop",value:!!t.hotComment.jumpInfo,expression:"!!hotComment.jumpInfo",modifiers:{stop:!0}}],class:{"hot-comment":!0,active__opacity:!!t.hotComment.jumpInfo},attrs:{autoresize:"","max-lines":2,"raw-html":t.decodeEmoji(t.hotComment.content),"aria-label":t.hotComment.content,"data-report-id":t.M_itemReportId(t.hotComment,1)},nativeOn:{click:function(e){return t.tapHotComment.apply(null,arguments)}},scopedSlots:t._u([{key:"before",fn:function(){return[i("span",{staticClass:"hot-comment__item-wrap"},[i("span",{staticClass:"hot-comment__label"},[t._v(t._s(t.hotComment.label))])])]},proxy:!0},{key:"after",fn:function(){return[i("span",{staticClass:"hot-comment__item-wrap"},[i("span",{staticClass:"hot-comment__like"},[i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/59ee2753-a126-4495-bd1e-daccbdc285bf/like2_outlined.svg"}}),i("span",{staticClass:"ui-aria-hidden"},[t._v(", 获得")]),i("span",[t._v(t._s(t.hotComment.likeNum))]),i("span",{staticClass:"ui-aria-hidden"},[t._v("个赞")])],1)])]},proxy:!0}],null,!1,151505576)},[i("span",{staticClass:"hot-comment__content"})]):[t.friendInfo&&t.friendInfo.avatars&&t.friendInfo.avatars.length>0?i("div",{staticClass:"social",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"social__avatars"},t._l(t.friendInfo.avatars,(function(t){return i("ui-image",{key:t,staticClass:"social__avatar",attrs:{url:t,size:28,mode:"avatar"}})})),1),t.friendInfo.text?i("div",{staticClass:"social__title"},[t._v("\n          "+t._s(t.friendInfo.text)+"\n        ")]):t._e(),t.friendInfo.afterText?i("div",{staticClass:"social__after-text"},[t._v("\n          "+t._s(t.friendInfo.afterText)+"\n        ")]):t._e(),i("online-image",{staticClass:"social__mark",attrs:{url:"https://res.wx.qq.com/t/fed_upload/947ffded-fd95-4cf1-853c-1f052774f6aa/like_outlined_medium.svg"}})],1):t._e(),t.title?i("div",{staticClass:"vc-title",domProps:{innerHTML:t._s(t.xss(t.title))}}):t._e(),t.desc?i("div",{staticClass:"vc-desc",domProps:{innerHTML:t._s(t.xss(t.desc))}}):t._e(),t.durationAtLeftBottom?i("div",{staticClass:"play-mask__text",attrs:{role:"option"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("时长：")]),i("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.durationAtLeftBottom))])]):t.dateTime?i("div",{staticClass:"datetime"},[t._v("\n        "+t._s(t.dateTime)+"\n      ")]):!t.useUiSource&&t.source?i("div",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapSourceAlone,expression:"tapSourceAlone",modifiers:{stop:!0}}],staticClass:"vc-source",class:{"vc-source_with-tag":t.source.tag,active__opacity:t.source.jumpInfo&&t.tapSourceAlone},attrs:{"data-report-id":t.M_itemReportId(t.source)},on:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}}},[t.source.iconUrl?i("ui-image",{staticClass:"vc-source__thumb",attrs:{url:t.source.iconUrl,size:20,mode:"avatar",overlay:""}}):t._e(),t.source.title||t.source.mark?i("div",{staticClass:"vc-source-title-box"},[i("div",{staticClass:"vc-source__title"},[i("p",{staticClass:"vc-source__text",domProps:{innerHTML:t._s(t.xss(t.source.title))}}),i("div",{staticClass:"badges"},t._l(t.source.mark,(function(t){return i("ui-image",{key:t,attrs:{url:t,size:16,mode:"raw"}})})),1),i("p",{staticClass:"vc-source__dateTime",domProps:{innerHTML:t._s(t.xss(t.source.dateTime))}})])]):t._e()],1):t.source?i("ui-source",t._b({directives:[{name:"active",rawName:"v-active.stop",value:!!t.source.jumpInfo,expression:"!!source.jumpInfo",modifiers:{stop:!0}}],attrs:{"data-report-id":t.M_itemReportId(t.source)},nativeOn:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}},scopedSlots:t._u([{key:"after-text",fn:function(){},proxy:!0}])},"ui-source",t.source,!1)):t._e(),i("div",{staticClass:"extra-info-gap"}),t.ts||t.text?i("span",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapTextAlone,expression:"tapTextAlone",modifiers:{stop:!0}}],staticClass:"play-mask__bg active__opacity"},[t.like?i("span",{staticClass:"play-mask__text",attrs:{role:"option"}},[t.isHot?i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/1f3fb4f3-6753-466e-9a75-eef436716497/fire.svg"}}):i("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/947ffded-fd95-4cf1-853c-1f052774f6aa/like_outlined_medium.svg"}}),i("span",{staticClass:"ui-aria-hidden"},[t._v("，点赞：")]),i("span",[t._v(t._s(t.text))])],1):i("span",{staticClass:"play-mask__text",attrs:{role:"option"}},[t.durationAtLeftBottom?t._e():[t.ts||t.duration||t.text.toString().indexOf(":")>-1?i("span",{staticClass:"ui-aria-hidden"},[t._v("，时长：")]):t._e(),t.liveWatch?i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s("，"+t.text))]):t._e(),t.ts?i("span",[t._v(t._s(t._f("mmss")(t.ts)))]):i("span",{attrs:{"aria-hidden":t.liveWatch}},[t._v(t._s(t.text))])],t.isTop?i("online-image",{staticClass:"icon-top",attrs:{url:"https://res.wx.qq.com/t/fed_upload/d649fe44-ec25-474b-bcc0-2281a0105218/top.svg"}}):t._e()],2)]):t._e(),i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(","+t.maskTypeText+"。"))])]],2),t.noIcon?t._e():i("div",{staticClass:"play-icon-wrapper"},[i("ui-image",{staticClass:"play-icon",attrs:{"aria-label":"播放",url:t.iconUrl,size:t.size,type:"img"}})],1),t.liveEnd?i("div",{staticClass:"live-end-tip"},[i("ui-image",{staticClass:"live-end-icon",attrs:{url:"https://res.wx.qq.com/a/fed_upload/4e09c767-7238-4dab-bb48-8da245eeb470/live_icon.svg",size:20}}),i("span",[t._v("直播已结束")])],1):t._e()],1)}),[],!1,null,"7c7a3501",null);e.a=r.exports},482:function(t,e,i){"use strict";var n=i(1),o=i.n(n),a=i(24),s=i.n(a),r=i(2),c=i(19),l=i(0),u=i(3);function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={computed:{isCache:function(){var t;return(null===(t=this.$store.state.teach.teachData)||void 0===t?void 0:t.isCache)||!1}},methods:{M_genClickId:function(){var t,e,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this.$route.name==r.f.SUG?null===(t=this.$store)||void 0===t||null===(e=t.state)||void 0===e||null===(i=e.sug)||void 0===i?void 0:i.sugId:l.b.searchId;return[n.searchId||o,n.timestamp||+new Date,"".concat(Math.random()).substr(2,10)].join("-")},M_getItemReportId:function(t,e,i){var n=this.M_getBlockType(i);return[this.M_getBlockReportId(i,n),this.M_getItemReportContent(t,e,n)].join("$$")},M_getBlockReportId:function(t,e){var i=t||this,n=i.targetPos||i.displayPos||i.typePos||0,o=i.block&&i.block.title||i.data&&i.data.title||"";return e==c.a.teachType.HISTORY_IN_SINGLE_PAGE?(n=n||1,o=o||"搜索历史"):this.M_getPageType()==c.a.pageType.SUGGESTION&&(o=o||"SUG"),"".concat(n,"|").concat(e,"|").concat(encodeURIComponent(o))},M_getItemReportContent:function(t,e,i){if(!t)return"";var n=t.isDisplay||0,o=t.reason||"",a=t.docPullType||"",s=e||0,r=e||0,l=encodeURIComponent(t.nickName||t.appname||t.hotword||t.word||""),u=this.M_getDocType(t,i),d=t.username||t.userName||t.jumpInfo&&t.jumpInfo.username||t.jumpInfo&&t.jumpInfo.userName||"",p=t.appuin,h=t.appid||t.jumpInfo&&t.jumpInfo.appid||"",f=t.id||"",m=p||h||d||encodeURIComponent(f)||l||"";return i===c.a.teachType.BIZ_HOT_LIST&&(m="".concat(t.bizuin,"_").concat(t.msgid,"_").concat(t.idx)),"".concat(s,"|").concat(r,"|").concat(m,"|").concat("","|").concat(n,"|").concat(l,"|").concat(o,"|").concat("","|").concat(u,"|").concat(a)},M_exposeReportFor26897:function(t){if(t.length&&!this.disable26897()){var e=this,i={};t.forEach((function(t){var e=t.split("$$"),n=s()(e,2),o=n[0],a=n[1];o&&(i[o]=(i[o]||[]).concat([a]))})),u.a.$emit(u.b.TEACH_NEW_EXPOSE,{reportMap:i,isCache:e.isCache}),Object.keys(i).forEach((function(t){l.f.teach.commonTeachReport({itemInfo:t,docInfo:Array.from(new Set(i[t])).join("#"),pageType:e.M_getPageType(),actionId:r.g.EXPOSE_DOC,isCache:e.isCache})}))}},M_clickReportFor26897:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.disable26897(n&&n.pageName||"")){var o=this,a=o.M_getPageType(n&&n.pageName||""),c=i.actionId||this.M_getActionId(t,a),u=this.M_getItemReportId(t,e,n),d=u.split("$$"),h=s()(d,2),f=h[0],m=h[1],b=i.clickId||o.M_genClickId(i);o.$store.commit({type:"teach/updateState",clickReportId:b});var _=this.getJumpParamFor25661(t,c);c>=3001&&c<=3019&&l.f.reportJumpType(Object.assign({subType:null==f?void 0:f.split("|")[1],pageType:a,docId:null==m?void 0:m.split("|")[2],newSearchType:r.h.searchType.DOC_SEARCH},_)),l.f.teach.commonTeachReport(p(p({itemInfo:f,docInfo:m,actionId:c,pageType:a},i),{},{isCache:o.isCache,extInfo:encodeURIComponent(JSON.stringify({clickId:b}))}))}},M_getActionId:function(t,e){var i,n=(null==t?void 0:t.jumpType)||(null==t||null===(i=t.jumpInfo)||void 0===i?void 0:i.jumpType)||0;return n?3e3+parseInt(n):[c.a.pageType.SUGGESTION,c.a.pageType.HISTORY].includes(e)?[r.e.GLOBAL,r.e.KEYBOARD_HISTORY,r.e.GLOBAL_HISTORY,r.e.GLOBAL_RECOMMEND,r.e.GLOBAL_HIS_S1S_ENTRY,r.e.FINGER,r.e.S1S].includes(l.b.scene)?r.g.ALL_SEARCH:r.g.VERTICAL:r.g.CLICK_COMMON},M_getDocType:function(t,e){var i,n=(i={},o()(i,r.h.jumpType.WE_APP,c.a.docItemType.WEAPP),o()(i,r.h.jumpType.BIZ,c.a.docItemType.BIZ),i),a=t.jumpType||t.jumpInfo&&t.jumpInfo.jumpType||0;return t.docType?t.docType:this.getDocTypeByBlockType(e)?this.getDocTypeByBlockType(e):a?n[a]:this.M_getPageType()==c.a.pageType.SUGGESTION?c.a.docItemType.SUGGEST_WORD:"title"},getDocTypeByBlockType:function(t){switch(t){case c.a.teachType.HISTORY:case c.a.teachType.HISTORY_IN_SINGLE_PAGE:return c.a.docItemType.HISTORY_WORD;case c.a.teachType.HOTWORD:case c.a.teachType.RECOMMEND_BOX:return c.a.docItemType.SUGGEST_WORD;case c.a.teachType.FINDER_HOT_LIST:return c.a.docItemType.FINDER_HOT_VIDEO;case c.a.teachType.PAGE_SETTING:return c.a.docItemType.SETTING;case c.a.teachType.BIZ_HOT_LIST:return c.a.docItemType.MP;default:return""}},M_getBlockType:function(t){var e=t||this,i=e.block&&e.block.type||e.data&&e.data.type||0;return e.pageName!=r.f.HISTORY&&this.$route.name!=r.f.HISTORY||(i=c.a.teachType.HISTORY_IN_SINGLE_PAGE),i},M_getPageType:function(t){switch(t||this.$route.name){case r.f.HISTORY:return c.a.pageType.HISTORY;case r.f.SUG:return c.a.pageType.SUGGESTION;default:return c.a.pageType.TEACH}},disable26897:function(t){return this.M_getPageType(t)==c.a.pageType.HISTORY&&![r.e.HOME_TOP_ENTRY,r.e.LIVE_INNER_SEARCH].includes(l.b.scene)},getJumpParamFor25661:function(t,e){var i=t.jumpInfo||{},n=t.jumpType||i.jumpType||e-3e3,o=r.h.jumpType,a={};switch(n){case o.BIZ:a.bizUsername=i.userName||t.userName;break;case o.WE_APP:a.weappUsername=i.userName||i.username||t.userName||t.username,a.jumpPath=i.weappUrl||i.relativeURL||t.weappUrl||t.relativeURL;break;case o.H5:a.jumpUrl=i.jumpUrl||t.jumpUrl;break;case o.CALL_SPEC_API:a.apiName=i.api,a.apiParams=encodeURIComponent(i.apiParams)}var s=[o.VERTICAL,o.ALL_SEARCH];return p(p({},a),{},{jumpType:n,clickType:s.includes(n)?2:1,newSearchType:s.includes(n)?r.h.searchType.DOC_SEARCH:""})}}};e.a=h},484:function(t,e,i){"use strict";i(469)},577:function(t,e,i){},583:function(t,e,i){"use strict";i(577)},647:function(t,e,i){},649:function(t,e,i){},650:function(t,e,i){},651:function(t,e,i){},652:function(t,e,i){"use strict";var n=i(24),o=i.n(n),a=i(0),s=i(46),r=i.n(s);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.canNoLimit,i=void 0===e?[1,1,1]:e,n=t.startYear,s=void 0===n?2012:n,c=(t.pickerRef,o()(i,3)),l=c[0],u=c[1],d=c[2],p=function(t){var e=t.year,i=t.month,n=void 0===i?12:i,o=[{label:a.g.L("不限"),value:-1,children:[{label:a.g.L("不限"),value:-1}]}];u||(o=[]);for(var s=n;s>0;s--)o.push({label:a.g.L("".concat(s,"月")),value:s-1,children:h({year:e,month:s})});return o},h=function(t){var e=t.year,i=t.month,n=new Date(e,i,0).getDate();e===(new Date).getFullYear()&&i===(new Date).getMonth()+1&&(n=(new Date).getDate());var o=[{label:a.g.L("不限"),value:-1}];d||(o=[]);for(var s=n;s>0;s--)o.push({label:a.g.L("".concat(s,"日")),value:s});return o},f=function(){var t=[{label:a.g.L("不限"),value:-1,children:[{label:a.g.L("不限"),value:-1,children:[{label:a.g.L("不限"),value:-1}]}]}];l||(t=[]);var e=(new Date).getFullYear();t.push({label:e+a.g.L("年","","picker"),value:e,children:p({year:e,month:(new Date).getMonth()+1})});for(var i=e-1;i>=s;i--)t.push({label:i+a.g.L("年","","picker"),value:i,children:p({year:i})});return t}(),m=r.a.picker(f,Object.assign({title:"请选择发布时间",closeText:"取消",container:"body"},!1,t));return m}},718:function(t,e,i){"use strict";var n={props:{title:{type:String,default:""},tags:{type:Array,default:function(){return[]}},desc:{type:String,default:""},hasArrow:{type:Boolean,default:!1},hasDelete:{type:Boolean,default:!0},deleteIconProps:{type:Object,default:function(){return{}}}}},o=(i(743),i(4)),a=Object(o.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.instant",modifiers:{instant:!0}}],staticClass:"weui-cell history-item active__item",on:{click:function(e){return e.stopPropagation(),t.$emit("tap",e)}}},[i("div",{staticClass:"weui-cell__hd",attrs:{"aria-hidden":"true"}},[i("svg-icon",{staticClass:"history__icon",attrs:{name:"clock"}})],1),i("div",{staticClass:"weui-cell__bd",attrs:{role:"button"}},[i("div",{staticClass:"history__title"},[i("span",{staticClass:"ellipsis_1",attrs:{"aria-label":t.title}},[t._v(t._s(t.title))]),t.tags.length?i("ui-tags",{staticClass:"history__tags",attrs:{tags:t.tags,flex:""}}):t._e()],1),t.desc?i("div",{staticClass:"history__desc"},[t._v(t._s(t.desc))]):t._e()]),t.hasArrow||t.hasDelete?i("div",{staticClass:"weui-cell__ft"},[t.hasArrow?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"active__opacity",attrs:{role:"button","aria-label":"添加到搜索栏"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("tap:arrow",e)}}},[i("svg-icon",{staticClass:"history__icon",attrs:{name:"arrow.up.left"}})],1):t._e(),t.hasDelete?i("div",t._b({directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"active__opacity",attrs:{role:"button","aria-label":"删除"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("tap:delete",e)}}},"div",t.deleteIconProps,!1),[i("svg-icon",{staticClass:"history__icon",attrs:{name:"cross"}})],1):t._e()]):t._e()])}),[],!1,null,"3da37edc",null);e.a=a.exports},719:function(t,e,i){"use strict";var n=i(0),o={name:"HistoryClearItem",props:{wrapper:{type:String,default:"div"},title:{type:String,default:n.g.L("清除历史")},hideClearIcon:{type:Boolean,default:!1}}},a=(i(744),i(4)),s=Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.wrapper,{directives:[{name:"active",rawName:"v-active.instant",modifiers:{instant:!0}}],tag:"component",staticClass:"weui-cell history-action active__item",attrs:{role:"button","aria-label":t.title}},[t.hideClearIcon?t._e():i("svg-icon",{staticClass:"history-action__icon",attrs:{name:"trashcan","aria-hidden":"true"}}),t._v("\n  "+t._s(t.title)+"\n  "),t._t("default")],2)}),[],!1,null,"cc615e62",null);e.a=s.exports},736:function(t,e,i){"use strict";var n=i(0),o=i(2),a={props:["text","id","expired","relatedId"],data:function(){return{isShow:!1}},computed:{searchId:function(){switch(this.$route.name){case o.f.INDEX:return this.$store.state.index.recommendId;case o.f.TEACH:return this.$store.state.teach.recommendId;case o.f.SUG:return this.$store.state.sug.sugId;default:return n.b.searchId}}},watch:{id:function(){this.detect()},isShow:function(){this.isShow&&this.$emit("expose")}},mounted:function(){this.detect()},methods:{detect:function(){var t="".concat("reddot-badge","-").concat(this.id),e=n.d.getStore(t);if(e){var i=(new Date).getTime()-e.expose;this.isShow=!(this.expired&&i>1e3*this.expired)}else this.expired&&n.d.store(t,{expose:(new Date).getTime()}),this.isShow=!0;this.isShow&&n.f.reddotBadge.reportExpose({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};setTimeout((function(){t.isShow=!1}),e.delay||0)},onClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hide(t),n.f.reddotBadge.reportClick({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})}}},s=(i(741),i(4)),r=Object(s.a)(a,(function(){var t=this.$createElement,e=this._self._c||t;return this.isShow?e("div",{staticClass:"weui-badge reddot-badge",class:{"weui-badge_dot":!this.text},attrs:{"aria-hidden":"true"}},[this._v(this._s(this.text))]):this._e()}),[],!1,null,"440ddec4",null);e.a=r.exports},741:function(t,e,i){"use strict";i(647)},743:function(t,e,i){"use strict";i(649)},744:function(t,e,i){"use strict";i(650)},745:function(t,e,i){"use strict";i(651)},757:function(t,e,i){},785:function(t,e,i){},814:function(t,e,i){"use strict";var n=i(50),o={props:{list:{type:Array,default:function(){return[]}},gap:{type:Number,default:8},width:{type:String,default:"30%"},exposeAttr:{type:String,default:""}},computed:{itemStyle:function(){return{marginLeft:"".concat(this.gap,"px"),width:this.width}}},mounted:function(){var t=this;this.$nextTick((function(){t.initExpose(),t.executeExpose()}))},beforeDestroy:function(){this.destroyExpose()},updated:function(){this.executeExpose()},methods:{scroll:function(){var t=this;this.$emit("scroll"),this.$nextTick((function(){t.executeExpose()}))},initExpose:function(){var t=this,e=this.$refs.bdRef;e&&(this.expose=new n.Expose((function(e){e.length>0&&t.$emit("expose",e)}),{container:e,ensureWithinContainer:!0}))},destroyExpose:function(){this.expose&&(this.expose.destory(),this.expose=null)},executeExpose:function(){this.expose&&this.exposeAttr&&this.expose.analysis(this.exposeAttr)}}},a=(i(745),i(4)),s=Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"bdRef",staticClass:"horizontal-scroll"},[i("div",{staticClass:"horizontal-scroll__inner",on:{scroll:t.scroll}},t._l(t.list,(function(e,n){return i("div",{key:JSON.stringify(e),staticClass:"horizontal-scroll__item",style:t.itemStyle},[t._t("default",null,{item:e,index:n})],2)})),0)])}),[],!1,null,"20f2d75c",null);e.a=s.exports},853:function(t,e,i){},854:function(t,e,i){},857:function(t,e,i){},858:function(t,e,i){},860:function(t,e,i){},861:function(t,e,i){},863:function(t,e,i){},864:function(t,e,i){},865:function(t,e,i){},866:function(t,e,i){},867:function(t,e,i){},868:function(t,e,i){},869:function(t,e,i){},870:function(t,e,i){},871:function(t,e,i){},872:function(t,e,i){},873:function(t,e,i){},874:function(t,e,i){},875:function(t,e,i){},876:function(t,e,i){},877:function(t,e,i){},878:function(t,e,i){},879:function(t,e,i){},880:function(t,e,i){},881:function(t,e,i){},882:function(t,e,i){},884:function(t,e,i){},885:function(t,e,i){},888:function(t,e,i){},889:function(t,e,i){},890:function(t,e,i){},892:function(t,e,i){},893:function(t,e,i){},894:function(t,e,i){},895:function(t,e,i){},896:function(t,e,i){},897:function(t,e,i){},898:function(t,e,i){},899:function(t,e,i){},900:function(t,e,i){},902:function(t,e,i){},904:function(t,e,i){},905:function(t,e,i){},906:function(t,e,i){},908:function(t,e,i){},909:function(t,e,i){},910:function(t,e,i){},911:function(t,e,i){},912:function(t,e,i){},913:function(t,e,i){},914:function(t,e,i){},915:function(t,e,i){},916:function(t,e,i){},918:function(t,e,i){},919:function(t,e,i){}}]);