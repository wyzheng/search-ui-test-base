(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{1254:function(t,e,i){},1255:function(t,e,i){},1892:function(t,e,i){"use strict";i(1254)},1893:function(t,e,i){"use strict";i(1255)},518:function(t,e,i){"use strict";i.r(e);var n=i(1),o=i.n(n),a=i(0),r=i(3),s=i(28),c={mixins:[a.k,a.m],props:{title:{type:String,default:""},subTitle:{type:String,default:""},desc:{type:[String,Array],default:""},iconUrl:{type:String,default:""},jumpInfo:{type:Object,default:null},pop:{type:Object,default:null},button:{type:Object,default:null},type:{type:String,default:"live"}}},l=(i(1892),i(4)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!!t.pop||!!t.jumpInfo,expression:"!!pop || !!jumpInfo ",modifiers:{stop:!0}}],class:"line single-item single-item_"+t.type,attrs:{role:"button"},on:{click:function(e){return t.$emit("tap",t.pop||t.jumpInfo)}}},[t.iconUrl?i("online-image",{staticClass:"line__item no-shrink item__icon",attrs:{url:t.iconUrl,"is-icon":!0,"aria-hidden":"true"}}):t._e(),i("div",{staticClass:"line__item primary item__info"},[i("div",{staticClass:"line item__info-row"},[t.title?i("div",{staticClass:"line__item no-shrink item__title"},[t._v("\n        "+t._s(t.title)+"\n      ")]):t._e(),t.subTitle?i("div",{staticClass:"line__item primary item__subTitle"},[t._v("\n        "+t._s(t.subTitle)+"\n      ")]):t._e()]),t.desc?i("div",{staticClass:"item__desc"},[t._v("\n      "+t._s(t.desc)+"\n    ")]):t._e()]),i("div",{staticClass:"line__item no-shrink item__handler",attrs:{"data-report-id":t.M_itemReportId(t.button.reportId)}},[t.button&&t.button.title?t.button&&t.button.loading?i("span",{staticClass:"circle-loading item__icon-loading",attrs:{"aria-hidden":"true"}}):i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"item__button active__mask",attrs:{role:"button"},on:{click:function(e){e.stopPropagation(),t.$emit("tap:button",t.button,t.M_getItemPos(t.button.reportId))}}},[t._v(t._s(t.button&&t.button.title))]):i("ui-arrow",{staticClass:"item__arrow",attrs:{align:"flex","aria-hidden":!0}})],1)],1)}),[],!1,null,"3576334f",null).exports,d=i(10),p=i(2);function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var _=new d.a({1:"Notice",2:"Live",4:"ActiveLive",8:"Activity",9:"NoticeIndigo"}),b={name:"BarList",components:{SingleItem:u},mixins:[a.k,a.m,a.i],data:function(){return{list:[]}},computed:{reportCardType:function(){return this.list.reduce((function(t,e){return t|e.busiType}),0)}},watch:{itemInfo:{immediate:!0,handler:function(t){var e=(t&&t.barList||[]).length;this.list=(t&&t.barList||[]).map((function(t){try{if(t.subItemExtendJson){var i,n,a=JSON.parse(t.subItemExtendJson);t=v(v({},a),{},{title:null==a||null===(i=a.extraInfo)||void 0===i?void 0:i.title,subTitle:null==a||null===(n=a.extraInfo)||void 0===n?void 0:n.desc},t)}}catch(t){}return v(v({},t),{},{button:v(v({loading:!1},t.button||{}),{},{reportId:t.buttonReportid}),type:e>1?(s={},o()(s,_.Notice,"multi-notice"),o()(s,_.Live,"multi-live"),o()(s,_.ActiveLive,"multi-live-active"),o()(s,_.Activity,"multi-activity"),o()(s,_.NoticeIndigo,"notice-indigo"),s)[t.busiType]||"":t.busiType!=_.Activity||t.desc?(r={},o()(r,_.Notice,"notice"),o()(r,_.Live,"live"),o()(r,_.ActiveLive,"live-active"),o()(r,_.Activity,"activity"),o()(r,_.NoticeIndigo,"notice-indigo"),r)[t.busiType]||"":"activity-lite"});var r,s}))}}},mounted:function(){var t=this;this.$nextTick((function(){a.f.activitySlide.reportExpose({docID:t.item.docID,cardPos:t.list.length,businessType:t.data.real_type?t.data.real_type:t.data.type,cardType:t.reportCardType})}))},methods:{onTap:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(this.list[e]&&t){this.M_serviceSearchGo(i);var n=a.g.generateGuuId(),r=this.M_clickReport({clickZone:2,clickContent:this.list[e].title},i),s=r.clickId;a.f.activitySlide.reportClick(o()({docID:this.item.docID,cardPos:e,logKeyId:n,businessType:this.data.real_type?this.data.real_type:this.data.type,cardType:this.reportCardType},"logKeyId",s)),this.$emit("tap")}},onTapButton:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;this.list[i]&&(t.loading||(a.g.fastClickCheck((function(){var l=a.g.generateGuuId(),u=e.M_clickReport({clickZone:2,clickContent:t.title,itemPos:c,actionType:t.jumpInfo||"finderLivingSubscribe"!=t.cgiName?void 0:"预约"==t.title?p.g.CLICK_SUBSCRIBE:p.g.CLICK_CANCEL_SUBSCRIBE},t).clickId;if(a.f.activitySlide.reportClick(o()({docID:e.item.docID,cardPos:i,logKeyId:l,businessType:e.data.real_type?e.data.real_type:e.data.type,cardType:e.reportCardType},"logKeyId",u)),t.cgiName){e.list[i].button.loading=!0;var d=setTimeout((function(){e.list[i].button.loading=!1}),3e3);a.h.getCommonCgiData({cgiName:t.cgiName,data:t.param}).then((function(t){r.a.$emit(a.j.hideToast),d&&clearTimeout(d),t.button?e.list[i].button=v(v({},t.button),{},{loading:!1,reportId:n.buttonReportid}):e.list[i].button.loading=!1,t.successMsg&&r.a.$emit(a.j.showToast,{action:s.a.pure,text:t.successMsg})}))}else e.M_serviceSearchGo(t)}),1e3),this.$emit("tap")))}}},f=(i(1893),Object(l.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"oz__body oz__item oz__margin-dense",class:{"not-oz":!t.isOz},staticStyle:{"margin-top":"-4px"},attrs:{"data-id":t.M_exposeId()}},[i("div",{staticClass:"bar-list"},t._l(t.list,(function(e,n){return i("single-item",t._b({key:n,attrs:{"data-report-id":t.M_itemReportId(e.reportId,n+1),"parent-item-pos":e.button&&e.button.reportId?n+1+":"+t.M_getItemType(e.reportId):""},on:{tap:function(i){return t.onTap(i,n,e)},"tap:button":function(i,o){return t.onTapButton(i,n,e,o)}}},"single-item",e,!1))})),1)])}),[],!1,null,"e5ac8d20",null));e.default=f.exports}}]);