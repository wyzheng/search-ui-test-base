(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{1344:function(t,i,e){},1345:function(t,i,e){},1983:function(t,i,e){"use strict";e(1344)},1984:function(t,i,e){"use strict";e(1345)},2311:function(t,i,e){"use strict";e.r(i);var n=e(9),a=e(8),o=e(0),c={name:"LocationBar",props:{link:{type:String,default:""},text:{type:String,default:""},pickerId:{type:String,default:""},pickerData:{type:Object,default:function(){return null}}},data:function(){return{locationDisplayStr:this.link||this.pickerData&&this.getLocationArray(this.pickerData.anchor).join("·"),locationValue:[]}},watch:{link:function(){this.locationDisplayStr=this.link}},created:function(){this.cityPicker=null,this.pickerData&&(a.b.onInputChange(this.hide),a.b.onInputConfirm(this.hide),o.a.$on(o.j.REAL_SWITCH_TAB,this.hide),o.a.$on(o.j.APP_VIEW_CHANGED,this.hide),this.locationValue=this.getLocationArray(this.pickerData.realAnchor||this.pickerData.anchor))},methods:{hide:function(){this.cityPicker&&this.cityPicker.hide()},getLocationArray:function(t){if(!t)return[];var i=[];return t.province&&i.push(t.province),t.city&&i.push(t.city),t.distinct&&i.push(t.distinct),i},onTapLocation:function(){var t=this;if(this.$emit("tap:location"),this.pickerData){var i=this.pickerData;n.a.cityPicker({id:this.pickerId||+new Date,className:"location-bar__picker",title:i.title,desc:i.desc,supports:i.support,defaultValue:i.defaultValue?i.defaultValue:this.locationValue,rules:i.showList,onClose:function(){t.$emit("tap:location:close")},onChange:function(i){var e=i.filter((function(t){return t.value})).map((function(t){return t.value}));t.$emit("tap:location:change",e)},onConfirm:function(i){var e=i.filter((function(t){return t.value})).map((function(t){return t.value}));t.locationDisplayStr=e.join("·"),t.locationValue=e,t.$emit("tap:location:confirm",e)}}).then((function(i){t.cityPicker=i}))}}}},s=(e(1983),e(4)),r={name:"ShowPriceCompare",components:{LocationBar:Object(s.a)(c,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"location-bar"},[e("a",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"location-bar-link active__opacity",attrs:{role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapLocation.apply(null,arguments)}}},[e("ui-icon",{attrs:{name:"location"}}),e("span",{staticClass:"location-bar-link-text",attrs:{"aria-label":"已选定, "+t.locationDisplayStr+t.text+", 切换地区"}},[t._v("\n      "+t._s(t.locationDisplayStr)+"\n    ")])],1),t.text?e("span",{staticClass:"location-bar-text",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.text))]):t._t("default")],2)}),[],!1,null,"135aa9e0",null).exports},mixins:[o.m,o.k],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},computed:{discountItem:function(){return this.source.discountItem}},methods:{onTapLocation:function(){var t="".concat(this.M_getClickZonePath(),".discountItem.location");this.M_storeClickInfo(),this.M_serviceSearchGo(this.discountItem.location),this.M_clickReport({clickZone:t,clickContent:this.discountItem.location.link,expand:this.M_getJumpSubScene(this.discountItem.location)})},onTapItem:function(t,i){var e="".concat(this.M_getClickZonePath(),".discountItem.list[").concat(i,"]");this.M_storeClickInfo(),this.M_serviceSearchGo(t.button||t,e),this.M_clickReport({clickZone:e,clickContent:t.title,expand:this.M_getJumpSubScene(t.button||t)})},onTapItemButton:function(t,i){var e="".concat(this.M_getClickZonePath(),".discountItem.list[").concat(i,"].button");this.M_storeClickInfo(),this.M_serviceSearchGo(t.button||t,e),this.M_clickReport({clickZone:e,clickContent:t.button.title||"",expand:this.M_getJumpSubScene(t.button||t)})},onTapMore:function(){var t="".concat(this.M_getClickZonePath(),".action");this.M_storeClickInfo(),this.M_serviceSearchGo(this.source.action,t),this.M_clickReport({clickZone:t,clickContent:this.source.action.title||"",expand:this.M_getJumpSubScene(this.source.action)})}}},l=(e(1984),Object(s.a)(r,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"show-price-compare"},[e("location-bar",{attrs:{link:t.discountItem.location.link,text:t.discountItem.location.text},on:{"tap:location":t.onTapLocation}}),e("div",{staticClass:"card-wrapper"},[t._l(t.discountItem.list,(function(i,n){return e("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:i.title+i.desc,staticClass:"card-list-item active__item",on:{click:function(e){return e.stopPropagation(),t.onTapItem(i,n)}}},[e("div",{staticClass:"text-content",attrs:{role:"button",tabindex:"-1"}},[e("p",{staticClass:"title"},[t._v(t._s(i.title)),e("span",{staticClass:"ui-aria-hidden"},[t._v(",")])]),e("p",{staticClass:"desc"},[t._v(t._s(i.desc)),e("span",{staticClass:"ui-aria-hidden"},[t._v(".")])]),e("p",{staticClass:"price"},[e("span",{staticClass:"price-now",attrs:{"aria-label":"现价"+i.newPrice}},[t._v(t._s(i.newPrice))]),e("span",{staticClass:"price-old",attrs:{"aria-label":"原价"+i.oldPrice}},[t._v(t._s(i.oldPrice))]),e("span",{staticClass:"ui-aria-hidden"},[t._v(",")]),t._l(i.tag,(function(t,i){return e("ui-tag",{key:t.title+i,attrs:{"aria-hidden":"true",type:t.type,title:t.title,desc:t.desc}})}))],2)]),e("a",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"active__opacity",attrs:{role:"button",tabindex:"-1"},on:{click:function(e){return e.stopPropagation(),t.onTapItemButton(i,n)}}},[t._v(t._s(i.button.title))])])})),t.source.action&&t.source.action.title?e("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"action active__item",attrs:{role:"button",tabindex:"-1"},on:{click:function(i){return i.stopPropagation(),t.onTapMore.apply(null,arguments)}}},[t._v("\n      "+t._s(t.source.action.title)+"\n    ")]):t._e()],2)],1)}),[],!1,null,"bedb9fac",null));i.default=l.exports}}]);