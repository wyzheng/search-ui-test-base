(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{1074:function(t,e,i){},1075:function(t,e,i){},1076:function(t,e,i){},1077:function(t,e,i){},1078:function(t,e,i){},1079:function(t,e,i){},1080:function(t,e,i){},1354:function(t,e,i){},1355:function(t,e,i){},1356:function(t,e,i){},1708:function(t,e,i){"use strict";i(1074)},1709:function(t,e,i){"use strict";i(1075)},1710:function(t,e,i){"use strict";i(1076)},1711:function(t,e,i){"use strict";i(1077)},1712:function(t,e,i){"use strict";i(1078)},1713:function(t,e,i){"use strict";i(1079)},1714:function(t,e,i){"use strict";i(1080)},1993:function(t,e,i){"use strict";i(1354)},1994:function(t,e,i){"use strict";i(1355)},1995:function(t,e,i){"use strict";i(1356)},2148:function(t,e,i){"use strict";i.r(e);var n,s=i(1),o=i.n(s),a=i(0),c=i(9),r=i(8),l=i(3),u={name:"Location",props:{location:{type:Object,default:function(){return{}}},changeDirection:Boolean},computed:{picker:function(){return this.location.picker},locationArray:function(){if(!this.picker)return[];var t=this.picker.anchor,e=[];return t&&(t.province&&e.push(t.province),t.city&&e.push(t.city),t.distinct&&e.push(t.distinct)),e}},created:function(){this.cityPicker=null,r.b.onInputChange(this.hide),r.b.onInputConfirm(this.hide),a.a.$on(l.b.REAL_SWITCH_TAB,this.hide),a.a.$on(l.b.APP_VIEW_CHANGED,this.hide)},methods:{hide:function(){this.cityPicker&&this.cityPicker.hide()},onTapLocationChange:function(){var t=this;this.$emit("traffic:city-clicked"),c.a.cityPicker({id:+new Date,className:"traffic__picker",supports:this.picker.support,defaultValue:this.locationArray,rules:this.picker.showList,onConfirm:function(e){t.$emit("traffic:city-changed",e)}}).then((function(e){t.cityPicker=e}))},onTapLocation:function(){this.picker?this.onTapLocationChange():this.$emit("tap:location",{location:this.location})}}},p=(i(1708),i(4)),h=Object(p.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"location",attrs:{"aria-atomic":"true"}},[t.changeDirection?i("span",{staticClass:"desc-text desc-text-left"},[t._v(t._s(t.location.desc))]):t._e(),i("a",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"location-link active__mask expand-hotspot",attrs:{role:"button",tabindex:"-1"},on:{click:function(e){return e.stopPropagation(),t.onTapLocation.apply(null,arguments)}}},[t.location.iconName?i("svg-icon",{attrs:{name:t.location.iconName}}):t._e(),i("span",{staticClass:"ellipsis_1",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.location.location))]),i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s("location"===t.location.iconName?"已选定,"+t.location.location+", 切换地区":t.location.location))])],1),t.changeDirection?t._e():i("span",{staticClass:"desc-text"},[t._v("\n    "+t._s(t.location.desc)+"\n  ")])])}),[],!1,null,"5086ec76",null).exports,f={name:"More",props:{text:{type:String,default:""}},methods:{onTapMore:function(){this.$emit("tap:more")}}},d=(i(1709),Object(p.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"more active__item",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapMore.apply(null,arguments)}}},[i("a",[t._v(t._s(t.text))])])}),[],!1,null,"6d97526b",null).exports),m={name:"Navigation",components:{More:d,Location:h},mixins:[a.m,a.k],inject:["clickZone","report","d"],props:{item:{type:Object,default:function(){return{}}},syncInfo:{type:Object,default:function(){return{}}}},methods:{onTapLocation:function(t){var e=t.location;this.report({clickZone:"".concat(this.M_getClickZonePath(),".location"),clickContent:e.location},e),this.M_go(e)},onTapMore:function(){this.report({clickZone:"".concat(this.M_getClickZonePath(),".result.more"),clickContent:this.item.result.more.text},this.item.result.more),this.M_go(this.item.result.more)},onTapOption:function(t,e){this.report({clickZone:"".concat(this.M_getClickZonePath(),".result.options[").concat(e,"]"),clickContent:t.title},t.button||t),this.M_go(t.button||t)}}},_=(i(1710),Object(p.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navigation"},[t.item.location?i("location",{attrs:{location:t.item.location},on:{"tap:location":t.onTapLocation}}):t._e(),t.item.result.options?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"options-wrapper"},[t.item.result.options?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"card-wrapper"},[t._l(t.item.result.options,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:JSON.stringify(e),staticClass:"option-card active__item",attrs:{role:"button"},on:{click:function(i){return t.onTapOption(e,n)}}},[i("div",{staticClass:"option-card-content"},[e.heading?i("p",{staticClass:"option-name ellipsis_1"},[t._v("\n            "+t._s(e.heading)+"\n            "),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")])]):t._e(),i("p",{staticClass:"option-title ellipsis_1"},[t._v("\n            "+t._s(e.title)+"\n            "),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")])]),e.desc?i("p",{staticClass:"option-sub-title ellipsis_1"},[t._v("\n            "+t._s(e.desc)+"\n            "),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")])]):t._e(),e.distance?i("p",{staticClass:"option-sub-title ellipsis_1"},[t._v("\n            "+t._s(e.distance)+"\n            "),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")])]):t._e()]),i("a",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"option-card-button",attrs:{"aria-hidden":"true"}},[t._v("\n          "+t._s(e.button.title)+"\n        ")])])})),t.item.result.more?i("more",{attrs:{text:t.item.result.more.text},on:{"tap:more":t.onTapMore}}):t._e()],2):t._e()]):t._e()],1)}),[],!1,null,"616e53e8",null).exports),v={name:"Bus",components:{More:d,Location:h},mixins:[a.m,a.k],inject:["clickZone","report","d"],props:{item:{type:Object,default:function(){return{}}}},methods:{onTapOption:function(t,e){this.M_go(t.button||t),this.report({clickZone:"".concat(this.M_getClickZonePath(),".result.options[").concat(e,"]"),clickContent:t.title})},onTapMore:function(){this.M_go(this.item.result.more),this.report({clickZone:"".concat(this.M_getClickZonePath(),".result.more"),clickContent:this.item.result.more.text},this.item.result.more)},onTapLocation:function(t){var e=t.location;this.M_go(e),this.report({clickZone:"".concat(this.M_getClickZonePath(),".location"),clickContent:e.location},e)},onTapRevert:function(t,e){this.M_go(t),this.report({clickZone:"".concat(this.M_getClickZonePath(),".result.options[").concat(e,"].revertButton"),clickContent:t.title},t)},onTrafficCityChanged:function(t){var e=t.filter((function(t){return t.label})).join("|").split("|");this.$emit("cityChanged",{province:e[0],city:e[1]})}}},b=(i(1711),Object(p.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bus"},[t.item.location?i("location",{attrs:{location:t.item.location},on:{"tap:location":t.onTapLocation,"traffic:city-changed":t.onTrafficCityChanged}}):t._e(),i("div",{staticClass:"options-wrapper"},[t.item.result.options?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"card-wrapper"},[t._l(t.item.result.options,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:JSON.stringify(e),staticClass:"option-card active__item",attrs:{role:"button"},on:{click:function(i){return t.onTapOption(e,n)}}},[i("div",{staticClass:"option-card-content"},[i("p",{staticClass:"ellipsis_1 option-title"},[t._v("\n            "+t._s(e.heading)+"\n            "),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")])]),i("p",{staticClass:"option-title bus-title"},[i("span",{staticClass:"ellipsis_1",attrs:{"aria-label":e.title.replace(" - ",",到,")}},[t._v(t._s(e.title))]),e.revertButton?i("a",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"option-title-button active__opacity",on:{click:function(i){return i.stopPropagation(),t.onTapRevert(e.revertButton,n)}}},[t._v("\n              "+t._s(e.revertButton.title)+"\n            ")]):t._e(),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")])]),e.desc?i("p",{staticClass:"option-sub-title ellipsis_1"},[t._v("\n            "+t._s(e.desc)+"\n            "),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")])]):t._e(),e.button&&e.button.title?i("p",{staticClass:"option-link ellipsis_1"},[i("span",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"active__opacity"},[t._v("\n              "+t._s(e.button.title)+"\n            ")])]):t._e(),e.infos?i("div",{staticClass:"bus-infos-wrapper"},t._l(e.infos,(function(e){return i("div",{key:JSON.stringify(e),staticClass:"bus-info"},[i("p",{staticClass:"card-source ellipsis_1"},[t._v(t._s(e.main))]),i("p",{staticClass:"card-title ellipsis_1"},[t._v("\n                "+t._s(e.sub)+"\n              ")]),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")])])})),0):t._e()])])})),t.item.result.more?i("more",{attrs:{text:t.item.result.more.text},on:{"tap:more":t.onTapMore}}):t._e()],2):t._e()])],1)}),[],!1,null,"25174a9e",null).exports),g={name:"Flight",components:{Location:h},mixins:[a.m,a.k],inject:["clickZone","report","d"],props:{item:{type:Object,default:function(){return{}}},syncInfo:{type:Object,default:function(){return{}}}},methods:{onTapLocation:function(t){var e=t.location;this.report({clickZone:"".concat(this.M_getClickZonePath(),".location"),clickContent:e.location},e),this.M_go(e)},onTapOption:function(t,e){this.report({clickZone:"".concat(this.M_getClickZonePath(),".result.options[").concat(e,"]"),clickContent:t.title},t.button||t),this.M_go(t.button||t)}}},C=(i(1712),Object(p.a)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flight"},[t.item.location?i("location",{attrs:{location:t.item.location,"change-direction":""},on:{"tap:location":t.onTapLocation}}):t._e(),i("div",{staticClass:"options-wrapper"},[t.item.result.options?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"card-wrapper"},t._l(t.item.result.options,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:JSON.stringify(e),staticClass:"option-card active__item",on:{click:function(i){return t.onTapOption(e,n)}}},[i("div",{staticClass:"option-card-content",attrs:{role:"button"}},[e.heading?i("p",{staticClass:"ellipsis_1 option-mode"},[t._v("\n            "+t._s(e.heading)+"\n            "),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")])]):t._e(),e.title?i("p",{staticClass:"ellipsis_1 option-title"},[t._v("\n            "+t._s(e.title)+"\n          ")]):t._e(),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),e.infos&&e.infos.length>0?i("div",{staticClass:"flight-infos-wrapper"},[i("div",{staticClass:"flight-info"},[i("p",{staticClass:"flight-info-main ellipsis_1",attrs:{"aria-label":e.infos[0].main+":"}},[t._v(t._s(e.infos[0].main))]),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")]),i("p",{staticClass:"flight-info-sub ellipsis_1"},[t._v(t._s(e.infos[0].sub))])]),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")]),i("svg-icon",{attrs:{name:"flight-arrow","aria-label":"到"}}),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")]),i("div",{staticClass:"flight-info"},[i("p",{staticClass:"flight-info-main ellipsis_1",attrs:{"aria-label":e.infos[1].main+":"}},[t._v(t._s(e.infos[1].main))]),i("span",{staticClass:"ui-aria-hidden"},[t._v(",")]),i("p",{staticClass:"flight-info-sub ellipsis_1"},[t._v(t._s(e.infos[1].sub))])])],1):t._e()])])})),0):t._e()])],1)}),[],!1,null,"414f2687",null).exports),y={name:"NoResult",components:{Location:h},mixins:[a.m,a.k],inject:["clickZone","report","d"],props:{item:{type:Object,default:function(){return{}}},syncInfo:{type:Object,default:function(){return{}}}},methods:{onTapLocation:function(){this.report({clickZone:"".concat(this.M_getClickZonePath(),".location"),clickContent:location.location}),this.M_go(this.item.location)},onTrafficCityChanged:function(t){var e=t.filter((function(t){return t.label})).join("|").split("|");this.$emit("cityChanged",{province:e[0],city:e[1]})},onTapNoResult:function(){this.report({clickZone:"".concat(this.M_getClickZonePath(),".tip"),clickContent:this.item.tip},this.item),this.M_go(this.item)}}},k=(i(1713),Object(p.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navigation"},[t.item.location?i("location",{attrs:{location:t.item.location,"change-direction":t.item.location&&t.item.location.swap},on:{"tap:location":t.onTapLocation,"traffic:city-changed":t.onTrafficCityChanged}}):t._e(),i("div",{staticClass:"options-wrapper",attrs:{role:"button"}},[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"no-result-tip active__item",on:{click:t.onTapNoResult}},[t._v("\n      "+t._s(t.item.tip)+"\n    ")])])],1)}),[],!1,null,"617e02c0",null).exports),x=i(10),T=i(39),w=i(84),O=i(42),R=i(28),j=i(80),M=i(2);function S(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function N(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?S(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var P=new x.a({navigation:1,bus:2,flight:3,noResult:4}),I=new x.a((n={},o()(n,P.navigation,1),o()(n,P.bus,2),o()(n,P.flight,3),o()(n,P.noResult,4),n)),Z={name:"Traffic",components:{BlockTitle:j.default,HeightAnimate:O.a,Source:w.default,navigation:_,flight:C,bus:b,noResult:k},mixins:[T.a,a.k],provide:function(){return{types:P,clickZone:I,d:this.d,report:this.report}},props:{d:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},data:function(){return{data:this.d,query:"",result:null,animating:!1,bufferResult:null,types:P,withoutAnimate:!0,location:null,isRefresh:!1,M_clickZoneValue:"$",selectedIndex:0}},computed:{boxID:function(){return this.d.boxID},item:function(){return this.d.items&&this.d.items[this.selectedIndex]},form:function(){return this.item.forms&&this.item.forms[0]||null},canSourceChange:function(){return this.d.items.length>1}},watch:{animating:function(t){!t&&this.bufferResult&&(this.result=this.bufferResult,this.bufferResult=null,this.isRefresh=!1)},boxID:function(){var t=this;this.withoutAnimate=!0,this.selectedIndex=0,this.result=this.item.trafficSearchResults&&this.item.trafficSearchResults[0]||null,this.animating=!1,this.bufferResult=null,this.query=this.form.searchBar.query,this.location=null,this.$nextTick((function(){t.withoutAnimate=!1}))},selectedIndex:function(){this.M_clickZoneValue="$.items[".concat(this.selectedIndex,"]")}},created:function(){var t=this;this.query=this.form.searchBar.query,this.result=this.item.trafficSearchResults&&this.item.trafficSearchResults[0]||null,this.M_clickZoneValue="$.items[".concat(this.selectedIndex,"]"),this.$nextTick((function(){t.withoutAnimate=!1})),r.b.onWebviewResume(this._onResearch)},beforeDestroy:function(){r.b.offWebviewResume(this._onResearch)},methods:{_onResearch:function(t){var e=t.clickInfo,i=e.docID,n=void 0===i?"":i,s=e.docId,o=void 0===s?"":s;n!==this.item.docID&&o!==this.item.docID||(this.isRefresh=!0,this.search(N({query:this.query},this.location)))},report:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.M_handleInsert(),this.M_clickReport(Object.assign({resultType:this.d.resultType,resultSubType:this.d.subType,pageNo:this.d.vuePage,businessType:this.d.real_type||this.d.type,docId:this.docID||this.item.docID},t),e)},onTapSearchButton:function(){this.search(N({query:this.query},this.location)),this.report({clickZone:"".concat(this.M_getClickZonePath(),".forms[0].searchBar.button"),clickContent:this.form.searchBar.button.title})},onCityChanged:function(t){this.location=t,this.search(N({query:this.query},this.location)),this.report({clickZone:"".concat(this.M_getClickZonePath(),".trafficSearchResults[0].city-changed"),clickContent:"".concat(t.province,"·").concat(t.city)})},search:function(t){var e=this;if(t.query){this.isRefresh||(this.result=null,this.animating=!0,setTimeout((function(){return e.animating=!1}),400));var i=this.form.searchBar.button;if(i.cgi){if(i._isLoading)return;this.isRefresh?(l.a.$emit(a.j.showToast,{action:R.a.loading}),setTimeout((function(){l.a.$emit(a.j.hideToast)}),3e3)):(this.$set(i,"_isLoading",!0),setTimeout((function(){e.$set(i,"_isLoading",!1)}),3e3)),a.h.getCommonCgiData({cgiName:"ServiceSearchCommApi",data:N({cmd:i.cgi.name,data:t},i.cgi.params)}).then((function(t){if(l.a.$emit(a.j.hideToast),e.$set(e.form.searchBar.button,"_isLoading",!1),t.errCode)e.$store.commit("updateDialog",{title:t.errMsg,cancel:!1});else{if(t.jumpInfo&&t.jumpInfo.jumpType&&!e.isRefresh)return e.isRefresh=!1,void e.M_go(t.jumpInfo);var i=t.trafficSearchResults&&t.trafficSearchResults[0];e.isRefresh?(e.result=i,e.isRefresh=!1):e.animating?e.bufferResult=i:e.result=i}}))}else!this.isRefresh&&this.M_confirm_go(this.item.dialog,i)}else this.isRefresh?this.isRefresh=!1:this.$store.commit("updateDialog",{title:this.item.emptyMessage||this.item.emptyMassage||"请输入查询地点",cancel:!1})},onTapSource:function(){var t;if(this.canSourceChange){var e=this;this.report({clickZone:"source",clickContent:null===(t=this.item.source)||void 0===t?void 0:t.title,actionType:M.g.CLICK_CP_CODE}),this.$store.commit({type:"updateActionSheet",title:"选择服务提供方",style:1,sheets:this.d.items.map((function(t){return Object.assign({},t.source,{tag:t.source.tags})})),className:"traffic-action-sheet",clickCallback:function(t){var i,n,s;if(e.report({clickZone:"actionSheet",clickContent:null===(i=e.d.items)||void 0===i||null===(n=i[t.pos-1])||void 0===n||null===(s=n.source)||void 0===s?void 0:s.title,actionType:M.g.CONFIRM_CHANGE_CODE}),e.selectedIndex!==t.pos-1){e.selectedIndex=t.pos-1;var o=e.item.source.cgi;o&&o.name&&a.h.commonCgi({cgiName:o.name,data:o.params}),e.query&&e.search(N({query:e.query},e.location))}}})}else this.M_clickSourceReport()}}},$=(i(1714),Object(p.a)(Z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.boxID,staticClass:"traffic",attrs:{"data-id":t.M_exposeId(),"data-back-report-id":t.M_genDocReportId({data:t.d,typePos:t.typePos,item:t.item,pos:t.selectedIndex+1})}},[t.d.title?i("block-title",{attrs:{d:t.d,"type-pos":t.typePos}}):t._e(),i("div",{staticClass:"ctn"},[i("div",{staticClass:"desc"},[t._v("\n      "+t._s(t.item.desc)+"\n    ")]),t.item.forms?i("form",{staticClass:"traffic-search-bar",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.onTapSearchButton.apply(null,arguments)}}},[i("label",{attrs:{for:"target"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"weui-input",attrs:{id:"target",type:"text",placeholder:t.form.searchBar.placeholder||"搜索地点"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{staticClass:"weui-btn weui-btn_primary weui-btn_mini",class:{"weui-btn_loading":t.form.searchBar.button._isLoading},attrs:{type:"submit"}},[t.form.searchBar.button._isLoading||t.animating?i("span",{staticClass:"circle-loading"}):i("span",{staticClass:"weui-btn-text"},[t._v(t._s(t.form.searchBar.button.title))])])]):t._e(),t.result?i("height-animate",{attrs:{duration:300,"without-enter":t.isRefresh||t.withoutAnimate,"without-leave":t.isRefresh||t.withoutAnimate}},[i(t.types[t.result.type],{key:JSON.stringify(t.result),ref:"result",tag:"component",attrs:{tabindex:"-1",item:t.result,"click-zone-prop":"trafficSearchResults[0]"},on:{cityChanged:t.onCityChanged}})],1):t._e()],1),t.item.source||t.setting?i("ui-source",{attrs:{block:"",title:t.item.source&&t.item.source.title,"icon-url":t.item.source&&t.item.source.iconUrl},nativeOn:{click:function(e){return t.onTapSource.apply(null,arguments)}},scopedSlots:t._u([{key:"after-text",fn:function(){return[t.canSourceChange?i("ui-arrow",{attrs:{align:"flex",direction:"down",gap:""}}):t._e()]},proxy:!0}],null,!1,273463211)}):t._e()],1)}),[],!1,null,"04f3c2e4",null));e.default=$.exports},2193:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i(10),o={name:"Trains",components:{CommonTable:i(724).a},mixins:[n.m],props:{item:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},computed:{result:function(){return this.item.result},headerText:function(){return this.result.table.header&&this.result.table.header.text}},methods:{getLineClass:function(t,e,i){var n={};return t.isEllipsis&&(n["table-td-ellipsis"]=!0),t.isCurrent&&0===i&&(n["table-td-current"]=!0),this.isBeginStation(t,e,i)&&(n["table-td-begin"]=!0),this.isEndStation(t,e,i)&&(n["table-td-end"]=!0),n},isBeginStation:function(t,e,i){return 0===e&&0===i},isEndStation:function(t,e,i){return e===this.item.result.table.content.length-1&&0===i},onTapMore:function(){var t=this.item.result.more;this.M_storeClickInfo(),this.M_serviceSearchGo(t),this.M_clickReport({clickZone:"$items[0].trafficSearchResult[0].result.more",clickContent:t.text,expand:this.M_getJumpSubScene(t)})}}},a=(i(1993),i(4)),c=Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trains"},[t.result&&t.result.table?i("common-table",{attrs:{table:t.result.table},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.line,s=e.index;return[i("td",{staticClass:"table-td",class:t.getLineClass(n,s,0),attrs:{"aria-label":((t.isBeginStation(n,s,0)?"始发站":t.isEndStation(n,s,0)&&"终点站")||""+t.headerText[0])+","+n.text[0]+"."}},[t._v(t._s(n.text[0]))]),t._l(n.text.slice(1,n.length),(function(e,o){return i("td",{key:e,staticClass:"table-td",class:t.getLineClass(n,s,o+1),attrs:{"aria-label":"-"===e?"":t.headerText[o+1]+","+(/\d{2}:\d{2}/.test(e)?e+":":e)+"."}},[t._v(t._s(e))])}))]}}],null,!1,2577450849)}):t._e(),t.result.more?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"trains-more active__mask expand-hotspot",attrs:{role:"button",tabindex:"-1"},on:{click:function(e){return e.stopPropagation(),t.onTapMore.apply(null,arguments)}}},[t._v(t._s(t.result.more.text))]):t._e()],1)}),[],!1,null,"79758b5e",null).exports,r={name:"NoResult",mixins:[n.m],props:{item:{type:Object,default:function(){return{}}}},methods:{canJump:function(){return!(!this.item.jumpType&&!this.item.jumpInfo)},onTapNoResult:function(t){this.canJump()&&(t.stopPropagation(),this.M_storeClickInfo(),this.M_serviceSearchGo(this.item))}}},l=(i(1994),Object(a.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"no-result"},[i("div",{directives:[{name:"active",rawName:"v-active.stop",value:t.canJump(t.item),expression:"canJump(item)",modifiers:{stop:!0}}],staticClass:"no-result-tip active__item",attrs:{role:t.canJump(t.item)?"button":"option"},on:{click:function(e){return t.onTapNoResult(e)}}},[t._v("\n    "+t._s(t.item.tip)+"\n  ")])])}),[],!1,null,"d448d69c",null).exports),u=new s.a({trains:5,noResult:4}),p={name:"ServiceTraffic",components:{trains:c,noResult:l},mixins:[n.m],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{types:u}},computed:{result:function(){return this.source.trafficSearchResults&&this.source.trafficSearchResults.length&&this.source.trafficSearchResults[0]}}},h=(i(1995),Object(a.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"traffic"},[e(this.types[this.result.type],this._b({tag:"component",attrs:{item:this.result}},"component",this.$props,!1))],1)}),[],!1,null,"18ce5300",null));e.default=h.exports},611:function(t,e,i){},704:function(t,e,i){"use strict";i(611)},724:function(t,e,i){"use strict";var n={name:"CommonTable",props:{table:{type:Object,default:function(){return{}}}}},s=(i(704),i(4)),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"common-table",attrs:{role:"listbox"}},[t.table.header?i("thead",{attrs:{"aria-hidden":"true"}},[i("tr",t._l(t.table.header.text,(function(e){return i("th",{key:e,staticClass:"table-th"},[t._v(t._s(e))])})),0)]):t._e(),i("tbody",t._l(t.table.content,(function(e,n){return i("tr",{key:JSON.stringify(e),attrs:{role:"option"}},[t._t("default",(function(){return t._l(e.text,(function(e,n){return i("td",{key:e,staticClass:"table-td",attrs:{role:"option","aria-label":t.table.header.text[n]+","+e+"."}},[t._v("\n          "+t._s(e)+"\n        ")])}))}),{line:e,index:n})],2)})),0)])}),[],!1,null,"63b83429",null);e.a=o.exports}}]);