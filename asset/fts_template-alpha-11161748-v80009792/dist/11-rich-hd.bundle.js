(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1261:function(t,i,e){},1262:function(t,i,e){},1899:function(t,i,e){"use strict";e(1261)},1900:function(t,i,e){"use strict";e(1262)},478:function(t,i,e){"use strict";e.d(i,"a",(function(){return n}));var n=new(e(10).a)({blue:1,gold:2,gray:3,reading:4,green:5,red:6})},530:function(t,i,e){"use strict";e.r(i);var n=e(1),o=e.n(n),s=e(0),a=e(8),c=e(478),l=e(601),r=e(600);function p(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function u(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?p(Object(e),!0).forEach((function(i){o()(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var m={name:"RichHd",components:{OlympicToast:l.a,UiAvatarsRow:r.a},mixins:[s.m,s.k,s.i],data:function(){return{tagColor:c.a,btnLoading:!1}},computed:{olympicButton:function(){if(!this.itemInfo.olympicButton)return null;if("string"!=typeof this.itemInfo.olympicButton)return this.itemInfo.olympicButton;try{return JSON.parse(this.itemInfo.olympicButton)}catch(t){return null}}},created:function(){var t=this;this.requestId=null,a.b.onCommonCgiReady((function(i){t.requestId===i.requestId&&(i.errCode&&t.$store.commit("updateDialog",{title:i.errMsg,cancel:!1}),t.btnLoading=!1,t.$store.commit("updateDialog",{title:i.dialog.title,cancel:i.dialog.cancel||!1,confirm:i.dialog.confirm||"确定"}),0===i.ret&&(i.newTags.forEach((function(i){return t.itemInfo.tag.push(i)})),t.itemInfo.button=null))}))},methods:{_showPhonePop:function(t){var i=this,e=t.phones,n=t.link,o=void 0===n?null:n,a=t.popTitle,c=void 0===a?"请选择号码呼叫":a;this.$store.commit({type:"updateActionSheet",title:c,sheets:e.map((function(t){return t.title?{title:t.title,source:t.number,button:t.button||null,phone:t.number}:{title:t,noJump:!0,phone:t}})),footer:s.g.isObjectEmpty(o)?null:{link:o.title},clickCallback:function(t){s.h.makeCall({phoneNumber:t.phone})},clickButtonCallback:function(t){s.h.makeCall({phoneNumber:t.phone})},clickLinkCallback:function(){o&&i.M_go(o)}})},onTapOlympicButton:function(){var t=this;this.olympicButton.publishTextStateInfo&&(this.M_clickReport({clickZone:3,clickContent:this.olympicButton.title}),s.h.publishTextState(u(u({},this.olympicButton.publishTextStateInfo.params),{},{hideToast:1}),(function(i){/cancel/.test(i&&i.err_msg||"")||t.$refs["olympic-toast"].show()})))},tapEm:function(){var t=this;t.M_serviceSearchGo(t.itemInfo.emphasiveInfo),t.M_clickReport({clickZone:2,clickContent:t.itemInfo.emphasiveInfo.title}),t.idkey(t.itemInfo.showType)},tapInfo:function(t){var i=this,e=this;t.phoneCallDetails?this._showPhonePop({phones:t.phoneCallDetails,link:t.popLink,popTitle:t.popTitle||t.title}):t.phoneCall?1===t.phoneCall.length?s.h.makeCall({phoneNumber:t.phoneCall[0]}):e._showPhonePop({phones:t.phoneCall}):3===t.type&&t.title?this.$showHalfScreen({header:{title:"营业时间",handleIcon:"close"},footer:{link:t.popLink&&t.popLink.title||""},body:{type:1,text:t.title}},{onTapFooterLink:function(){t.popLink&&i.M_go(t.popLink),i.$hideHalfScreen()}}):t.jumpInfo&&e.M_go(t.jumpInfo),e.M_handleInsert(),e.M_clickReport({clickZone:2,clickContent:t.type||t.title}),e.idkey(e.itemInfo.showType)},tap:function(t){this.itemInfo.jumpInfo?this.M_go(u(u({},this.itemInfo.jumpInfo),{},{weappUrl:this.M_composeUrl(this.itemInfo.jumpInfo.weappUrl,u({},this.base))})):this.itemInfo.weappUrl?this.M_startDetail({weappUrl:this.M_composeUrl(this.itemInfo.weappUrl,u({},this.base))}):this.M_startDetail(),this.M_clickReport({clickZone:t.clickZone||2,clickContent:this.itemInfo.title.replace(/<.*?>/g,""),reportItem:{expand:this.itemInfo.expandReport}}),this.idkey(this.itemInfo.showType)},tapBtn:function(){var t=this,i=this.item.button,e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.M_clickReport(u({clickZone:3,clickContent:i.title},e))};if(i.cgiName){if(this.btnLoading)return;this.btnLoading=!0,this.requestId=s.h.commonCgi({cgiName:i.cgiName,data:i.param}),e()}else if(i.jsApiName)s.g.WeixinJSBridgeInvoke(i.jsApiName,u({},i.param)),e({jumpurl:i.jsApiName});else if(i.apiName)this.$store.commit("updateDialog",Object.assign({title:"即将离开微信",cancel:"取消",confirm:"允许",confirmCallback:function(){s.g.WeixinJSBridgeInvoke(i.apiName,u({},i.param))}},i.info)),e();else{this.M_go(i);var n={};try{n={jumpurl:JSON.parse(i.jumpInfo.extInfo).url}}catch(t){}e(n)}},tapAction:function(t){this.M_clickReport({clickZone:2,clickContent:t.title}),this.M_go(t)}}},f=(e(1899),e(1900),e(4)),h=Object(f.a)(m,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"active__item",class:{oz__hd:t.isOz},attrs:{"data-id":t.M_exposeId()},on:{click:t.tap}},[e("div",{staticClass:"oz__hd-wrap"},[e("div",{staticClass:"oz__hd-left-wrap"},[e("div",{staticClass:"oz__hd-title",attrs:{role:"button"},on:{click:function(i){return i.stopPropagation(),t.tap({clickZone:1})}}},[e("div",{staticClass:"oz__hd-title-word"},[e("span",{style:{marginRight:"4px"},domProps:{innerHTML:t._s(t.xss(t.itemInfo.title))}}),e("span",{staticClass:"ui-aria-hidden"},[t._v(",")]),e("ui-tags",{attrs:{"align-vertical":"",tags:t.itemInfo.tag}}),e("span",{staticClass:"ui-aria-hidden"},[t._v("获取更多信息")])],1)]),t.itemInfo.descList&&1===t.itemInfo.descList.length?e("div",{staticClass:"oz__hd-desc__wrapper single-line"},t._l(t.itemInfo.descList,(function(i,n){return e("div",{key:i+n,staticClass:"oz__hd-desc"},[t._v(t._s(i)),e("span",{staticClass:"ui-aria-hidden"},[t._v(",")])])})),0):t._e()]),t.olympicButton?e("ui-button",{staticClass:"olympic-button active__mask",attrs:{"icon-url":t.olympicButton.iconUrl,title:t.olympicButton.title,"icon-size":20},nativeOn:{click:function(i){return i.stopPropagation(),t.onTapOlympicButton.apply(null,arguments)}}}):t.itemInfo.button?e("ui-button",{staticClass:"oz__hd-button",attrs:{type:0,"icon-url":t.itemInfo.button.iconUrl,loading:t.btnLoading,"icon-size":20},nativeOn:{click:function(i){return i.stopPropagation(),t.tapBtn.apply(null,arguments)}}},[e("span",{staticClass:"button-custom-title"},[t._v(t._s(t.itemInfo.button.title))])]):t._e()],1),t.itemInfo.actions?e("div",{staticClass:"oz__hd-actions"},t._l(t.itemInfo.actions,(function(i){return e("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:i.title,staticClass:"oz__hd-action active__mask expand-hotspot",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.tapAction(i)},touchstart:function(t){t.stopPropagation()}}},[e("online-image",{staticClass:"oz__hd-action-icon",attrs:{url:i.iconUrl}}),e("div",{staticClass:"oz__hd-action-title"},[t._v(t._s(i.title))])],1)})),0):t._e(),t.itemInfo.desc?e("div",{staticClass:"oz__hd-desc__wrapper ellipsis_2",domProps:{innerHTML:t._s(t.xss(t.itemInfo.desc))}}):t._e(),t.itemInfo.descList&&t.itemInfo.descList.length>1?e("div",{staticClass:"oz__hd-desc__wrapper",style:{"margin-top":t.olympicButton||t.itemInfo.button?"0px":"4px"}},t._l(t.itemInfo.descList,(function(i,n){return e("div",{key:i+n,staticClass:"oz__hd-desc"},[t._v(t._s(i)),e("span",{staticClass:"ui-aria-hidden"},[t._v(",")])])})),0):t._e(),t.itemInfo.friendInfo?e("ui-avatars-row",{staticClass:"oz__hd-avatas-row",attrs:{list:t.itemInfo.friendInfo.avatars}},[t._v("\n    "+t._s(t.itemInfo.friendInfo.text)+"\n  ")]):t._e(),t.itemInfo.infos&&t.itemInfo.infos.length?e("div",{staticClass:"oz__hd-infos"},t._l(t.itemInfo.infos,(function(i){return e("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:i.title,staticClass:"oz__hd-info active__link",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.tapInfo(i,e)}}},[e("div",{staticClass:"line"},[e("div",{staticClass:"line__item"},[e("online-image",{staticClass:"oz__hd-info-icon",attrs:{url:i.iconUrl}})],1),e("div",{staticClass:"line__item"},[e("p",{staticClass:"oz__hd-info-title"},[t._v(t._s(i.title))])]),e("div",{staticClass:"line__item no-shrink"},[i.jump?e("svg-icon",{staticClass:"oz__hd-info-arrow",attrs:{name:"arrow"}}):t._e()],1)])])})),0):t._e(),t.olympicButton?e("olympic-toast",{ref:"olympic-toast",attrs:{title:t.olympicButton.publishTextStateInfo&&t.olympicButton.publishTextStateInfo.successMsg,"icon-url":t.olympicButton.publishTextStateInfo&&t.olympicButton.publishTextStateInfo.successIconUrl}}):t._e()],1)}),[],!1,null,"089c1819",null);i.default=h.exports},555:function(t,i,e){},556:function(t,i,e){},588:function(t,i,e){"use strict";e(555)},589:function(t,i,e){"use strict";e(556)},600:function(t,i,e){"use strict";var n={name:"UiAvatarsRow",props:{list:{type:Array,default:function(){return[]}},direction:{type:String,default:"left"},wrap:{type:Boolean,default:!1}},data:function(){return{}}},o=(e(588),e(4)),s=Object(o.a)(n,(function(){var t=this.$createElement,i=this._self._c||t;return i("ul",{staticClass:"ui-avatars-row",class:{"ui-avatars-row_right":"right"===this.direction,"ui-avatars-row_wrap":this.wrap}},[this._l(this.list,(function(t,e){return i("li",{directives:[{name:"load-background",rawName:"v-load-background:avatar",value:t,expression:"avatar",arg:"avatar"}],key:e,staticClass:"ui-avatar"})})),i("li",{staticClass:"ui-extra"},[this._t("default")],2)],2)}),[],!1,null,"767492ae",null).exports;s.install=function(t){t.component(s.name,s)};i.a=s},601:function(t,i,e){"use strict";var n={name:"OlympicToast",props:{title:String,iconUrl:String},data:function(){return{isShow:!1,timeout:null}},methods:{show:function(){var t=this;this.isShow=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.isShow=!1}),1500)}}},o=(e(589),e(4)),s=Object(o.a)(n,(function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("img",{style:{display:"none"},attrs:{src:"https://res.wx.qq.com/t/fed_upload/9c331236-86ab-4138-b717-f3c90c45e9d3/z.png",alt:""}}),i("img",{style:{display:"none"},attrs:{src:this.iconUrl,alt:""}}),i("transition",{attrs:{name:"fade"}},[this.isShow?i("div",{staticClass:"olympic-toast"},[i("div",{staticClass:"olympic-toast-bg"}),i("div",{staticClass:"olympic-toast-inner"},[i("ui-image",{staticClass:"inner-icon",attrs:{url:this.iconUrl}}),i("div",{staticClass:"inner-title",attrs:{role:"alert"}},[this._v(this._s(this.title))])],1)]):this._e()])],1)}),[],!1,null,"7349846c",null);i.a=s.exports}}]);