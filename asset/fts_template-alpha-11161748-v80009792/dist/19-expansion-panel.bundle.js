(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{1537:function(t,e,n){},2290:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),s=n(0);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"ExpansionPanel",components:{HeightAnimate:n(42).a},mixins:[s.m,s.k],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{expandStatusMap:{},showAll:!1,noAnimate:!0}},computed:{panel:function(){return c(c({},this.source.expansionPanel),{},{panels:this.source.expansionPanel.panels.map((function(t){return t.config?t:c(c({},t),{},{config:{canJump:!1,canExpand:!1,expanded:!1}})}))})}},watch:{source:{handler:function(){var t,e=this;this.showAll=!this.panel.showAllMessage,null===(t=this.panel.panels)||void 0===t||t.forEach((function(t){var n;return e.expandStatusMap[t.title]=(null===(n=t.config)||void 0===n?void 0:n.expanded)||!1}))},immediate:!0}},mounted:function(){var t=this;this.showAll&&this.$nextTick((function(){t.noAnimate=!1}))},methods:{onTapShowAllLink:function(){var t=this,e="".concat(this.M_getClickZonePath(),".expansionPanel.showAllMessage");this.M_clickReport({clickZone:e,clickContent:this.panel.showAllMessage.title},this.panel.showAllMessage),this.showAll=!0,this.$nextTick((function(){var e=t.$refs.section;if(e){var n=e.length?e[0]:e;n&&n.focus()}t.noAnimate=!1}))},canExpand:function(t){var e;return null===(e=t.config)||void 0===e?void 0:e.canExpand},canJump:function(t){var e;return null===(e=t.config)||void 0===e?void 0:e.canJump},onTapSectionHeader:function(t){this.canExpand(t)&&(this.expandStatusMap=c(c({},this.expandStatusMap),{},i()({},t.title,!this.expandStatusMap[t.title])))},onTapSection:function(t,e){var n="".concat(this.M_getClickZonePath(),".expansionPanel.panels[").concat(e,"]");this.canExpand(t)||!t.jumpInfo&&!t.jumpType||(this.M_storeClickInfo(),this.M_clickReport({clickZone:n,clickContent:t.title||"",expand:this.M_getJumpSubScene(t)},t),this.M_serviceSearchGo(t,n))},onTapLink:function(t,e,n){var a="".concat(this.M_getClickZonePath(),".expansionPanel.panels[").concat(n,"].menu[").concat(e,"]"),i=t.title||t.desc||"";this.M_serviceSearchGo(t,a),this.M_clickReport({clickZone:a,clickContent:i||"",expand:this.M_getJumpSubScene(t)},t)}}},r=(n(2302),n(4)),p=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showAll?n("div",{staticClass:"expansion-panel panel"},t._l(t.panel.panels,(function(e,a){return n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.title,staticClass:"panel-section",class:{"panel-section-expand":t.canExpand(e),active__item:t.canJump(e)},attrs:{"data-report-id":t.M_itemReportId(e,a+1)},on:{click:function(n){return n.stopPropagation(),t.onTapSection(e,a)}}},[e.title?n("div",{ref:"section",refInFor:!0,staticClass:"section-header",class:{"expandable-section-header":t.canExpand(e)},attrs:{role:"button",tabindex:"-1","aria-expanded":t.canExpand(e)?t.expandStatusMap[e.title]?"true":"false":"undefined"},on:{click:function(n){return t.onTapSectionHeader(e)}}},[n("div",{staticClass:"section-text-wrapper"},[n("div",{staticClass:"section-title"},[t._v(t._s(e.title))]),e.desc?n("div",{staticClass:"section-desc"},[t._v(t._s(e.desc))]):t._e()]),e.config&&e.config.canJump?n("ui-arrow",{attrs:{align:"flex",gap:""}}):t._e(),n("div",{staticClass:"expand-icon-wrapper"},[e.config.canExpand?n("ui-arrow",{staticClass:"expand-icon",class:t.expandStatusMap[e.title]?"expand-icon-up":"expand-icon-down",attrs:{size:"big",gap:"",direction:"down"}}):t._e()],1)],1):t._e(),t.expandStatusMap[e.title]||!t.canExpand(e)?n("height-animate",{attrs:{duration:200,"without-enter":t.noAnimate,"without-leave":t.noAnimate,transfrom:!1}},[n("div",{staticClass:"panel-content"},[!t.expandStatusMap[e.title]&&t.canExpand(e)||!e.menu?t._e():n("ui-column",{attrs:{list:e.menu,col:2,fill:""},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item,o=i.index;return[n("ui-link",{attrs:{title:s.title,desc:s.desc,"data-report-id":t.M_itemReportId(s,o+1,t.M_getItemPos(e))},nativeOn:{click:function(e){return e.stopPropagation(),t.onTapLink(s,o,a)}},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"expand-item-title"},[n("span",{staticClass:"expand-item-title__text",domProps:{innerHTML:t._s(t.xss(s.title))}}),n("ui-tags",{staticClass:"link-tags",attrs:{tags:s.titleTag&&s.titleTag.append||s.titleTags}})],1)]},proxy:!0},{key:"between",fn:function(){return[n("ui-tags",{attrs:{flex:"",tags:s.recommendTag}})]},proxy:!0}],null,!0)})]}}],null,!0)})],1)]):t._e()],1)})),0):n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"expansion-panel show-all-link active__link",attrs:{role:"button",tabindex:"-1","aria-expanded":t.showAll?"true":"false"},on:{click:function(e){return e.stopPropagation(),t.onTapShowAllLink.apply(null,arguments)}}},[t._v("\n  "+t._s(t.panel.showAllMessage.title)+"\n")])}),[],!1,null,"a36fc88c",null);e.default=p.exports},2302:function(t,e,n){"use strict";n(1537)}}]);