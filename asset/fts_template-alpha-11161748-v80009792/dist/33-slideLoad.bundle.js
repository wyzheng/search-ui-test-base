(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{1101:function(e,t,s){},1735:function(e,t,s){"use strict";s(1101)},2241:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),o=s(25),r=s(0);function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var c=1,u=2,p=+new Date,f=!1,d={props:{tapLoadMore:{type:Function,default:function(){}}},data:function(){return{showByStepLoading:!1}},computed:l(l({},Object(o.c)({selfBase:function(e){return e.result.self.base},cacheData:function(e){return e.result.cacheData}})),{},{retryText:function(){return this.selfBase.retryText||"网络断开，轻触再试"}}),created:function(){r.a.$on(r.j.resultReady,this._onResultReady),r.a.$on(r.j.handleResult,this._onHandleResult),r.a.$on(r.j.resultPageEnd,this.expose),window.addEventListener("scroll",this._scrollThrottle)},mounted:function(){var e=this;setTimeout((function(){r.g.isElemExpose(e.$el)&&e.expose()}),100)},beforeDestroy:function(){r.a.$off(r.j.resultReady,this._onResultReady),r.a.$off(r.j.handleResult,this._onHandleResult),r.a.$off(r.j.resultPageEnd,this.expose),window.removeEventListener("scroll",this._scrollThrottle)},methods:{_onResultReady:function(){var e=this;e._onlyExecInByStep((function(){e.showByStepLoading&&(r.g.isObjectEmpty(e.cacheData)||e.$store.dispatch("result/handleResult")),setTimeout((function(){r.g.isElemExpose(e.$el)&&e.expose()}),100)}))},_onHandleResult:function(){var e=this;f=!1,e._onlyExecInByStep((function(){e.showByStepLoading=!1,r.f.result.turnPageDur(+new Date-p)}))},_checkIfVerticalSearch:function(){return r.b.isVerticalSearch},_onlyExecInByStep:function(e){if(this.selfBase.byStepText)return e()},_scrollThrottle:r.g.throttle((function(){r.g.isElemExpose(this.$el)&&this.expose()})),expose:function(){var e=this;e._onlyExecInByStep((function(){f||(f=!0,e.tapLoadMore(),r.f.result.turnPageClickExpose(c))}))},tapStep:function(e){var t=this;t.showByStepLoading=!0,p=+new Date,r.f.result.turnPageClickExpose(u),t.$store.commit({type:"result/updateState",scrollY:window.pageYOffset}),r.g.isObjectEmpty(t.cacheData)?e&&t.tapLoadMore():t.$store.dispatch("result/handleResult")}}},h=(s(1735),s(4)),_=Object(h.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loadmore",class:{loadmore_vertical:e._checkIfVerticalSearch()}},[e.selfBase.continueFlag||0!=e.selfBase.ret?[e.selfBase.byStepText?[e.showByStepLoading?s("div",{staticClass:"loadmore__loading",attrs:{role:"option"}},[s("span",{staticClass:"circle-loading"}),s("span",[e._v("\n          "+e._s(e.selfBase.loadingText)+"\n        ")])]):[0==e.selfBase.ret?s("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"loadmore__step",attrs:{role:"button"},on:{click:function(t){return e.tapStep(0)}}},[s("span",[e._v(e._s(e.selfBase.byStepText))]),s("ui-arrow",{attrs:{size:"big",direction:"down"}})],1):s("div",{staticClass:"loadmore__retry",on:{click:function(t){return e.tapStep(1)}}},[s("svg-icon",{staticClass:"loadmore__retry-icon",attrs:{name:"refresh"}}),s("span",[e._v(e._s(e.retryText))])],1)]]:[s("div",{staticClass:"loadmore__loading loadmore__loading_plain"},[s("span",{staticClass:"circle-loading"}),s("span",[e._v("\n          "+e._s(e.selfBase.loadingText)+"\n        ")])])]]:e.selfBase.pageTail?s("div",{staticClass:"loadmore__nomore"},[s("span",{staticClass:"page-end"},[e._v(e._s(e.selfBase.pageTail))])]):e._e()],2)}),[],!1,null,"2ec3637b",null);t.default=_.exports}}]);