(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{1251:function(t,e,i){},1889:function(t,e,i){"use strict";i(1251)},522:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i(2),o=i(14),l={name:"TimeLine",components:{UiTimeline:i(812).a},mixins:[n.m,n.k,n.i],props:{source:{type:Object,default:function(){return{}}},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{timelineFold:[],timelineUnFold:[],events:[],isFold:!0}},watch:{item:function(){this.handleEvents()}},created:function(){this.handleEvents()},methods:{handleEvents:function(){var t=this;this.timelineFold=[],this.timelineUnFold=[],this.isFold=!0;var e=this.itemInfo,i=e.events,n=e.showCount;if(n&&i)if(i.forEach((function(e,s){e.title=t.xss(e.title),(e.jumpInfo||e.jumpUrl||e.userName)&&(e.arrowDirection="right",e.canJump=!0),e.itemReportId=t.M_itemReportId(e.reportId,s+1),(!n||s+1<=n)&&t.timelineFold.push(e),i.length>n&&t.timelineUnFold.push(e)})),i.length>n){var s="fold:fold:".concat(o.a.getRandom(6)),l="unfold:unfold:".concat(o.a.getRandom(6));this.timelineFold.push({title:this.itemInfo.wording,canJump:!1,type:"fold",isFold:!0,reportId:s,itemReportId:this.M_itemReportId(s)}),this.timelineUnFold.push({title:"<em class='font-color-LINK'>收起</em>",canJump:!1,type:"fold",isFold:!1,reportId:l,itemReportId:this.M_itemReportId(l)})}else this.isFold=!1;this.events=this.timelineFold},tapEvent:function(t,e,i){var n=1;this.isOz?n=2:this.isService&&(n="".concat(this.M_getClickZonePath(),".events[").concat(i,"].title"));var o="".concat(i+1,"-").concat(e.title);e.type&&"fold"===e.type?(this.events=e.isFold?this.timelineUnFold:this.timelineFold,this.isFold=!e.isFold,!e.isFold&&this.$refs&&this.$refs.timeLineBox&&this.$refs.timeLineBox.offsetTop&&window.scrollTo({top:this.$refs.timeLineBox.offsetTop}),n=2,this.isOz?n=3:this.isService&&(n="".concat(this.M_getClickZonePath(),".events[").concat(i,"].title")),o=e.title):this.M_go(e),this.M_clickReport({clickZone:n,clickContent:o,actionType:"fold"==e.type?e.isFold?s.g.CLICK_UNFOLD:s.g.CLICK_FOLD:void 0},e)}}},a=(i(1889),i(4)),c=Object(a.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{key:this.data.boxID,ref:"timeLineBox",staticClass:"time-line-box"},[e("div",{staticClass:"time-line-wrap",class:{"time-line-un-fold":!this.isFold}},[e("ui-timeline",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],attrs:{items:this.events},on:{"tap:item":this.tapEvent}})],1)])}),[],!1,null,"45460664",null);e.default=c.exports},687:function(t,e,i){},774:function(t,e,i){"use strict";i(687)},812:function(t,e,i){"use strict";var n={name:"UiTimeline",props:{items:{type:Array,default:function(){return[]}}},data:function(){return{isFoldBtnActive:!1}},methods:{onTapItem:function(t,e,i){var n=this;e&&e.type&&"fold"===e.type?(this.isFoldBtnActive=!0,setTimeout((function(){n.$emit("tap:item",t,e,i),n.isFoldBtnActive=!1}),50)):this.$emit("tap:item",t,e,i)}}},s=(i(774),i(4)),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"ui-timeline"},t._l(t.items,(function(e,n){return i("li",{directives:[{name:"active",rawName:"v-active.stop",value:!!e.canJump||e.type&&"fold"===e.type,expression:"!!item.canJump || item.type && item.type === 'fold'",modifiers:{stop:!0}}],key:n,staticClass:"ui-timeline__item",class:{"ui-timeline__item-active":e.canJump,"ui-timeline__item-fold-btn":e.type&&"fold"===e.type,"ui-timeline__item-fold-btn-active":t.isFoldBtnActive},attrs:{role:"button","data-report-id":e.itemReportId},on:{click:function(i){return i.stopPropagation(),t.onTapItem(i,e,n)}}},[i("div",{staticClass:"ui-timeline__hd"},[i("h4",{staticClass:"ui-timeline__title"},[t.$scopedSlots.title?t._t("title",null,{item:e}):[i("ui-clamp",{attrs:{autoresize:"","max-lines":2},scopedSlots:t._u([{key:"after",fn:function(){return[e.arrowDirection?i("ui-arrow",{attrs:{direction:e.arrowDirection,gap:4}}):t._e()]},proxy:!0}],null,!0)},[[e.type&&"fold"===e.type?i("span",{directives:[{name:"xss-html",rawName:"v-xss-html",value:e.title,expression:"item.title"}],class:{"ui-timeline__title-active":"fold"===e.type}}):i("span",[t._v(t._s(e.title))])]],2)]],2)]),i("div",{staticClass:"ui-timeline__bd"},[i("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),t.$scopedSlots.content?t._t("content",null,{item:e}):[e.thumb?i("div",{directives:[{name:"load-background",rawName:"v-load-background",value:e.thumb,expression:"item.thumb"}],staticClass:"ui-timeline__banner"}):t._e(),e.desc?i("p",{directives:[{name:"xss-html",rawName:"v-xss-html",value:e.desc,expression:"item.desc"}],staticClass:"ui-timeline__desc"}):t._e()]],2)])})),0)}),[],!1,null,"63f04758",null).exports;o.install=function(t){t.component(o.name,o)};e.a=o}}]);