(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1171:function(t,e,a){},1172:function(t,e,a){},1173:function(t,e,a){},1808:function(t,e,a){"use strict";a(1171)},1809:function(t,e,a){"use strict";a(1172)},1810:function(t,e,a){"use strict";a(1173)},469:function(t,e,a){},480:function(t,e,a){"use strict";var i=a(493),s=a(0),o={mixins:[s.k,s.m],props:{useUiSource:{type:Boolean,default:!1},text:{type:[String,Number],default:""},size:{type:Number,default:32},iconUrl:{type:String,default:"https://res.wx.qq.com/a/fed_upload/658e7c8d-708d-499b-8d41-4cca1d510d03/play.svg"},ts:{type:Number,default:0},liveWatch:{type:Boolean,default:!1},like:{type:Boolean,default:!1},isHot:{type:Boolean,default:!1},duration:{type:Boolean,default:!1},durationAtLeftBottom:{type:String,default:""},isTop:{type:Boolean,default:!1},noIcon:{type:Boolean,default:!1},dateTime:{type:String,default:""},tag:{type:Object,default:function(){}},tags:{type:Array,default:function(){return[]}},liveEnd:{type:Boolean,default:!1},tapSourceAlone:{type:Boolean,default:!1},tapTextAlone:{type:Boolean,default:!1},title:{type:String,default:""},desc:{type:String,default:""},source:{type:Object,default:function(){return{}}},friendInfo:{type:Object,default:function(){return{}}},showGradient:{type:Boolean,default:!1},gradientPadding:{type:Number,default:8},maskType:{type:Number,default:1},tagDate:{type:String,default:""},tagTitle:{type:String,default:""},specialShadow:{type:Boolean,default:!1},hotComment:{type:Object,default:function(){return{}}}},computed:{maskTypeText:function(){return{1:"视频",2:"文章"}[this.maskType]},showAdvancedSpecialShadow:function(){return(!!this.dateTime||!!this.source||!!this.ts||this.text)&&(!!this.friendInfo&&!!this.friendInfo.avatars&&this.friendInfo.avatars.length>0||!!this.title||!!this.desc)&&!this.hotComment}},methods:{decodeEmoji:function(t){if(t){var e=t.replace(/\\n/gi," ");return Object(i.decode)(e)}return""},tapSource:function(t){this.$emit("tap:source",t,this.M_getItemPos(t))},tapHotComment:function(t){this.hotComment.jumpInfo&&(t.stopPropagation(),this.M_go(this.hotComment.jumpInfo),this.M_clickReport({clickZone:1,itemPos:this.M_getItemPos(this.hotComment),reportItem:this.reportItem},this.hotComment))}}},n=(a(583),a(484),a(4)),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"play-mask",attrs:{role:"option"}},[t.tag?a("ui-tag",{staticClass:"mask-tag",attrs:{title:t.tag.title,type:t.tag.type}}):t._e(),t.tags?a("ui-tags",{staticClass:"mask-tag",attrs:{tags:t.tags}}):t._e(),a("div",{staticClass:"mask-tag scene-tag"},[t.tagDate?a("div",{staticClass:"scene-tag__date"},[a("span",[t._v(t._s(t.tagDate))])]):t._e(),t.tagTitle?a("div",{staticClass:"scene-tag__title"},[a("span",[t._v(t._s(t.tagTitle))])]):t._e()]),a("div",{staticClass:"extra-wrap",class:{"linear-gradient":t.showGradient&&!t.specialShadow},style:{padding:t.gradientPadding+"px"}},[t.specialShadow?a("div",{class:{"special-shadow":!0,"special-shadow--advanced":t.showAdvancedSpecialShadow,"special-shadow--hot-comment":!!t.hotComment}}):t._e(),t.hotComment&&t.hotComment.content&&t.hotComment.content.trim()?a("ui-clamp",{directives:[{name:"active",rawName:"v-active.stop",value:!!t.hotComment.jumpInfo,expression:"!!hotComment.jumpInfo",modifiers:{stop:!0}}],class:{"hot-comment":!0,active__opacity:!!t.hotComment.jumpInfo},attrs:{autoresize:"","max-lines":2,"raw-html":t.decodeEmoji(t.hotComment.content),"aria-label":t.hotComment.content,"data-report-id":t.M_itemReportId(t.hotComment,1)},nativeOn:{click:function(e){return t.tapHotComment.apply(null,arguments)}},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticClass:"hot-comment__item-wrap"},[a("span",{staticClass:"hot-comment__label"},[t._v(t._s(t.hotComment.label))])])]},proxy:!0},{key:"after",fn:function(){return[a("span",{staticClass:"hot-comment__item-wrap"},[a("span",{staticClass:"hot-comment__like"},[a("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/59ee2753-a126-4495-bd1e-daccbdc285bf/like2_outlined.svg"}}),a("span",{staticClass:"ui-aria-hidden"},[t._v(", 获得")]),a("span",[t._v(t._s(t.hotComment.likeNum))]),a("span",{staticClass:"ui-aria-hidden"},[t._v("个赞")])],1)])]},proxy:!0}],null,!1,151505576)},[a("span",{staticClass:"hot-comment__content"})]):[t.friendInfo&&t.friendInfo.avatars&&t.friendInfo.avatars.length>0?a("div",{staticClass:"social",attrs:{"aria-hidden":"true"}},[a("div",{staticClass:"social__avatars"},t._l(t.friendInfo.avatars,(function(t){return a("ui-image",{key:t,staticClass:"social__avatar",attrs:{url:t,size:28,mode:"avatar"}})})),1),t.friendInfo.text?a("div",{staticClass:"social__title"},[t._v("\n          "+t._s(t.friendInfo.text)+"\n        ")]):t._e(),t.friendInfo.afterText?a("div",{staticClass:"social__after-text"},[t._v("\n          "+t._s(t.friendInfo.afterText)+"\n        ")]):t._e(),a("online-image",{staticClass:"social__mark",attrs:{url:"https://res.wx.qq.com/t/fed_upload/947ffded-fd95-4cf1-853c-1f052774f6aa/like_outlined_medium.svg"}})],1):t._e(),t.title?a("div",{staticClass:"vc-title",domProps:{innerHTML:t._s(t.xss(t.title))}}):t._e(),t.desc?a("div",{staticClass:"vc-desc",domProps:{innerHTML:t._s(t.xss(t.desc))}}):t._e(),t.durationAtLeftBottom?a("div",{staticClass:"play-mask__text",attrs:{role:"option"}},[a("span",{staticClass:"ui-aria-hidden"},[t._v("时长：")]),a("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.durationAtLeftBottom))])]):t.dateTime?a("div",{staticClass:"datetime"},[t._v("\n        "+t._s(t.dateTime)+"\n      ")]):!t.useUiSource&&t.source?a("div",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapSourceAlone,expression:"tapSourceAlone",modifiers:{stop:!0}}],staticClass:"vc-source",class:{"vc-source_with-tag":t.source.tag,active__opacity:t.source.jumpInfo&&t.tapSourceAlone},attrs:{"data-report-id":t.M_itemReportId(t.source)},on:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}}},[t.source.iconUrl?a("ui-image",{staticClass:"vc-source__thumb",attrs:{url:t.source.iconUrl,size:20,mode:"avatar",overlay:""}}):t._e(),t.source.title||t.source.mark?a("div",{staticClass:"vc-source-title-box"},[a("div",{staticClass:"vc-source__title"},[a("p",{staticClass:"vc-source__text",domProps:{innerHTML:t._s(t.xss(t.source.title))}}),a("div",{staticClass:"badges"},t._l(t.source.mark,(function(t){return a("ui-image",{key:t,attrs:{url:t,size:16,mode:"raw"}})})),1),a("p",{staticClass:"vc-source__dateTime",domProps:{innerHTML:t._s(t.xss(t.source.dateTime))}})])]):t._e()],1):t.source?a("ui-source",t._b({directives:[{name:"active",rawName:"v-active.stop",value:!!t.source.jumpInfo,expression:"!!source.jumpInfo",modifiers:{stop:!0}}],attrs:{"data-report-id":t.M_itemReportId(t.source)},nativeOn:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}},scopedSlots:t._u([{key:"after-text",fn:function(){},proxy:!0}])},"ui-source",t.source,!1)):t._e(),a("div",{staticClass:"extra-info-gap"}),t.ts||t.text?a("span",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapTextAlone,expression:"tapTextAlone",modifiers:{stop:!0}}],staticClass:"play-mask__bg active__opacity"},[t.like?a("span",{staticClass:"play-mask__text",attrs:{role:"option"}},[t.isHot?a("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/1f3fb4f3-6753-466e-9a75-eef436716497/fire.svg"}}):a("online-image",{staticClass:"icon-like",attrs:{url:"https://res.wx.qq.com/t/fed_upload/947ffded-fd95-4cf1-853c-1f052774f6aa/like_outlined_medium.svg"}}),a("span",{staticClass:"ui-aria-hidden"},[t._v("，点赞：")]),a("span",[t._v(t._s(t.text))])],1):a("span",{staticClass:"play-mask__text",attrs:{role:"option"}},[t.durationAtLeftBottom?t._e():[t.ts||t.duration||t.text.toString().indexOf(":")>-1?a("span",{staticClass:"ui-aria-hidden"},[t._v("，时长：")]):t._e(),t.liveWatch?a("span",{staticClass:"ui-aria-hidden"},[t._v(t._s("，"+t.text))]):t._e(),t.ts?a("span",[t._v(t._s(t._f("mmss")(t.ts)))]):a("span",{attrs:{"aria-hidden":t.liveWatch}},[t._v(t._s(t.text))])],t.isTop?a("online-image",{staticClass:"icon-top",attrs:{url:"https://res.wx.qq.com/t/fed_upload/d649fe44-ec25-474b-bcc0-2281a0105218/top.svg"}}):t._e()],2)]):t._e(),a("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(","+t.maskTypeText+"。"))])]],2),t.noIcon?t._e():a("div",{staticClass:"play-icon-wrapper"},[a("ui-image",{staticClass:"play-icon",attrs:{"aria-label":"播放",url:t.iconUrl,size:t.size,type:"img"}})],1),t.liveEnd?a("div",{staticClass:"live-end-tip"},[a("ui-image",{staticClass:"live-end-icon",attrs:{url:"https://res.wx.qq.com/a/fed_upload/4e09c767-7238-4dab-bb48-8da245eeb470/live_icon.svg",size:20}}),a("span",[t._v("直播已结束")])],1):t._e()],1)}),[],!1,null,"7c7a3501",null);e.a=r.exports},484:function(t,e,a){"use strict";a(469)},577:function(t,e,a){},583:function(t,e,a){"use strict";a(577)},733:function(t,e,a){"use strict";var i=a(5),s=a(24),o=a.n(s),n=a(0),r=a(17),c={props:{src:{type:String},poster:{type:String,default:""},canUnMute:{type:Boolean,default:!1},showBorderRadios:{type:Boolean,default:!0},isPlayManually:{type:Boolean,default:!1}},data:function(){return{canShow:!this.isPlayManually,canPlay:!1,muted:!0,videoWidth:0,videoHeight:0,dataSrc:"",isTimeupdatedPlay:!1}},watch:{isPlayManually:function(){var t=this;this.$nextTick((function(){t.isPlayManually?t.pause():t.play()}))},src:{immediate:!0,handler:function(t){this.dataSrc=t}}},activated:function(){this.play()},deactivated:function(){this.pause()},mounted:function(){var t=this;this.$nextTick((function(){t.isPlayManually||t.play(),r.b.onWebviewResume(t.resumeHandler),r.b.onWebviewPause(t.pauseHandler),t.observeVideo()}))},beforeDestroy:function(){r.b.offWebviewResume(this.resumeHandler),r.b.offWebviewPause(this.pauseHandler),this.observer&&this.observer.disconnect()},methods:{onloadeddata:function(t){this.canPlay=!0;var e=t.target||{},a=e.videoWidth,i=void 0===a?0:a,s=e.videoHeight,o=void 0===s?0:s;this.videoWidth=i,this.videoHeight=o,this.$emit("video:loaded",{videoWidth:i,videoHeight:o})},ontimeupdate:function(){this.canPlay=!0,this.isTimeupdatedPlay&&this.$refs.video&&this.$refs.video.play()},onVideoError:function(t){this.dataSrc&&this.$emit("video:error")},observeVideo:function(){var t=this;this.observer=new IntersectionObserver((function(e){var a=o()(e,1)[0];1e3*a.intersectionRatio.toFixed(3)>=500?(a.intersectionRatio,t.isTimeupdatedPlay=!0,t.play(t.canShow)):(a.intersectionRatio,t.isTimeupdatedPlay=!1,t.pause(t.canShow))}),{threshold:.5,rootMargin:"-60px 0px 0px 0px"}),this.observer.observe(this.$el)},resumeHandler:function(){this.isTimeupdatedPlay=!0,this.dataSrc=this.src,this.play(this.canShow)},pauseHandler:function(){this.isTimeupdatedPlay=!1,this.dataSrc="",this.pause(this.canShow)},play:function(t){var e=this;this.isPlayManually||(t=!0);Date.now();this.canShow=!!t,this.canShow&&this.$refs.video&&this.$refs.video.play(),n.h.getNetType({},(function(){Date.now(),e.canShow=!!t,e.canShow&&e.$refs.video&&e.$refs.video.play()}))},pause:function(t){var e=this;this.isPlayManually||(t=!0),this.canShow=!!t,this.$refs.video&&this.$refs.video.pause(),n.h.getNetType({},(function(){e.canShow=!!t,e.$refs.video&&e.$refs.video.pause()}))},reset:function(t){this.pause(t),this.$refs.video&&(this.$refs.video.currentTime=0)},onToggleMute:function(){this.$refs.video&&(this.muted=!this.muted,this.$refs.video.muted=this.muted)}}},l=(a(1808),a(4)),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video-auto-play"},[t.showBorderRadios?[a("svg-icon",{staticClass:"video-border-radius left",attrs:{"aria-hidden":"true",name:"border-radius"}}),a("svg-icon",{staticClass:"video-border-radius right",attrs:{"aria-hidden":"true",name:"border-radius"}}),a("svg-icon",{staticClass:"video-border-radius left bottom",attrs:{name:"border-radius","aria-hidden":"true"}}),a("svg-icon",{staticClass:"video-border-radius right bottom",attrs:{name:"border-radius","aria-hidden":"true"}})]:t._e(),a("div",{directives:[{name:"image",rawName:"v-image:color",value:t.poster,expression:"poster",arg:"color"}],staticClass:"video-poster"}),t.canShow&&t.canPlay&&t.canUnMute?a("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"mute-btn-box",on:{click:function(e){return e.stopPropagation(),t.onToggleMute.apply(null,arguments)}}},[t.muted?a("svg-icon",{staticClass:"mute-btn",attrs:{name:"mute"}}):a("svg-icon",{staticClass:"mute-btn",attrs:{name:"unmute"}})],1):t._e(),t.src?a("video",{ref:"video",staticClass:"video",class:{"can-show":t.canShow&&t.canPlay},attrs:{src:t.dataSrc,muted:"",loop:"","webkit-playsinline":"",playsinline:""},domProps:{muted:!0},on:{error:t.onVideoError,loadeddata:t.onloadeddata,timeupdate:t.ontimeupdate}}):t._e()],2)}),[],!1,null,"7b176272",null).exports,u=a(480),p=a(8),m={components:{playMask:u.a},props:{src:{type:String,required:!0},poster:{type:String,default:""},duration:{type:[Number,String],default:""}},data:function(){return{isIOS:Global.os.ios,isPlaying:!1}},created:function(){p.b.onInputChange(this.reset),p.b.onInputConfirm(this.reset),n.a.$on(n.j.REAL_SWITCH_TAB,this.reset),n.a.$on(n.j.APP_VIEW_CHANGED,this.reset)},mounted:function(){var t=this;this.$nextTick((function(){t.$data.isIOS&&t.$refs.video.addEventListener("webkitendfullscreen",(function(){document.fullScreenElement||document.webkitIsFullScreen||t.videoReset()}),!1)}))},beforeDestroy:function(){this.videoReset(!0)},methods:{reset:function(){this.videoReset()},videoReset:function(t){var e=this.$refs.video;e&&(this.$data.isPlaying=!1,e.pause(),e.loop=!1,e.muted=!0,e.currentTime=0,t&&(e.removeAttribute("src"),e.load()))},enterFullpage:function(){var t=this.$refs.video;t.requestFullscreen?t.requestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},onTapPoster:function(){this.$emit("tap:play-btn");var t=this.$refs.video;t.pause(),t.currentTime=0,t.muted=!1,t.loop=!0,t.play(),this.$data.isPlaying=!0,this.$data.isIOS&&this.enterFullpage()},onTapVideo:function(){this.$emit("tap:video"),this.videoReset()}}},v=(a(1809),Object(l.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"image",rawName:"v-image",value:t.poster,expression:"poster"}],staticClass:"video-fullpage-play",on:{click:function(e){return e.stopPropagation(),t.onTapPoster.apply(null,arguments)}}},[a("playMask",{attrs:{size:40,ts:"string"==typeof t.duration?0:1e3*t.duration,text:""+t.duration}}),a("transition",{attrs:{name:"showMask"}},[a("video",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],ref:"video",staticClass:"video",class:{fixed:!t.isIOS},attrs:{src:t.src,muted:"",autoplay:"","webkit-playsinline":"",playsinline:""},domProps:{muted:!0},on:{touchmove:function(t){t.preventDefault()},click:function(e){return e.stopPropagation(),e.preventDefault(),t.onTapVideo.apply(null,arguments)}}})])],1)}),[],!1,null,"018bb4be",null).exports),f={components:{VMask:u.a,videoAutoPlay:d,videoFullpagePlay:v},props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},videoPlayType:{type:Number,default:i.e.AUTO_PLAY},readAria:{type:Boolean}},data:function(){return{VideoPlayType:i.e}},computed:{activity:function(){return this.$props.item.activity?this.$props.item.activity:this.$props.item},bannerUrl:function(){return this.activity.image||this.activity.imageUrl||this.activity.thumbUrl}},methods:{onTapPlayBtn:function(){this.$emit("tap:play-btn",this.activity)},onTapThumb:function(){this.$emit("tap:thumb",this.activity)}}},h=(a(1810),Object(l.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-banner-box"},[t.activity.videoUrl?a("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"banner video",class:{thin:t.activity.isThumbThin},attrs:{"aria-label":t.readAria?"运营活动,视频":"",role:t.readAria?"button":"none"}},[t.videoPlayType===t.VideoPlayType.FULLPAGE_PLAY?a("video-fullpage-play",{key:t.item.docID+"video-fullpage-play",attrs:{src:t.activity.videoUrl,poster:t.bannerUrl,duration:t.activity.duration},on:{"tap:play-btn":t.onTapPlayBtn}}):a("video-auto-play",{key:t.item.docID+"video-auto-play",attrs:{src:t.activity.videoUrl,poster:t.bannerUrl}})],1):a("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}},{name:"image",rawName:"v-image",value:t.bannerUrl,expression:"bannerUrl"}],staticClass:"banner picture",class:{thin:t.activity.isThumbThin},attrs:{role:t.readAria?"button":"none","aria-label":t.readAria?"运营活动,图像":""},on:{click:t.onTapThumb}},[t.item.duration?a("v-mask",{attrs:{text:t.item.duration,like:!!t.item.likeNum}}):t._e()],1)])}),[],!1,null,"4ff18a3d",null));e.a=h.exports}}]);